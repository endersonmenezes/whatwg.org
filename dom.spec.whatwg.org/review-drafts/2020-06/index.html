<!doctype html><html lang="en">
 <head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="#3c790a" name="theme-color">
  <title>DOM Standard Review Draft June 2020</title>
  <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
  <link crossorigin href="https://resources.whatwg.org/review-draft.css" rel="stylesheet">
  <link crossorigin href="https://resources.whatwg.org/logo-dom-snapshot.svg" rel="icon">
  <meta content="Bikeshed version 40de15f9, updated Thu Jun 11 17:47:04 2020 -0700" name="generator">
<style>/* style-dfn-panel */

.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: #DDDDDD;
    color: black;
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: black; }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
 <body class="h-entry status-RD">
  <div class="head">
    <a class="logo" href="https://whatwg.org/"> <img alt="WHATWG" crossorigin height="100" src="https://resources.whatwg.org/logo-dom-snapshot.svg"> </a> 
   <hgroup>
    <h1 class="p-name no-ref allcaps" id="title">DOM</h1>
    <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Review Draft — Published <time class="dt-updated" datetime="2020-06-15">15 June 2020</time></span></h2>
   </hgroup>
   <details class="annoying-warning" open>
    <summary>This is a Review Draft of the standard</summary>
    <p> This is a Review Draft. It is published primarily for purposes of patent review by Workstream
      Participants; it mirrors the <a href="https://dom.spec.whatwg.org/">Living Standard</a> closely, redacting only
      text that is identified as "Objection Pending" or "Confirmation Pending". Developers should
      refer to the <a href="https://dom.spec.whatwg.org/">Living Standard</a> for the most
      current error corrections and other developments. </p>
    <p> For information regarding patent commitments, please see the <a href="https://whatwg.org/ipr-policy">IPR Policy</a> and <a href="https://github.com/whatwg/dom/labels/exclusion%20notices">exclusion notices</a>. </p>
    <p> Do not attempt to implement this version of the standard. Do not reference this version
      as authoritative in any way. Instead, see <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a> for
      the Living Standard. </p>
   </details>
  </div>
  <div class="p-summary">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>DOM defines a platform-neutral model for events, aborting activities, and node trees.</p>
  </div>
  <nav id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#goals"><span class="secno"></span> <span class="content">Goals</span></a>
    <li>
     <a href="#infrastructure"><span class="secno">1</span> <span class="content">Infrastructure</span></a>
     <ol class="toc">
      <li><a href="#trees"><span class="secno">1.1</span> <span class="content">Trees</span></a>
      <li><a href="#ordered-sets"><span class="secno">1.2</span> <span class="content">Ordered sets</span></a>
      <li><a href="#selectors"><span class="secno">1.3</span> <span class="content">Selectors</span></a>
      <li><a href="#namespaces"><span class="secno">1.4</span> <span class="content">Namespaces</span></a>
     </ol>
    <li>
     <a href="#events"><span class="secno">2</span> <span class="content">Events</span></a>
     <ol class="toc">
      <li><a href="#introduction-to-dom-events"><span class="secno">2.1</span> <span class="content">Introduction to "DOM Events"</span></a>
      <li><a href="#interface-event"><span class="secno">2.2</span> <span class="content">Interface <code class="idl"><span>Event</span></code></span></a>
      <li><a href="#interface-window-extensions"><span class="secno">2.3</span> <span class="content">Legacy extensions to the <code class="idl"><span>Window</span></code> interface</span></a>
      <li><a href="#interface-customevent"><span class="secno">2.4</span> <span class="content">Interface <code class="idl"><span>CustomEvent</span></code></span></a>
      <li><a href="#constructing-events"><span class="secno">2.5</span> <span class="content">Constructing events</span></a>
      <li><a href="#defining-event-interfaces"><span class="secno">2.6</span> <span class="content">Defining event interfaces</span></a>
      <li><a href="#interface-eventtarget"><span class="secno">2.7</span> <span class="content">Interface <code class="idl"><span>EventTarget</span></code></span></a>
      <li><a href="#observing-event-listeners"><span class="secno">2.8</span> <span class="content">Observing event listeners</span></a>
      <li><a href="#dispatching-events"><span class="secno">2.9</span> <span class="content">Dispatching events</span></a>
      <li><a href="#firing-events"><span class="secno">2.10</span> <span class="content">Firing events</span></a>
      <li><a href="#action-versus-occurance"><span class="secno">2.11</span> <span class="content">Action versus occurrence</span></a>
     </ol>
    <li>
     <a href="#aborting-ongoing-activities"><span class="secno">3</span> <span class="content">Aborting ongoing activities</span></a>
     <ol class="toc">
      <li><a href="#interface-abortcontroller"><span class="secno">3.1</span> <span class="content">Interface <code class="idl"><span>AbortController</span></code></span></a>
      <li><a href="#interface-AbortSignal"><span class="secno">3.2</span> <span class="content">Interface <code class="idl"><span>AbortSignal</span></code></span></a>
      <li><a href="#abortcontroller-api-integration"><span class="secno">3.3</span> <span class="content">Using <code class="idl"><span>AbortController</span></code> and <code class="idl"><span>AbortSignal</span></code> objects in
APIs</span></a>
     </ol>
    <li>
     <a href="#nodes"><span class="secno">4</span> <span class="content">Nodes</span></a>
     <ol class="toc">
      <li><a href="#introduction-to-the-dom"><span class="secno">4.1</span> <span class="content">Introduction to "The DOM"</span></a>
      <li>
       <a href="#node-trees"><span class="secno">4.2</span> <span class="content">Node tree</span></a>
       <ol class="toc">
        <li><a href="#document-trees"><span class="secno">4.2.1</span> <span class="content">Document tree</span></a>
        <li>
         <a href="#shadow-trees"><span class="secno">4.2.2</span> <span class="content">Shadow tree</span></a>
         <ol class="toc">
          <li><a href="#shadow-tree-slots"><span class="secno">4.2.2.1</span> <span class="content">Slots</span></a>
          <li><a href="#light-tree-slotables"><span class="secno">4.2.2.2</span> <span class="content">Slottables</span></a>
          <li><a href="#finding-slots-and-slotables"><span class="secno">4.2.2.3</span> <span class="content">Finding slots and slottables</span></a>
          <li><a href="#assigning-slotables-and-slots"><span class="secno">4.2.2.4</span> <span class="content">Assigning slottables and slots</span></a>
          <li><a href="#signaling-slot-change"><span class="secno">4.2.2.5</span> <span class="content">Signaling slot change</span></a>
         </ol>
        <li><a href="#mutation-algorithms"><span class="secno">4.2.3</span> <span class="content">Mutation algorithms</span></a>
        <li><a href="#interface-nonelementparentnode"><span class="secno">4.2.4</span> <span class="content">Mixin <code class="idl"><span>NonElementParentNode</span></code></span></a>
        <li><a href="#mixin-documentorshadowroot"><span class="secno">4.2.5</span> <span class="content">Mixin <code class="idl"><span>DocumentOrShadowRoot</span></code></span></a>
        <li><a href="#interface-parentnode"><span class="secno">4.2.6</span> <span class="content">Mixin <code class="idl"><span>ParentNode</span></code></span></a>
        <li><a href="#interface-nondocumenttypechildnode"><span class="secno">4.2.7</span> <span class="content">Mixin <code class="idl"><span>NonDocumentTypeChildNode</span></code></span></a>
        <li><a href="#interface-childnode"><span class="secno">4.2.8</span> <span class="content">Mixin <code class="idl"><span>ChildNode</span></code></span></a>
        <li><a href="#mixin-slotable"><span class="secno">4.2.9</span> <span class="content">Mixin <code class="idl"><span>Slottable</span></code></span></a>
        <li>
         <a href="#old-style-collections"><span class="secno">4.2.10</span> <span class="content">Old-style collections: <code class="idl"><span>NodeList</span></code> and <code class="idl"><span>HTMLCollection</span></code></span></a>
         <ol class="toc">
          <li><a href="#interface-nodelist"><span class="secno">4.2.10.1</span> <span class="content">Interface <code class="idl"><span>NodeList</span></code></span></a>
          <li><a href="#interface-htmlcollection"><span class="secno">4.2.10.2</span> <span class="content">Interface <code class="idl"><span>HTMLCollection</span></code></span></a>
         </ol>
       </ol>
      <li>
       <a href="#mutation-observers"><span class="secno">4.3</span> <span class="content">Mutation observers</span></a>
       <ol class="toc">
        <li><a href="#interface-mutationobserver"><span class="secno">4.3.1</span> <span class="content">Interface <code class="idl"><span>MutationObserver</span></code></span></a>
        <li><a href="#queueing-a-mutation-record"><span class="secno">4.3.2</span> <span class="content">Queuing a mutation record</span></a>
        <li><a href="#interface-mutationrecord"><span class="secno">4.3.3</span> <span class="content">Interface <code class="idl"><span>MutationRecord</span></code></span></a>
        <li><a href="#garbage-collection"><span class="secno">4.3.4</span> <span class="content">Garbage collection</span></a>
       </ol>
      <li><a href="#interface-node"><span class="secno">4.4</span> <span class="content">Interface <code class="idl"><span>Node</span></code></span></a>
      <li>
       <a href="#interface-document"><span class="secno">4.5</span> <span class="content">Interface <code class="idl"><span>Document</span></code></span></a>
       <ol class="toc">
        <li><a href="#interface-domimplementation"><span class="secno">4.5.1</span> <span class="content">Interface <code class="idl"><span>DOMImplementation</span></code></span></a>
       </ol>
      <li><a href="#interface-documenttype"><span class="secno">4.6</span> <span class="content">Interface <code class="idl"><span>DocumentType</span></code></span></a>
      <li><a href="#interface-documentfragment"><span class="secno">4.7</span> <span class="content">Interface <code class="idl"><span>DocumentFragment</span></code></span></a>
      <li><a href="#interface-shadowroot"><span class="secno">4.8</span> <span class="content">Interface <code class="idl"><span>ShadowRoot</span></code></span></a>
      <li>
       <a href="#interface-element"><span class="secno">4.9</span> <span class="content">Interface <code class="idl"><span>Element</span></code></span></a>
       <ol class="toc">
        <li><a href="#interface-namednodemap"><span class="secno">4.9.1</span> <span class="content">Interface <code class="idl"><span>NamedNodeMap</span></code></span></a>
        <li><a href="#interface-attr"><span class="secno">4.9.2</span> <span class="content">Interface <code class="idl"><span>Attr</span></code></span></a>
       </ol>
      <li><a href="#interface-characterdata"><span class="secno">4.10</span> <span class="content">Interface <code class="idl"><span>CharacterData</span></code></span></a>
      <li><a href="#interface-text"><span class="secno">4.11</span> <span class="content">Interface <code class="idl"><span>Text</span></code></span></a>
      <li><a href="#interface-cdatasection"><span class="secno">4.12</span> <span class="content">Interface <code class="idl"><span>CDATASection</span></code></span></a>
      <li><a href="#interface-processinginstruction"><span class="secno">4.13</span> <span class="content">Interface <code class="idl"><span>ProcessingInstruction</span></code></span></a>
      <li><a href="#interface-comment"><span class="secno">4.14</span> <span class="content">Interface <code class="idl"><span>Comment</span></code></span></a>
     </ol>
    <li>
     <a href="#ranges"><span class="secno">5</span> <span class="content">Ranges</span></a>
     <ol class="toc">
      <li><a href="#introduction-to-dom-ranges"><span class="secno">5.1</span> <span class="content">Introduction to "DOM Ranges"</span></a>
      <li><a href="#boundary-points"><span class="secno">5.2</span> <span class="content">Boundary points</span></a>
      <li><a href="#interface-abstractrange"><span class="secno">5.3</span> <span class="content">Interface <code class="idl"><span>AbstractRange</span></code></span></a>
      <li><a href="#interface-staticrange"><span class="secno">5.4</span> <span class="content">Interface <code class="idl"><span>StaticRange</span></code></span></a>
      <li><a href="#interface-range"><span class="secno">5.5</span> <span class="content">Interface <code class="idl"><span>Range</span></code></span></a>
     </ol>
    <li>
     <a href="#traversal"><span class="secno">6</span> <span class="content">Traversal</span></a>
     <ol class="toc">
      <li><a href="#interface-nodeiterator"><span class="secno">6.1</span> <span class="content">Interface <code class="idl"><span>NodeIterator</span></code></span></a>
      <li><a href="#interface-treewalker"><span class="secno">6.2</span> <span class="content">Interface <code class="idl"><span>TreeWalker</span></code></span></a>
      <li><a href="#interface-nodefilter"><span class="secno">6.3</span> <span class="content">Interface <code class="idl"><span>NodeFilter</span></code></span></a>
     </ol>
    <li>
     <a href="#sets"><span class="secno">7</span> <span class="content">Sets</span></a>
     <ol class="toc">
      <li><a href="#interface-domtokenlist"><span class="secno">7.1</span> <span class="content">Interface <code class="idl"><span>DOMTokenList</span></code></span></a>
     </ol>
    <li>
     <a href="#xpath"><span class="secno">8</span> <span class="content">XPath</span></a>
     <ol class="toc">
      <li><a href="#interface-xpathresult"><span class="secno">8.1</span> <span class="content">Interface <code class="idl"><span>XPathResult</span></code></span></a>
      <li><a href="#interface-xpathexpression"><span class="secno">8.2</span> <span class="content">Interface <code class="idl"><span>XPathExpression</span></code></span></a>
      <li><a href="#mixin-xpathevaluatorbase"><span class="secno">8.3</span> <span class="content">Mixin <code class="idl"><span>XPathEvaluatorBase</span></code></span></a>
      <li><a href="#interface-xpathevaluator"><span class="secno">8.4</span> <span class="content">Interface <code class="idl"><span>XPathEvaluator</span></code></span></a>
     </ol>
    <li>
     <a href="#historical"><span class="secno">9</span> <span class="content">Historical</span></a>
     <ol class="toc">
      <li><a href="#dom-events-changes"><span class="secno">9.1</span> <span class="content">DOM Events</span></a>
      <li><a href="#dom-core-changes"><span class="secno">9.2</span> <span class="content">DOM Core</span></a>
      <li><a href="#dom-ranges-changes"><span class="secno">9.3</span> <span class="content">DOM Ranges</span></a>
      <li><a href="#dom-traversal-changes"><span class="secno">9.4</span> <span class="content">DOM Traversal</span></a>
     </ol>
    <li><a href="#acks"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="no-num heading settled" id="goals"><span class="content">Goals</span></h2>
   <p>This specification standardizes the DOM. It does so as follows:</p>
   <ol>
    <li>
     <p>By consolidating <cite>DOM Level 3 Core</cite> <a href="#biblio-dom-level-3-core">[DOM-Level-3-Core]</a>, <cite>Element Traversal</cite> <a href="#biblio-elementtraversal">[ELEMENTTRAVERSAL]</a>, <cite>Selectors API Level 2</cite> <a href="#biblio-selectors-api2">[SELECTORS-API2]</a>, the
  "DOM Event Architecture" and "Basic Event Interfaces" chapters of <cite>DOM Level 3 Events</cite> <a href="#biblio-uievents-20031107">[uievents-20031107]</a> (specific types of events do not
  belong in the DOM Standard), and <cite>DOM Level 2 Traversal and Range</cite> <a href="#biblio-dom-level-2-traversal-range">[DOM-Level-2-Traversal-Range]</a>, and: </p>
     <ul class="brief">
      <li>Aligning them with the JavaScript ecosystem where possible. 
      <li>Aligning them with existing implementations. 
      <li>Simplifying them as much as possible. 
     </ul>
    <li>
     <p>By moving features from the HTML Standard <a href="#biblio-html">[HTML]</a> that make more sense to be
 specified as part of the DOM Standard. </p>
    <li>
     <p>By defining a replacement for the "Mutation Events" and
  "Mutation Name Event Types" chapters of <cite>DOM Level 3 Events</cite> <a href="#biblio-uievents-20031107">[uievents-20031107]</a> as the old model
  was problematic. </p>
     <p class="note no-backref" role="note">The old model is expected to be removed from implementations
  in due course. </p>
    <li>
     <p>By defining new features that simplify common DOM operations. </p>
   </ol>
   <h2 class="heading settled" id="infrastructure"><span class="secno">1. </span><span class="content">Infrastructure</span><span id="terminology"></span><span id="dependencies"></span></h2>
   <p>This specification depends on the Infra Standard. <a href="#biblio-infra">[INFRA]</a> </p>
   <p>Some of the terms used in this specification are defined in <cite>Encoding</cite>, <cite>Selectors</cite>, <cite>Web IDL</cite>, <cite>XML</cite>, and <cite>Namespaces in XML</cite>. <a href="#biblio-encoding">[ENCODING]</a> <a href="#biblio-selectors4">[SELECTORS4]</a> <a href="#biblio-webidl">[WEBIDL]</a> <a href="#biblio-xml">[XML]</a> <a href="#biblio-xml-names">[XML-NAMES]</a> </p>
   <p>The term <dfn id="context-object">context object</dfn> is an alias for <a href="https://heycam.github.io/webidl/#this" id="termref-for-">this</a>. </p>
   <p class="note no-backref" role="note">Usage of <a href="#context-object">context object</a> is deprecated in favor of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①">this</a>. </p>
   <p>When extensions are needed, the DOM Standard can be updated accordingly, or a new standard
can be written that hooks into the provided extensibility hooks for <dfn id="other-applicable-specifications">applicable specifications</dfn>. </p>
   <h3 class="heading settled" id="trees"><span class="secno">1.1. </span><span class="content">Trees</span></h3>
   <p>A <dfn id="concept-tree">tree</dfn> is a finite hierarchical tree structure. In <dfn id="concept-tree-order">tree order</dfn> is preorder, depth-first traversal of a <a href="#concept-tree">tree</a>. </p>
   <p>An object that <dfn id="concept-tree-participate">participates</dfn> in a <a href="#concept-tree">tree</a> has a <dfn id="concept-tree-parent">parent</dfn>, which is either
null or an object, and has <dfn id="concept-tree-child">children</dfn>, which is an <a href="https://infra.spec.whatwg.org/#ordered-set" id="termref-for-②">ordered set</a> of objects. An object <var>A</var> whose <a href="#concept-tree-parent">parent</a> is object <var>B</var> is a <a href="#concept-tree-child">child</a> of <var>B</var>. </p>
   <p>The <dfn id="concept-tree-root">root</dfn> of an object is itself, if its <a href="#concept-tree-parent">parent</a> is null, or else it is the <a href="#concept-tree-root">root</a> of its <a href="#concept-tree-parent">parent</a>. The <a href="#concept-tree-root">root</a> of a <a href="#concept-tree">tree</a> is any object <a href="#concept-tree-participate">participating</a> in that <a href="#concept-tree">tree</a> whose <a href="#concept-tree-parent">parent</a> is null. </p>
   <p>An object <var>A</var> is called a <dfn id="concept-tree-descendant">descendant</dfn> of an object <var>B</var>, if either <var>A</var> is a <a href="#concept-tree-child">child</a> of <var>B</var> or <var>A</var> is a <a href="#concept-tree-child">child</a> of an
object <var>C</var> that is a <a href="#concept-tree-descendant">descendant</a> of <var>B</var>.</p>
   <p>An <dfn id="concept-tree-inclusive-descendant">inclusive descendant</dfn> is
an object or one of its <a href="#concept-tree-descendant">descendants</a>.</p>
   <p>An object <var>A</var> is called an <dfn id="concept-tree-ancestor">ancestor</dfn> of an object <var>B</var> if and only if <var>B</var> is a <a href="#concept-tree-descendant">descendant</a> of <var>A</var>.</p>
   <p>An <dfn id="concept-tree-inclusive-ancestor">inclusive ancestor</dfn> is
an object or one of its <a href="#concept-tree-ancestor">ancestors</a>.</p>
   <p>An object <var>A</var> is called a <dfn id="concept-tree-sibling">sibling</dfn> of an object <var>B</var>, if and only if <var>B</var> and <var>A</var> share the same non-null <a href="#concept-tree-parent">parent</a>.</p>
   <p>An <dfn id="concept-tree-inclusive-sibling">inclusive sibling</dfn> is an
object or one of its <a href="#concept-tree-sibling">siblings</a>.</p>
   <p>An object <var>A</var> is <dfn id="concept-tree-preceding">preceding</dfn> an object <var>B</var> if <var>A</var> and <var>B</var> are in the
same <a href="#concept-tree">tree</a> and <var>A</var> comes
before <var>B</var> in <a href="#concept-tree-order">tree order</a>.</p>
   <p>An object <var>A</var> is <dfn id="concept-tree-following">following</dfn> an object <var>B</var> if <var>A</var> and <var>B</var> are in the
same <a href="#concept-tree">tree</a> and <var>A</var> comes
after <var>B</var> in <a href="#concept-tree-order">tree order</a>.</p>
   <p>The <dfn id="concept-tree-first-child">first child</dfn> of an object is its
first <a href="#concept-tree-child">child</a> or null if it has no <a href="#concept-tree-child">children</a>.</p>
   <p>The <dfn id="concept-tree-last-child">last child</dfn> of an object is its
last <a href="#concept-tree-child">child</a> or null if it has no <a href="#concept-tree-child">children</a>.</p>
   <p>The <dfn id="concept-tree-previous-sibling">previous sibling</dfn> of an
object is its first <a href="#concept-tree-preceding">preceding</a> <a href="#concept-tree-sibling">sibling</a> or null if it has no <a href="#concept-tree-preceding">preceding</a> <a href="#concept-tree-sibling">sibling</a>.</p>
   <p>The <dfn id="concept-tree-next-sibling">next sibling</dfn> of an
object is its first <a href="#concept-tree-following">following</a> <a href="#concept-tree-sibling">sibling</a> or null if it has no <a href="#concept-tree-following">following</a> <a href="#concept-tree-sibling">sibling</a>.</p>
   <p>The <dfn id="concept-tree-index">index</dfn> of an object is its number of <a href="#concept-tree-preceding">preceding</a> <a href="#concept-tree-sibling">siblings</a>, or 0 if it has none. </p>
   <h3 class="heading settled" id="ordered-sets"><span class="secno">1.2. </span><span class="content">Ordered sets</span></h3>
   <p>The <dfn id="concept-ordered-set-parser">ordered set parser</dfn> takes a string <var>input</var> and then runs these steps: </p>
   <ol>
    <li>
     <p>Let <var>inputTokens</var> be the result of <a href="https://infra.spec.whatwg.org/#split-on-ascii-whitespace" id="termref-for-③">splitting <var>input</var> on ASCII whitespace</a>. </p>
    <li>
     <p>Let <var>tokens</var> be a new <a href="https://infra.spec.whatwg.org/#ordered-set" id="termref-for-④">ordered set</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>token</var> in <var>inputTokens</var>, <a href="https://infra.spec.whatwg.org/#set-append" id="termref-for-⑤">append</a> <var>token</var> to <var>tokens</var>. </p>
    <li>Return <var>tokens</var>. 
   </ol>
   <p>The <dfn id="concept-ordered-set-serializer">ordered set serializer</dfn> takes a <var>set</var> and returns the <a href="https://infra.spec.whatwg.org/#string-concatenate" id="termref-for-⑥">concatenation</a> of <var>set</var> using U+0020 SPACE. </p>
   <h3 class="heading settled" id="selectors"><span class="secno">1.3. </span><span class="content">Selectors</span></h3>
   <p>To <dfn id="scope-match-a-selectors-string">scope-match a selectors string</dfn> <var>selectors</var> against a <var>node</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>s</var> be the result of <a href="https://drafts.csswg.org/selectors-4/#parse-a-selector" id="termref-for-⑦">parse a selector</a> <var>selectors</var>. <a href="#biblio-selectors4">[SELECTORS4]</a> </p>
    <li>
     <p>If <var>s</var> is failure, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-⑨">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⓪">DOMException</a></code>. </p>
    <li>
     <p>Return the result of <a href="https://drafts.csswg.org/selectors-4/#match-a-selector-against-a-tree" id="termref-for-①①">match a selector against a tree</a> with <var>s</var> and <var>node</var>’s <a href="#concept-tree-root">root</a> using <a href="https://drafts.csswg.org/selectors-4/#scoping-root" id="termref-for-①②">scoping root</a> <var>node</var>. <a href="#biblio-selectors4">[SELECTORS4]</a>. </p>
   </ol>
   <p class="note" role="note">Support for namespaces within selectors is not planned and will not be
added. </p>
   <h3 class="heading settled" id="namespaces"><span class="secno">1.4. </span><span class="content">Namespaces</span></h3>
   <p>To <dfn id="validate">validate</dfn> a <var>qualifiedName</var>, <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③">throw</a> an
"<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①④">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⑤">DOMException</a></code> if <var>qualifiedName</var> does not match
the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> or <code><a class="css" href="https://www.w3.org/TR/xml-names/#NT-QName">QName</a></code> production. </p>
   <p>To <dfn id="validate-and-extract">validate and extract</dfn> a <var>namespace</var> and <var>qualifiedName</var>,
run these steps:</p>
   <ol>
    <li>If <var>namespace</var> is the empty string, set it to null. 
    <li><a href="#validate">Validate</a> <var>qualifiedName</var>. 
    <li>Let <var>prefix</var> be null. 
    <li>Let <var>localName</var> be <var>qualifiedName</var>. 
    <li>If <var>qualifiedName</var> contains a "<code>:</code>" (U+003E), then split the
 string on it and set <var>prefix</var> to the part before and <var>localName</var> to
 the part after. 
    <li>If <var>prefix</var> is non-null and <var>namespace</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⑥">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#namespaceerror" id="termref-for-①⑦">NamespaceError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⑧">DOMException</a></code>. 
    <li>If <var>prefix</var> is "<code>xml</code>" and <var>namespace</var> is not the <a href="https://infra.spec.whatwg.org/#xml-namespace" id="termref-for-①⑨">XML namespace</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⓪">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#namespaceerror" id="termref-for-②①">NamespaceError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②②">DOMException</a></code>. 
    <li>If either <var>qualifiedName</var> or <var>prefix</var> is
 "<code>xmlns</code>" and <var>namespace</var> is not the <a href="https://infra.spec.whatwg.org/#xmlns-namespace" id="termref-for-②③">XMLNS namespace</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②④">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#namespaceerror" id="termref-for-②⑤">NamespaceError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⑥">DOMException</a></code>. 
    <li>If <var>namespace</var> is the <a href="https://infra.spec.whatwg.org/#xmlns-namespace" id="termref-for-②⑦">XMLNS namespace</a> and neither <var>qualifiedName</var> nor <var>prefix</var> is "<code>xmlns</code>", then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⑧">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#namespaceerror" id="termref-for-②⑨">NamespaceError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-③⓪">DOMException</a></code>. 
    <li>Return <var>namespace</var>, <var>prefix</var>, and <var>localName</var>. 
   </ol>
   <h2 class="heading settled" id="events"><span class="secno">2. </span><span class="content">Events</span></h2>
   <h3 class="heading settled" id="introduction-to-dom-events"><span class="secno">2.1. </span><span class="content">Introduction to "DOM Events"</span></h3>
   <p>Throughout the web platform <a href="#concept-event">events</a> are <a href="#concept-event-dispatch">dispatched</a> to objects to signal an
occurrence, such as network activity or user interaction. These objects implement the <code class="idl"><a href="#eventtarget">EventTarget</a></code> interface and can therefore add <a href="#concept-event-listener">event listeners</a> to observe <a href="#concept-event">events</a> by calling <code class="idl"><a href="#dom-eventtarget-addeventlistener">addEventListener()</a></code>:</p>
<pre class="lang-javascript">obj.addEventListener("load", imgFetched)

function imgFetched(ev) {
  // great success
  …
}
</pre>
   <p><a href="#concept-event-listener">Event listeners</a> can be removed
by utilizing the <code class="idl"><a href="#dom-eventtarget-removeeventlistener">removeEventListener()</a></code> method, passing the same arguments.</p>
   <p><a href="#concept-event">Events</a> are objects too and implement the <code class="idl"><a href="#event">Event</a></code> interface (or a derived interface). In the example above <var>ev</var> is the <a href="#concept-event">event</a>. <var>ev</var> is
passed as an argument to the <a href="#concept-event-listener">event listener</a>’s <a href="#event-listener-callback">callback</a> (typically a JavaScript Function as shown above). <a href="#concept-event-listener">Event listeners</a> key off the <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute value
("<code>load</code>" in the above example). The <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-target">target</a></code> attribute value returns the
object to which the <a href="#concept-event">event</a> was <a href="#concept-event-dispatch">dispatched</a> (<var>obj</var> above).</p>
   <p id="synthetic-events">Although <a href="#concept-event">events</a> are typically <a href="#concept-event-dispatch">dispatched</a> by the user agent
as the result of user interaction or the completion of some task, applications can <a href="#concept-event-dispatch">dispatch</a> <a href="#concept-event">events</a> themselves by using what are commonly known as synthetic events: </p>
<pre class="lang-javascript">// add an appropriate event listener
obj.addEventListener("cat", function(e) { process(e.detail) })

// create and dispatch the event
var event = new CustomEvent("cat", {"detail":{"hazcheeseburger":true}})
obj.dispatchEvent(event)
</pre>
   <p>Apart from signaling, <a href="#concept-event">events</a> are
sometimes also used to let an application control what happens next in an
operation. For instance as part of form submission an <a href="#concept-event">event</a> whose <code class="idl"><a href="#dom-event-type">type</a></code> attribute value is
"<code>submit</code>" is <a href="#concept-event-dispatch">dispatched</a>. If this <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code> method is
invoked, form submission will be terminated. Applications who wish to make
use of this functionality through <a href="#concept-event">events</a> <a href="#concept-event-dispatch">dispatched</a> by the application
(synthetic events) can make use of the return value of the <code class="idl"><a href="#dom-eventtarget-dispatchevent">dispatchEvent()</a></code> method:</p>
<pre class="lang-javascript">if(obj.dispatchEvent(event)) {
  // event was not canceled, time for some magic
  …
}
</pre>
   <p>When an <a href="#concept-event">event</a> is <a href="#concept-event-dispatch">dispatched</a> to an object that <a href="#concept-tree-participate">participates</a> in a <a href="#concept-tree">tree</a> (e.g. an <a href="#concept-element">element</a>), it can reach <a href="#concept-event-listener">event listeners</a> on that object’s <a href="#concept-tree-ancestor">ancestors</a> too. First all object’s <a href="#concept-tree-ancestor">ancestor</a> <a href="#concept-event-listener">event listeners</a> whose <a href="#event-listener-capture">capture</a> variable is set to true are invoked, in <a href="#concept-tree-order">tree order</a>. Second, object’s own <a href="#concept-event-listener">event listeners</a> are invoked. And
finally, and only if <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code> attribute value is true,
object’s <a href="#concept-tree-ancestor">ancestor</a> <a href="#concept-event-listener">event listeners</a> are invoked again,
but now in reverse <a href="#concept-tree-order">tree order</a>.</p>
   <p>Let’s look at an example of how <a href="#concept-event">events</a> work in a <a href="#concept-tree">tree</a>:</p>
<pre class="lang-markup">&lt;!doctype html>
&lt;html>
 &lt;head>
  &lt;title>Boring example&lt;/title>
 &lt;/head>
 &lt;body>
  &lt;p>Hello &lt;span id=x>world&lt;/span>!&lt;/p>
  &lt;script>
   function test(e) {
     debug(e.target, e.currentTarget, e.eventPhase)
   }
   document.addEventListener("hey", test, {capture: true})
   document.body.addEventListener("hey", test)
   var ev = new Event("hey", {bubbles:true})
   document.getElementById("x").dispatchEvent(ev)
  &lt;/script>
 &lt;/body>
&lt;/html>
</pre>
   <p>The <code>debug</code> function will be invoked twice. Each time the <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-target">target</a></code> attribute value will be the <code>span</code> <a href="#concept-element">element</a>. The
first time <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code> attribute’s
value will be the <a href="#concept-document">document</a>, the second
time the <code>body</code> <a href="#concept-element">element</a>. <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute’s value
switches from <code class="idl"><a href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code> to <code class="idl"><a href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>. If an <a href="#concept-event-listener">event listener</a> was registered for
the <code>span</code> <a href="#concept-element">element</a>, <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute’s value
would have been <code class="idl"><a href="#dom-event-at_target">AT_TARGET</a></code>.</p>
   <h3 class="heading settled" id="interface-event"><span class="secno">2.2. </span><span class="content">Interface <code class="idl"><a href="#event">Event</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-③①">Exposed</a>=(Window,Worker,AudioWorklet)]
interface <dfn class="idl-code" id="event"><code>Event</code></dfn> {
  <dfn class="idl-code" id="dom-event-event"><code>constructor</code></dfn>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③②">DOMString</a> <dfn class="idl-code" id="dom-event-event-type-eventinitdict-type"><code>type</code></dfn>, optional <a class="n" href="#dictdef-eventinit">EventInit</a> <dfn class="idl-code" id="dom-event-event-type-eventinitdict-eventinitdict"><code>eventInitDict</code></dfn> = {});

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③③">DOMString</a> <a class="idl-code" href="#dom-event-type">type</a>;
  readonly attribute <a class="n" href="#eventtarget">EventTarget</a>? <a class="idl-code" href="#dom-event-target">target</a>;
  readonly attribute <a class="n" href="#eventtarget">EventTarget</a>? <a class="idl-code" href="#dom-event-srcelement">srcElement</a>; // historical
  readonly attribute <a class="n" href="#eventtarget">EventTarget</a>? <a class="idl-code" href="#dom-event-currenttarget">currentTarget</a>;
  sequence&lt;<a class="n" href="#eventtarget">EventTarget</a>> <a class="idl-code" href="#dom-event-composedpath">composedPath</a>();

  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-③④">unsigned short</a> <a class="idl-code" href="#dom-event-none">NONE</a> = 0;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-③⑤">unsigned short</a> <a class="idl-code" href="#dom-event-capturing_phase">CAPTURING_PHASE</a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-③⑥">unsigned short</a> <a class="idl-code" href="#dom-event-at_target">AT_TARGET</a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-③⑦">unsigned short</a> <a class="idl-code" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a> = 3;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-③⑧">unsigned short</a> <a class="idl-code" href="#dom-event-eventphase">eventPhase</a>;

  void <a class="idl-code" href="#dom-event-stoppropagation">stopPropagation</a>();
           attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-③⑨">boolean</a> <a class="idl-code" href="#dom-event-cancelbubble">cancelBubble</a>; // historical alias of .stopPropagation
  void <a class="idl-code" href="#dom-event-stopimmediatepropagation">stopImmediatePropagation</a>();

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④⓪">boolean</a> <a class="idl-code" href="#dom-event-bubbles">bubbles</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④①">boolean</a> <a class="idl-code" href="#dom-event-cancelable">cancelable</a>;
           attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④②">boolean</a> <a class="idl-code" href="#dom-event-returnvalue">returnValue</a>;  // historical
  void <a class="idl-code" href="#dom-event-preventdefault">preventDefault</a>();
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④③">boolean</a> <a class="idl-code" href="#dom-event-defaultprevented">defaultPrevented</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④④">boolean</a> <a class="idl-code" href="#dom-event-composed">composed</a>;

  [<a class="idl-code" href="https://heycam.github.io/webidl/#LegacyUnforgeable" id="termref-for-④⑤">LegacyUnforgeable</a>] readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④⑥">boolean</a> <a class="idl-code" href="#dom-event-istrusted">isTrusted</a>;
  readonly attribute <a class="n" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="termref-for-④⑦">DOMHighResTimeStamp</a> <a class="idl-code" href="#dom-event-timestamp">timeStamp</a>;

  void <a class="idl-code" href="#dom-event-initevent">initEvent</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④⑧">DOMString</a> <dfn class="idl-code" id="dom-event-initevent-type-bubbles-cancelable-type"><code>type</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④⑨">boolean</a> <dfn class="idl-code" id="dom-event-initevent-type-bubbles-cancelable-bubbles"><code>bubbles</code></dfn> = false, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑤⓪">boolean</a> <dfn class="idl-code" id="dom-event-initevent-type-bubbles-cancelable-cancelable"><code>cancelable</code></dfn> = false); // historical
};

dictionary <dfn class="idl-code" id="dictdef-eventinit"><code>EventInit</code></dfn> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑤①">boolean</a> <dfn class="idl-code" id="dom-eventinit-bubbles"><code>bubbles</code></dfn> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑤②">boolean</a> <dfn class="idl-code" id="dom-eventinit-cancelable"><code>cancelable</code></dfn> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑤③">boolean</a> <dfn class="idl-code" id="dom-eventinit-composed"><code>composed</code></dfn> = false;
};
</pre>
   <p>An <code class="idl"><a href="#event">Event</a></code> object is simply named an <dfn id="concept-event">event</dfn>. It allows for
signaling that something has occurred, e.g., that an image has completed downloading.</p>
   <p>A <dfn id="potential-event-target">potential event target</dfn> is null or an <code class="idl"><a href="#eventtarget">EventTarget</a></code> object. </p>
   <p>An <a href="#concept-event">event</a> has an associated <dfn id="event-target">target</dfn> (a <a href="#potential-event-target">potential event target</a>). Unless stated otherwise it is null. </p>
   <p>An <a href="#concept-event">event</a> has an associated <dfn id="event-relatedtarget">relatedTarget</dfn> (a <a href="#potential-event-target">potential event target</a>). Unless stated otherwise it is null. </p>
   <p class="note" role="note">Other specifications use <a href="#event-relatedtarget">relatedTarget</a> to define a <code>relatedTarget</code> attribute. <a href="#biblio-uievents">[UIEVENTS]</a> </p>
   <p>An <a href="#concept-event">event</a> has an associated <dfn id="event-touch-target-list">touch target list</dfn> (a <a href="https://infra.spec.whatwg.org/#list" id="termref-for-⑤④">list</a> of zero or more <a href="#potential-event-target">potential event targets</a>). Unless stated otherwise it is the
empty list. </p>
   <p class="note" role="note">The <a href="#event-touch-target-list">touch target list</a> is for the exclusive use of defining the <code class="idl"><a href="https://w3c.github.io/touch-events/#idl-def-touchevent">TouchEvent</a></code> interface and related interfaces. <a href="#biblio-touch-events">[TOUCH-EVENTS]</a> </p>
   <p>An <a href="#concept-event">event</a> has an associated <dfn id="event-path">path</dfn>. A <a href="#event-path">path</a> is a <a href="https://infra.spec.whatwg.org/#list" id="termref-for-⑤⑤">list</a> of <a href="https://infra.spec.whatwg.org/#struct" id="termref-for-⑤⑥">structs</a>. Each <a href="https://infra.spec.whatwg.org/#struct" id="termref-for-⑤⑦">struct</a> consists of an <dfn id="event-path-invocation-target">invocation target</dfn> (an <code class="idl"><a href="#eventtarget">EventTarget</a></code> object), an <dfn id="event-path-invocation-target-in-shadow-tree">invocation-target-in-shadow-tree</dfn> (a boolean), a <dfn id="event-path-shadow-adjusted-target">shadow-adjusted target</dfn> (a <a href="#potential-event-target">potential event target</a>), a <dfn id="event-path-relatedtarget">relatedTarget</dfn> (a <a href="#potential-event-target">potential event target</a>), a <dfn id="event-path-touch-target-list">touch target list</dfn> (a <a href="https://infra.spec.whatwg.org/#list" id="termref-for-⑤⑧">list</a> of <a href="#potential-event-target">potential event targets</a>), a <dfn id="event-path-root-of-closed-tree">root-of-closed-tree</dfn> (a boolean), and
a <dfn id="event-path-slot-in-closed-tree">slot-in-closed-tree</dfn> (a boolean). A <a href="#event-path">path</a> is initially
the empty list.</p>
   <dl class="domintro">
    <dt><code><var>event</var> = new <a class="idl-code" href="#dom-event-event">Event</a>(<var>type</var> [, <var>eventInitDict</var>])</code> 
    <dd>Returns a new <var>event</var> whose <code class="idl"><a href="#dom-event-type">type</a></code> attribute value is set to <var>type</var>. The <var>eventInitDict</var> argument
 allows for setting the <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code> and <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> attributes via object
 members of the same name. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-type">type</a></code></code> 
    <dd>Returns the type of <var>event</var>, e.g.
 "<code>click</code>", "<code>hashchange</code>", or
 "<code>submit</code>". 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-target">target</a></code></code> 
    <dd>Returns the object to which <var>event</var> is <a href="#concept-event-dispatch">dispatched</a> (its <a href="#event-target">target</a>). 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code></code> 
    <dd>Returns the object whose <a href="#concept-event-listener">event listener</a>’s <a href="#event-listener-callback">callback</a> is currently being
 invoked. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-composedpath">composedPath()</a></code></code> 
    <dd>Returns the <a href="#event-path-invocation-target">invocation target</a> objects of <var>event</var>’s <a href="#event-path">path</a> (objects on which listeners will be invoked), except for any <a href="#concept-node">nodes</a> in <a href="#concept-shadow-tree">shadow trees</a> of which the <a href="#concept-shadow-root">shadow root</a>’s <a href="#shadowroot-mode">mode</a> is "<code>closed</code>" that are not reachable from <var>event</var>’s <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code>. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code></code> 
    <dd>Returns the <a href="#concept-event">event</a>’s phase, which is one of <code class="idl"><a href="#dom-event-none">NONE</a></code>, <code class="idl"><a href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code>, <code class="idl"><a href="#dom-event-at_target">AT_TARGET</a></code>, and <code class="idl"><a href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>. 
    <dt><code><var>event</var> . <a class="idl-code" href="#dom-event-stoppropagation">stopPropagation</a>()</code> 
    <dd>When <a href="#concept-event-dispatch">dispatched</a> in a <a href="#concept-tree">tree</a>, invoking this method prevents <var>event</var> from reaching any objects other than the current object. 
    <dt><code><var>event</var> . <a class="idl-code" href="#dom-event-stopimmediatepropagation">stopImmediatePropagation</a>()</code> 
    <dd>Invoking this method prevents <var>event</var> from reaching
 any registered <a href="#concept-event-listener">event listeners</a> after the current one finishes running and, when <a href="#concept-event-dispatch">dispatched</a> in a <a href="#concept-tree">tree</a>, also prevents <var>event</var> from reaching any
 other objects. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code></code> 
    <dd>Returns true or false depending on how <var>event</var> was initialized. True if <var>event</var> goes through its <a href="#event-target">target</a>’s <a href="#concept-tree-ancestor">ancestors</a> in reverse <a href="#concept-tree-order">tree order</a>, and false otherwise. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code></code> 
    <dd>Returns true or false depending on how <var>event</var> was initialized. Its return
 value does not always carry meaning, but true can indicate that part of the operation
 during which <var>event</var> was <a href="#concept-event-dispatch">dispatched</a>, can be canceled by invoking the <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code> method. 
    <dt><code><var>event</var> . <a class="idl-code" href="#dom-event-preventdefault">preventDefault</a>()</code> 
    <dd>If invoked when the <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> attribute value is true, and while executing a
 listener for the <var>event</var> with <code class="idl"><a href="#dom-addeventlisteneroptions-passive">passive</a></code> set to false, signals to
 the operation that caused <var>event</var> to be <a href="#concept-event-dispatch">dispatched</a> that it needs to be canceled. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-defaultprevented">defaultPrevented</a></code></code> 
    <dd>Returns true if <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code> was invoked successfully to indicate cancelation,
 and false otherwise. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-composed">composed</a></code></code> 
    <dd>Returns true or false depending on how <var>event</var> was initialized. True if <var>event</var> invokes listeners past a <code class="idl"><a href="#shadowroot">ShadowRoot</a></code> <a href="#boundary-point-node">node</a> that is the <a href="#concept-tree-root">root</a> of its <a href="#event-target">target</a>, and false otherwise. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code></code> 
    <dd>Returns true if <var>event</var> was <a href="#concept-event-dispatch">dispatched</a> by the user agent, and
 false otherwise. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-event-timestamp">timeStamp</a></code></code> 
    <dd>Returns the <var>event</var>’s timestamp as the number of milliseconds measured relative to
 the <a href="https://w3c.github.io/hr-time/#dfn-time-origin" id="termref-for-⑤⑨">time origin</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-event-type"><code>type</code></dfn> attribute must return the value it was
initialized to. When an <a href="#concept-event">event</a> is created the attribute must be initialized to the empty
string. </p>
   <p>The <dfn class="idl-code" id="dom-event-target"><code>target</code></dfn> attribute’s getter, when invoked, must
return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⓪">this</a>’s <a href="#event-target">target</a>. </p>
   <p>The <dfn class="idl-code" id="dom-event-srcelement"><code>srcElement</code></dfn> attribute’s getter, when invoked, must
return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥①">this</a>’s <a href="#event-target">target</a>. </p>
   <p>The <dfn class="idl-code" id="dom-event-currenttarget"><code>currentTarget</code></dfn> attribute must return the value it
was initialized to. When an <a href="#concept-event">event</a> is created the attribute must be initialized to null. </p>
   <p>The <dfn class="idl-code" id="dom-event-composedpath"><code>composedPath()</code></dfn> method, when invoked, must run these
steps: </p>
   <ol>
    <li>
     <p>Let <var>composedPath</var> be an empty <a href="https://infra.spec.whatwg.org/#list" id="termref-for-⑥②">list</a>. </p>
    <li>
     <p>Let <var>path</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥③">this</a>’s <a href="#event-path">path</a>. </p>
    <li>
     <p>If <var>path</var> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-⑥④">is empty</a>, then return <var>composedPath</var>. </p>
    <li>
     <p>Let <var>currentTarget</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑤">this</a>’s <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code> attribute value. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-append">Append</a> <var>currentTarget</var> to <var>composedPath</var>. </p>
    <li>
     <p>Let <var>currentTargetIndex</var> be 0. </p>
    <li>
     <p>Let <var>currentTargetHiddenSubtreeLevel</var> be 0. </p>
    <li>
     <p>Let <var>index</var> be <var>path</var>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-⑥⑥">size</a> − 1. </p>
    <li>
     <p>While <var>index</var> is greater than or equal to 0: </p>
     <ol>
      <li>
       <p>If <var>path</var>[<var>index</var>]'s <a href="#event-path-root-of-closed-tree">root-of-closed-tree</a> is true,
   then increase <var>currentTargetHiddenSubtreeLevel</var> by 1. </p>
      <li>
       <p>If <var>path</var>[<var>index</var>]'s <a href="#event-path-invocation-target">invocation target</a> is <var>currentTarget</var>, then set <var>currentTargetIndex</var> to <var>index</var> and <a href="https://infra.spec.whatwg.org/#iteration-break" id="termref-for-⑥⑦">break</a>. </p>
      <li>
       <p>If <var>path</var>[<var>index</var>]'s <a href="#event-path-slot-in-closed-tree">slot-in-closed-tree</a> is true,
   then decrease <var>currentTargetHiddenSubtreeLevel</var> by 1. </p>
      <li>
       <p>Decrease <var>index</var> by 1. </p>
     </ol>
    <li>
     <p>Let <var>currentHiddenLevel</var> and <var>maxHiddenLevel</var> be <var>currentTargetHiddenSubtreeLevel</var>. </p>
    <li>
     <p>Set <var>index</var> to <var>currentTargetIndex</var> − 1. </p>
    <li>
     <p>While <var>index</var> is greater than or equal to 0: </p>
     <ol>
      <li>
       <p>If <var>path</var>[<var>index</var>]'s <a href="#event-path-root-of-closed-tree">root-of-closed-tree</a> is true,
   then increase <var>currentHiddenLevel</var> by 1. </p>
      <li>
       <p>If <var>currentHiddenLevel</var> is less than or equal to <var>maxHiddenLevel</var>, then <a href="https://infra.spec.whatwg.org/#list-prepend" id="termref-for-⑥⑧">prepend</a> <var>path</var>[<var>index</var>]'s <a href="#event-path-invocation-target">invocation target</a> to <var>composedPath</var>. </p>
      <li>
       <p>If <var>path</var>[<var>index</var>]'s <a href="#event-path-slot-in-closed-tree">slot-in-closed-tree</a> is true,
    then: </p>
       <ol>
        <li>
         <p>Decrease <var>currentHiddenLevel</var> by 1. </p>
        <li>
         <p>If <var>currentHiddenLevel</var> is less than <var>maxHiddenLevel</var>, then set <var>maxHiddenLevel</var> to <var>currentHiddenLevel</var>. </p>
       </ol>
      <li>
       <p>Decrease <var>index</var> by 1. </p>
     </ol>
    <li>
     <p>Set <var>currentHiddenLevel</var> and <var>maxHiddenLevel</var> to <var>currentTargetHiddenSubtreeLevel</var>. </p>
    <li>
     <p>Set <var>index</var> to <var>currentTargetIndex</var> + 1. </p>
    <li>
     <p>While <var>index</var> is less than <var>path</var>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-⑥⑨">size</a>: </p>
     <ol>
      <li>
       <p>If <var>path</var>[<var>index</var>]'s <a href="#event-path-slot-in-closed-tree">slot-in-closed-tree</a> is true,
   then increase <var>currentHiddenLevel</var> by 1. </p>
      <li>
       <p>If <var>currentHiddenLevel</var> is less than or equal to <var>maxHiddenLevel</var>, then <a href="https://infra.spec.whatwg.org/#list-append">append</a> <var>path</var>[<var>index</var>]'s <a href="#event-path-invocation-target">invocation target</a> to <var>composedPath</var>. </p>
      <li>
       <p>If <var>path</var>[<var>index</var>]'s <a href="#event-path-root-of-closed-tree">root-of-closed-tree</a> is true,
    then: </p>
       <ol>
        <li>
         <p>Decrease <var>currentHiddenLevel</var> by 1. </p>
        <li>
         <p>If <var>currentHiddenLevel</var> is less than <var>maxHiddenLevel</var>, then set <var>maxHiddenLevel</var> to <var>currentHiddenLevel</var>. </p>
       </ol>
      <li>
       <p>Increase <var>index</var> by 1. </p>
     </ol>
    <li>
     <p>Return <var>composedPath</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-event-eventphase"><code>eventPhase</code></dfn> attribute must return the value it was
initialized to, which must be one of the following: </p>
   <dl>
    <dt><dfn class="idl-code" id="dom-event-none"><code>NONE</code></dfn> (numeric value 0) 
    <dd><a href="#concept-event">Events</a> not currently <a href="#concept-event-dispatch">dispatched</a> are in this phase. 
    <dt><dfn class="idl-code" id="dom-event-capturing_phase"><code>CAPTURING_PHASE</code></dfn> (numeric value 1) 
    <dd>When an <a href="#concept-event">event</a> is <a href="#concept-event-dispatch">dispatched</a> to an object that <a href="#concept-tree-participate">participates</a> in a <a href="#concept-tree">tree</a> it will be in this phase before it reaches its <a href="#event-target">target</a>. 
    <dt><dfn class="idl-code" id="dom-event-at_target"><code>AT_TARGET</code></dfn> (numeric value 2) 
    <dd>When an <a href="#concept-event">event</a> is <a href="#concept-event-dispatch">dispatched</a> it will be in this phase on its <a href="#event-target">target</a>. 
    <dt><dfn class="idl-code" id="dom-event-bubbling_phase"><code>BUBBLING_PHASE</code></dfn> (numeric value 3) 
    <dd>When an <a href="#concept-event">event</a> is <a href="#concept-event-dispatch">dispatched</a> to an object that <a href="#concept-tree-participate">participates</a> in a <a href="#concept-tree">tree</a> it will be in this phase after it reaches its <a href="#event-target">target</a>. 
   </dl>
   <p>Initially the attribute must be initialized to <code class="idl"><a href="#dom-event-none">NONE</a></code>. </p>
   <hr>
   <p>Each <a href="#concept-event">event</a> has the following associated flags that are all initially unset: </p>
   <ul>
    <li><dfn id="stop-propagation-flag">stop propagation flag</dfn> 
    <li><dfn id="stop-immediate-propagation-flag">stop immediate propagation flag</dfn> 
    <li><dfn id="canceled-flag">canceled flag</dfn> 
    <li><dfn id="in-passive-listener-flag">in passive listener flag</dfn> 
    <li><dfn id="composed-flag">composed flag</dfn> 
    <li><dfn id="initialized-flag">initialized flag</dfn> 
    <li><dfn id="dispatch-flag">dispatch flag</dfn> 
   </ul>
   <p>The <dfn class="idl-code" id="dom-event-stoppropagation"><code>stopPropagation()</code></dfn> method, when invoked, must set <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦⓪">this</a>’s <a href="#stop-propagation-flag">stop propagation flag</a>.</p>
   <p>The <dfn class="idl-code" id="dom-event-cancelbubble"><code>cancelBubble</code></dfn> attribute’s getter, when invoked,
must return true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦①">this</a>’s <a href="#stop-propagation-flag">stop propagation flag</a> is set, and false otherwise. </p>
   <p>The <code class="idl"><a href="#dom-event-cancelbubble">cancelBubble</a></code> attribute’s setter, when invoked, must set <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦②">this</a>’s <a href="#stop-propagation-flag">stop propagation flag</a> if the given value is true, and do nothing otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-event-stopimmediatepropagation"><code>stopImmediatePropagation()</code></dfn> method, when invoked,
must set <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦③">this</a>’s <a href="#stop-propagation-flag">stop propagation flag</a> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦④">this</a>’s <a href="#stop-immediate-propagation-flag">stop immediate propagation flag</a>.</p>
   <p>The <dfn class="idl-code" id="dom-event-bubbles"><code>bubbles</code></dfn> and <dfn class="idl-code" id="dom-event-cancelable"><code>cancelable</code></dfn> attributes must return the values they were
initialized to. </p>
   <p>To <dfn id="set-the-canceled-flag">set the canceled flag</dfn>, given an <a href="#concept-event">event</a> <var>event</var>, if <var>event</var>’s <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> attribute value is true and <var>event</var>’s <a href="#in-passive-listener-flag">in passive listener flag</a> is unset, then set <var>event</var>’s <a href="#canceled-flag">canceled flag</a>, and do
nothing otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-event-returnvalue"><code>returnValue</code></dfn> attribute’s getter, when invoked,
must return false if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦⑤">this</a>’s <a href="#canceled-flag">canceled flag</a> is set, and true otherwise. </p>
   <p>The <code class="idl"><a href="#dom-event-returnvalue">returnValue</a></code> attribute’s setter, when invoked, must <a href="#set-the-canceled-flag">set the canceled flag</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦⑥">this</a> if the given value is false, and do nothing otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-event-preventdefault"><code>preventDefault()</code></dfn> method, when invoked, must <a href="#set-the-canceled-flag">set the canceled flag</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦⑦">this</a>. </p>
   <p class="note no-backref" role="note">There are scenarios where invoking <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code> has no
effect. User agents are encouraged to log the precise cause in a developer console, to aid
debugging. </p>
   <p>The <dfn class="idl-code" id="dom-event-defaultprevented"><code>defaultPrevented</code></dfn> attribute’s getter, when
invoked, must return true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦⑧">this</a>’s <a href="#canceled-flag">canceled flag</a> is set, and false otherwise.</p>
   <p>The <dfn class="idl-code" id="dom-event-composed"><code>composed</code></dfn> attribute’s getter, when invoked, must
return true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦⑨">this</a>’s <a href="#composed-flag">composed flag</a> is set, and false otherwise.</p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-event-istrusted"><code>isTrusted</code></dfn> attribute must return the value it was
initialized to. When an <a href="#concept-event">event</a> is created the attribute must be initialized to false. </p>
   <p class="note no-backref" role="note"><code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> is a convenience that indicates whether an <a href="#concept-event">event</a> is <a href="#concept-event-dispatch">dispatched</a> by the user agent (as opposed to using <code class="idl"><a href="#dom-eventtarget-dispatchevent">dispatchEvent()</a></code>). The sole legacy exception is <code class="idl"><a href="https://html.spec.whatwg.org/multipage/interaction.html#dom-click" id="termref-for-⑧⓪">click()</a></code>, which causes
the user agent to dispatch an <a href="#concept-event">event</a> whose <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> attribute is initialized to
false. </p>
   <p>The <dfn class="idl-code" id="dom-event-timestamp"><code>timeStamp</code></dfn> attribute must return the value it was
initialized to. </p>
   <hr>
   <p>To <dfn id="concept-event-initialize">initialize</dfn> an <var>event</var>, with <var>type</var>, <var>bubbles</var>, and <var>cancelable</var>, run these steps: </p>
   <ol>
    <li>
     <p>Set <var>event</var>’s <a href="#initialized-flag">initialized flag</a>. </p>
    <li>
     <p>Unset <var>event</var>’s <a href="#stop-propagation-flag">stop propagation flag</a>, <a href="#stop-immediate-propagation-flag">stop immediate propagation flag</a>, and <a href="#canceled-flag">canceled flag</a>. </p>
    <li>
     <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> attribute to false. </p>
    <li>
     <p>Set <var>event</var>’s <a href="#event-target">target</a> to null. </p>
    <li>
     <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute to <var>type</var>. </p>
    <li>
     <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code> attribute to <var>bubbles</var>. </p>
    <li>
     <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> attribute to <var>cancelable</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-event-initevent"><code>initEvent(<var>type</var>, <var>bubbles</var>, <var>cancelable</var>)</code></dfn> method, when invoked, must run these steps:</p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧①">this</a>’s <a href="#dispatch-flag">dispatch flag</a> is set, then return. </p>
    <li>
     <p><a href="#concept-event-initialize">Initialize</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧②">this</a> with <var>type</var>, <var>bubbles</var>, and <var>cancelable</var>. </p>
   </ol>
   <p class="note no-backref" role="note">As <a href="#concept-event">events</a> have constructors <code class="idl"><a href="#dom-event-initevent">initEvent()</a></code> is redundant and
incapable of setting <code class="idl"><a href="#dom-event-composed">composed</a></code>. It has to be supported for legacy content. </p>
   <h3 class="heading settled" id="interface-window-extensions"><span class="secno">2.3. </span><span class="content">Legacy extensions to the <code class="idl"><a href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="termref-for-⑧③">Window</a></code> interface</span></h3>
<pre class="idl highlight def">partial interface <a class="idl-code" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="termref-for-⑧④">Window</a> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#Replaceable" id="termref-for-⑧⑤">Replaceable</a>] readonly attribute any <a class="idl-code" href="#dom-window-event">event</a>; // historical
};
</pre>
   <p>Each <code class="idl"><a href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="termref-for-⑧⑥">Window</a></code> object has an associated <dfn id="window-current-event">current event</dfn> (undefined or an <code class="idl"><a href="#event">Event</a></code> object). Unless stated otherwise it is undefined. </p>
   <p>The <dfn class="idl-code" id="dom-window-event"><code>event</code></dfn> attribute’s getter, when invoked, must
return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦">this</a>’s <a href="#window-current-event">current event</a>. </p>
   <p class="note" role="note">Web developers are strongly encouraged to instead rely on the <code class="idl"><a href="#event">Event</a></code> object passed
to event listeners, as that will result in more portable code. This attribute is not available in
workers or worklets, and is inaccurate for events dispatched in <a href="#concept-shadow-tree">shadow trees</a>. </p>
   <h3 class="heading settled" id="interface-customevent"><span class="secno">2.4. </span><span class="content">Interface <code class="idl"><a href="#customevent">CustomEvent</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑧⑧">Exposed</a>=(Window,Worker)]
interface <dfn class="idl-code" id="customevent"><code>CustomEvent</code></dfn> : <a class="n" href="#event">Event</a> {
  <dfn class="idl-code" id="dom-customevent-customevent"><code>constructor</code></dfn>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑧⑨">DOMString</a> <dfn class="idl-code" id="dom-customevent-customevent-type-eventinitdict-type"><code>type</code></dfn>, optional <a class="n" href="#dictdef-customeventinit">CustomEventInit</a> <dfn class="idl-code" id="dom-customevent-customevent-type-eventinitdict-eventinitdict"><code>eventInitDict</code></dfn> = {});

  readonly attribute any <a class="idl-code" href="#dom-customevent-detail">detail</a>;

  void <a class="idl-code" href="#dom-customevent-initcustomevent">initCustomEvent</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⓪">DOMString</a> <dfn class="idl-code" id="dom-customevent-initcustomevent-type-bubbles-cancelable-detail-type"><code>type</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑨①">boolean</a> <dfn class="idl-code" id="dom-customevent-initcustomevent-type-bubbles-cancelable-detail-bubbles"><code>bubbles</code></dfn> = false, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑨②">boolean</a> <dfn class="idl-code" id="dom-customevent-initcustomevent-type-bubbles-cancelable-detail-cancelable"><code>cancelable</code></dfn> = false, optional any <dfn class="idl-code" id="dom-customevent-initcustomevent-type-bubbles-cancelable-detail-detail"><code>detail</code></dfn> = null); // historical
};

dictionary <dfn class="idl-code" id="dictdef-customeventinit"><code>CustomEventInit</code></dfn> : <a class="n" href="#dictdef-eventinit">EventInit</a> {
  any <dfn class="idl-code" id="dom-customeventinit-detail"><code>detail</code></dfn> = null;
};
</pre>
   <p><a href="#concept-event">Events</a> using the <code class="idl"><a href="#customevent">CustomEvent</a></code> interface can be used to carry custom data.</p>
   <dl class="domintro">
    <dt><code><var>event</var> = new <a class="idl-code" href="#dom-customevent-customevent">CustomEvent</a>(<var>type</var> [, <var>eventInitDict</var>])</code> 
    <dd>Works analogously to the constructor for <code class="idl"><a href="#event">Event</a></code> except
 that the <var>eventInitDict</var> argument now
 allows for setting the <code class="idl"><a href="#dom-customevent-detail">detail</a></code> attribute
 too. 
    <dt><code><var>event</var> . <code class="idl"><a href="#dom-customevent-detail">detail</a></code></code> 
    <dd>Returns any custom data <var>event</var> was created with.
 Typically used for synthetic events. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-customevent-detail"><code>detail</code></dfn> attribute must return the value it
was initialized to. </p>
   <p>The <dfn class="idl-code" id="dom-customevent-initcustomevent"><code>initCustomEvent(<var>type</var>, <var>bubbles</var>, <var>cancelable</var>, <var>detail</var>)</code></dfn> method must, when invoked, run these steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨③">this</a>’s <a href="#dispatch-flag">dispatch flag</a> is set, then return. </p>
    <li>
     <p><a href="#concept-event-initialize">Initialize</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨④">this</a> with <var>type</var>, <var>bubbles</var>, and <var>cancelable</var>. </p>
    <li>
     <p>Set <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⑤">this</a>’s <code class="idl"><a href="#dom-customevent-detail">detail</a></code> attribute to <var>detail</var>. </p>
   </ol>
   <h3 class="heading settled" id="constructing-events"><span class="secno">2.5. </span><span class="content">Constructing events</span></h3>
   <p><a href="#other-applicable-specifications">Specifications</a> may define <dfn id="concept-event-constructor-ext">event constructing steps</dfn> for all or some <a href="#concept-event">events</a>. The algorithm is passed an <var>event</var> as indicated in the <a href="#inner-event-creation-steps">inner event creation steps</a>.</p>
   <p class="note" role="note">This construct can be used by <code class="idl"><a href="#event">Event</a></code> subclasses that have a more complex structure
than a simple 1:1 mapping between their initializing dictionary members and IDL attributes. </p>
   <p>When a <dfn id="concept-event-constructor">constructor</dfn> of the <code class="idl"><a href="#event">Event</a></code> interface, or of an interface that inherits from the <code class="idl"><a href="#event">Event</a></code> interface, is invoked, these steps
must be run, given the arguments <var>type</var> and <var>eventInitDict</var>: </p>
   <ol>
    <li>
     <p>Let <var>event</var> be the result of running the <a href="#inner-event-creation-steps">inner event creation steps</a> with
 this interface, null, now, and <var>eventInitDict</var>. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute to <var>type</var>. </p>
    <li>
     <p>Return <var>event</var>. </p>
   </ol>
   <p>To <dfn id="concept-event-create">create an event</dfn> using <var>eventInterface</var>, which must be either <code class="idl"><a href="#event">Event</a></code> or an interface that inherits from
it, and optionally given a <a href="https://tc39.github.io/ecma262/#realm" id="termref-for-⑨⑥">Realm</a> <var>realm</var>, run these steps:</p>
   <ol>
    <li>
     <p>If <var>realm</var> is not given, then set it to null. </p>
    <li>
     <p>Let <var>dictionary</var> be the result of <a href="https://heycam.github.io/webidl/#dfn-convert-ecmascript-to-idl-value" id="termref-for-⑨⑦">converting</a> the JavaScript value undefined to the dictionary type accepted by <var>eventInterface</var>’s
  constructor. (This dictionary type will either be <code class="idl"><a href="#dictdef-eventinit">EventInit</a></code> or a dictionary that inherits from
  it.) </p>
     <p class="XXX">This does not work if members are required; see <a href="https://github.com/whatwg/dom/issues/600">whatwg/dom#600</a>. </p>
    <li>
     <p>Let <var>event</var> be the result of running the <a href="#inner-event-creation-steps">inner event creation steps</a> with <var>eventInterface</var>, <var>realm</var>, the time of the occurrence that the event is
  signaling, and <var>dictionary</var>. </p>
     <p class="example" id="example-timestamp-initialization">In macOS the time of the occurrence for input
  actions is available via the <code>timestamp</code> property of <code>NSEvent</code> objects. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> attribute to true. </p>
    <li>
     <p>Return <var>event</var>. </p>
   </ol>
   <p class="note" role="note"><a href="#concept-event-create">Create an event</a> is meant to be used by other specifications which need to
separately <a href="#concept-event-create">create</a> and <a href="#concept-event-dispatch">dispatch</a> events, instead of simply <a href="#concept-event-fire">firing</a> them. It ensures the event’s attributes are initialized to the
correct defaults.</p>
   <p>The <dfn id="inner-event-creation-steps">inner event creation steps</dfn>, given an <var>interface</var>, <var>realm</var>, <var>time</var>, and <var>dictionary</var>, are as follows:</p>
   <ol>
    <li>
     <p>Let <var>event</var> be the result of creating a new object using <var>eventInterface</var>. If <var>realm</var> is non-null, then use that Realm; otherwise, use the default behavior defined in
  Web IDL. </p>
     <p class="XXX">As of the time of this writing Web IDL does not yet define any default behavior;
  see <a href="https://github.com/heycam/webidl/issues/135">heycam/webidl#135</a>. </p>
    <li>
     <p>Set <var>event</var>’s <a href="#initialized-flag">initialized flag</a>. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-timestamp">timeStamp</a></code> attribute to a <code class="idl"><a href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="termref-for-⑨⑧">DOMHighResTimeStamp</a></code> representing the high resolution time from the <a href="https://w3c.github.io/hr-time/#dfn-time-origin" id="termref-for-⑨⑨">time origin</a> to <var>time</var>. </p>
     <p class="warning">User agents should set a minimum resolution of <var>event</var>’s <code class="idl"><a href="#dom-event-timestamp">timeStamp</a></code> attribute to 5 microseconds following the existing <a href="https://w3c.github.io/hr-time/#clock-resolution" id="termref-for-①⓪⓪">clock resolution</a> recommendation. <a href="#biblio-hr-time">[HR-TIME]</a> </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#map-iterate" id="termref-for-①⓪①">For each</a> <var>member</var> → <var>value</var> in <var>dictionary</var>, if <var>event</var> has an attribute whose <a href="https://heycam.github.io/webidl/#dfn-identifier" id="termref-for-①⓪②">identifier</a> is <var>member</var>, then
 initialize that attribute to <var>value</var>. </p>
    <li>
     <p>Run the <a href="#concept-event-constructor-ext">event constructing steps</a> with <var>event</var>. </p>
    <li>
     <p>Return <var>event</var>. </p>
   </ol>
   <h3 class="heading settled" id="defining-event-interfaces"><span class="secno">2.6. </span><span class="content">Defining event interfaces</span></h3>
   <p>In general, when defining a new interface that inherits from <code class="idl"><a href="#event">Event</a></code> please always ask
feedback from the <a href="https://whatwg.org/">WHATWG</a> or the <a href="https://www.w3.org/2008/webapps/">W3C WebApps WG</a> community.</p>
   <p>The <code class="idl"><a href="#customevent">CustomEvent</a></code> interface can be used as starting point.
However, do not introduce any <code>init<var>*</var>Event()</code> methods as they are redundant with constructors. Interfaces that inherit
from the <code class="idl"><a href="#event">Event</a></code> interface that have such a method only have it
for historical reasons.</p>
   <h3 class="heading settled" id="interface-eventtarget"><span class="secno">2.7. </span><span class="content">Interface <code class="idl"><a href="#eventtarget">EventTarget</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪③">Exposed</a>=(Window,Worker,AudioWorklet)]
interface <dfn class="idl-code" id="eventtarget"><code>EventTarget</code></dfn> {
  <a class="idl-code" href="#dom-eventtarget-eventtarget">constructor</a>();

  void <a class="idl-code" href="#dom-eventtarget-addeventlistener">addEventListener</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪④">DOMString</a> <dfn class="idl-code" id="dom-eventtarget-addeventlistener-type-callback-options-type"><code>type</code></dfn>, <a class="n" href="#callbackdef-eventlistener">EventListener</a>? <dfn class="idl-code" id="dom-eventtarget-addeventlistener-type-callback-options-callback"><code>callback</code></dfn>, optional (<a class="n" href="#dictdef-addeventlisteneroptions">AddEventListenerOptions</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑤">boolean</a>) <dfn class="idl-code" id="dom-eventtarget-addeventlistener-type-callback-options-options"><code>options</code></dfn> = {});
  void <a class="idl-code" href="#dom-eventtarget-removeeventlistener">removeEventListener</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪⑥">DOMString</a> <dfn class="idl-code" id="dom-eventtarget-removeeventlistener-type-callback-options-type"><code>type</code></dfn>, <a class="n" href="#callbackdef-eventlistener">EventListener</a>? <dfn class="idl-code" id="dom-eventtarget-removeeventlistener-type-callback-options-callback"><code>callback</code></dfn>, optional (<a class="n" href="#dictdef-eventlisteneroptions">EventListenerOptions</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑦">boolean</a>) <dfn class="idl-code" id="dom-eventtarget-removeeventlistener-type-callback-options-options"><code>options</code></dfn> = {});
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑧">boolean</a> <a class="idl-code" href="#dom-eventtarget-dispatchevent">dispatchEvent</a>(<a class="n" href="#event">Event</a> <dfn class="idl-code" id="dom-eventtarget-dispatchevent-event-event"><code>event</code></dfn>);
};

callback interface <dfn class="idl-code" id="callbackdef-eventlistener"><code>EventListener</code></dfn> {
  void <dfn class="idl-code" id="dom-eventlistener-handleevent"><code>handleEvent</code></dfn>(<a class="n" href="#event">Event</a> <dfn class="idl-code" id="dom-eventlistener-handleevent-event-event"><code>event</code></dfn>);
};

dictionary <dfn class="idl-code" id="dictdef-eventlisteneroptions"><code>EventListenerOptions</code></dfn> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑨">boolean</a> <dfn class="idl-code" id="dom-eventlisteneroptions-capture"><code>capture</code></dfn> = false;
};

dictionary <dfn class="idl-code" id="dictdef-addeventlisteneroptions"><code>AddEventListenerOptions</code></dfn> : <a class="n" href="#dictdef-eventlisteneroptions">EventListenerOptions</a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①①⓪">boolean</a> <dfn class="idl-code" id="dom-addeventlisteneroptions-passive"><code>passive</code></dfn> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①①①">boolean</a> <dfn class="idl-code" id="dom-addeventlisteneroptions-once"><code>once</code></dfn> = false;
};
</pre>
   <p>An <code class="idl"><a href="#eventtarget">EventTarget</a></code> object represents a target to which an <a href="#concept-event">event</a> can be <a href="#concept-event-dispatch">dispatched</a> when something has occurred. </p>
   <p>Each <code class="idl"><a href="#eventtarget">EventTarget</a></code> object has an associated <dfn id="eventtarget-event-listener-list">event listener list</dfn> (a <a href="https://infra.spec.whatwg.org/#list" id="termref-for-①①②">list</a> of zero or more <a href="#concept-event-listener">event listeners</a>). It is initially the empty list. </p>
   <p>An <dfn id="concept-event-listener">event listener</dfn> can be used to observe a specific <a href="#concept-event">event</a> and consists of: </p>
   <ul class="brief">
    <li><dfn id="event-listener-type">type</dfn> (a string) 
    <li><dfn id="event-listener-callback">callback</dfn> (null or an <code class="idl"><a href="#callbackdef-eventlistener">EventListener</a></code> object) 
    <li><dfn id="event-listener-capture">capture</dfn> (a boolean, initially false) 
    <li><dfn id="event-listener-passive">passive</dfn> (a boolean, initially false) 
    <li><dfn id="event-listener-once">once</dfn> (a boolean, initially false) 
    <li><dfn id="event-listener-removed">removed</dfn> (a boolean for bookkeeping purposes, initially false) 
   </ul>
   <p class="note no-backref" role="note">Although <a href="#event-listener-callback">callback</a> is an <code class="idl"><a href="#callbackdef-eventlistener">EventListener</a></code> object, an <a href="#concept-event-listener">event listener</a> is a broader concept as can be seen above. </p>
   <p>Each <code class="idl"><a href="#eventtarget">EventTarget</a></code> object also has an associated <dfn id="get-the-parent">get the parent</dfn> algorithm,
which takes an <a href="#concept-event">event</a> <var>event</var>, and returns an <code class="idl"><a href="#eventtarget">EventTarget</a></code> object. Unless
specified otherwise it returns null. </p>
   <p class="note no-backref" role="note"><a href="#concept-node">Nodes</a>, <a href="#concept-shadow-root">shadow roots</a>, and <a href="#concept-document">documents</a> override the <a href="#get-the-parent">get the parent</a> algorithm. </p>
   <p>Each <code class="idl"><a href="#eventtarget">EventTarget</a></code> object can have an associated <dfn id="eventtarget-activation-behavior">activation behavior</dfn> algorithm. The <a href="#eventtarget-activation-behavior">activation behavior</a> algorithm is passed an <a href="#concept-event">event</a>, as indicated in the <a href="#concept-event-dispatch">dispatch</a> algorithm.</p>
   <p class="note no-backref" role="note">This exists because user agents perform certain actions for certain <code class="idl"><a href="#eventtarget">EventTarget</a></code> objects, e.g., the <code><a href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element" id="termref-for-①①③">area</a></code> element, in response to synthetic <code class="idl"><a href="https://www.w3.org/TR/uievents/#mouseevent" id="termref-for-①①④">MouseEvent</a></code> <a href="#concept-event">events</a> whose <code class="idl"><a href="#dom-event-type">type</a></code> attribute is <code>click</code>. Web compatibility prevented it
from being removed and it is now the enshrined way of defining an activation of something. <a href="#biblio-html">[HTML]</a> </p>
   <p>Each <code class="idl"><a href="#eventtarget">EventTarget</a></code> object that has <a href="#eventtarget-activation-behavior">activation behavior</a>, can additionally
have both (not either) a <dfn id="eventtarget-legacy-pre-activation-behavior">legacy-pre-activation behavior</dfn> algorithm
and a <dfn id="eventtarget-legacy-canceled-activation-behavior">legacy-canceled-activation behavior</dfn> algorithm. </p>
   <p class="note no-backref" role="note">These algorithms only exist for checkbox and radio <code><a href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="termref-for-①①⑤">input</a></code> elements and
are not to be used for anything else. <a href="#biblio-html">[HTML]</a> </p>
   <dl class="domintro">
    <dt><code><var>target</var> = new <a class="idl-code" href="#dom-eventtarget-eventtarget">EventTarget</a>();</code> 
    <dd>
     <p>Creates a new <code class="idl"><a href="#eventtarget">EventTarget</a></code> object, which can be used by developers to <a href="#concept-event-dispatch">dispatch</a> and
 listen for <a href="#concept-event">events</a>. </p>
    <dt><code><var>target</var> . <a class="idl-code" href="#dom-eventtarget-addeventlistener">addEventListener</a>(<var>type</var>, <var>callback</var> [, <var>options</var>])</code> 
    <dd>
     <p>Appends an <a href="#concept-event-listener">event listener</a> for <a href="#concept-event">events</a> whose <code class="idl"><a href="#dom-event-type">type</a></code> attribute value is <var>type</var>. The <var>callback</var> argument sets the <a href="#event-listener-callback">callback</a> that will be invoked when the <a href="#concept-event">event</a> is <a href="#concept-event-dispatch">dispatched</a>. </p>
     <p>The <var>options</var> argument sets listener-specific options. For compatibility this can be a
  boolean, in which case the method behaves exactly as if the value was specified as <var>options</var>’s <code class="idl"><a href="#dom-eventlisteneroptions-capture">capture</a></code>. </p>
     <p>When set to true, <var>options</var>’s <code class="idl"><a href="#dom-eventlisteneroptions-capture">capture</a></code> prevents <a href="#event-listener-callback">callback</a> from being invoked when the <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute value is <code class="idl"><a href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>. When false (or not present), <a href="#event-listener-callback">callback</a> will not be invoked when <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute value is <code class="idl"><a href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code>. Either way, <a href="#event-listener-callback">callback</a> will be invoked if <a href="#concept-event">event</a>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute value is <code class="idl"><a href="#dom-event-at_target">AT_TARGET</a></code>. </p>
     <p>When set to true, <var>options</var>’s <code class="idl"><a href="#dom-addeventlisteneroptions-passive">passive</a></code> indicates that the <a href="#event-listener-callback">callback</a> will not cancel the event by invoking <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code>. This is used to enable performance optimizations described in <a href="#observing-event-listeners">§ 2.8 Observing event listeners</a>. </p>
     <p>When set to true, <var>options</var>’s <code class="idl"><a href="#dom-addeventlisteneroptions-once">once</a></code> indicates that the <a href="#event-listener-callback">callback</a> will only be invoked once after which the event listener will
  be removed. </p>
     <p>The <a href="#concept-event-listener">event listener</a> is appended to <var>target</var>’s <a href="#eventtarget-event-listener-list">event listener list</a> and is not appended if it has the same <a href="#event-listener-type">type</a>, <a href="#event-listener-callback">callback</a>, and <a href="#event-listener-capture">capture</a>. </p>
    <dt><code><var>target</var> . <a class="idl-code" href="#dom-eventtarget-removeeventlistener">removeEventListener</a>(<var>type</var>, <var>callback</var> [, <var>options</var>])</code> 
    <dd>
     <p>Removes the <a href="#concept-event-listener">event listener</a> in <var>target</var>’s <a href="#eventtarget-event-listener-list">event listener list</a> with the same <var>type</var>, <var>callback</var>, and <var>options</var>. </p>
    <dt><code><var>target</var> . <a class="idl-code" href="#dom-eventtarget-dispatchevent">dispatchEvent</a>(<var>event</var>)</code> 
    <dd>
     <p><a href="#concept-event-dispatch">Dispatches</a> a synthetic event <var>event</var> to <var>target</var> and returns true
 if either <var>event</var>’s <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> attribute value is false or its <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code> method was not invoked, and false otherwise. </p>
   </dl>
   <p>To <dfn id="concept-flatten-options">flatten</dfn> <var>options</var>, run these
steps: </p>
   <ol>
    <li>
     <p>If <var>options</var> is a boolean, then return <var>options</var>. </p>
    <li>
     <p>Return <var>options</var>’s <code><code class="idl"><a href="#dom-eventlisteneroptions-capture">capture</a></code></code>. </p>
   </ol>
   <p>To <dfn id="event-flatten-more">flatten more</dfn> <var>options</var>, run these
steps: </p>
   <ol>
    <li>
     <p>Let <var>capture</var> be the result of <a href="#concept-flatten-options">flattening</a> <var>options</var>. </p>
    <li>
     <p>Let <var>once</var> and <var>passive</var> be false. </p>
    <li>
     <p>If <var>options</var> is a dictionary, then set <var>passive</var> to <var>options</var>’s <code><code class="idl"><a href="#dom-addeventlisteneroptions-passive">passive</a></code></code> and <var>once</var> to <var>options</var>’s <code><code class="idl"><a href="#dom-addeventlisteneroptions-once">once</a></code></code>. </p>
    <li>
     <p>Return <var>capture</var>, <var>passive</var>, and <var>once</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-eventtarget-eventtarget"><code>EventTarget()</code></dfn> constructor, when invoked,
must return a new <code class="idl"><a href="#eventtarget">EventTarget</a></code>. </p>
   <p class="note" role="note">Because of the defaults stated elsewhere, the returned <code class="idl"><a href="#eventtarget">EventTarget</a></code>'s <a href="#get-the-parent">get the parent</a> algorithm will return null, and it will have no <a href="#eventtarget-activation-behavior">activation behavior</a>, <a href="#eventtarget-legacy-pre-activation-behavior">legacy-pre-activation behavior</a>, or <a href="#eventtarget-legacy-canceled-activation-behavior">legacy-canceled-activation behavior</a>. </p>
   <p class="note" role="note">In the future we could allow custom <a href="#get-the-parent">get the parent</a> algorithms. Let us know
if this would be useful for your programs. For now, all author-created <code class="idl"><a href="#eventtarget">EventTarget</a></code>s do not
participate in a tree structure.</p>
   <p>To <dfn id="add-an-event-listener">add an event listener</dfn>, given an <code class="idl"><a href="#eventtarget">EventTarget</a></code> object <var>eventTarget</var> and an <a href="#concept-event-listener">event listener</a> <var>listener</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>eventTarget</var> is a <code class="idl"><a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="termref-for-①①⑥">ServiceWorkerGlobalScope</a></code> object, its <a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope-service-worker" id="termref-for-①①⑦">service worker</a>’s <a href="https://w3c.github.io/ServiceWorker/#dfn-script-resource" id="termref-for-①①⑧">script resource</a>’s <a href="https://w3c.github.io/ServiceWorker/#dfn-has-ever-been-evaluated-flag" id="termref-for-①①⑨">has ever been evaluated flag</a> is set, and <var>listener</var>’s <a href="#event-listener-type">type</a> matches the <code class="idl"><a href="#dom-event-type">type</a></code> attribute value of any of the <a href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-events" id="termref-for-①②⓪">service worker events</a>, then <a href="https://console.spec.whatwg.org/#report-a-warning-to-the-console" id="termref-for-①②①">report a warning to the console</a> that this might not give
 the expected results. <a href="#biblio-service-workers">[SERVICE-WORKERS]</a> </p>
    <li>
     <p>If <var>listener</var>’s <a href="#event-listener-callback">callback</a> is null, then return. </p>
    <li>
     <p>If <var>eventTarget</var>’s <a href="#eventtarget-event-listener-list">event listener list</a> does not <a href="https://infra.spec.whatwg.org/#list-contain" id="termref-for-①②②">contain</a> an <a href="#concept-event-listener">event listener</a> whose <a href="#event-listener-type">type</a> is <var>listener</var>’s <a href="#event-listener-type">type</a>, <a href="#event-listener-callback">callback</a> is <var>listener</var>’s <a href="#event-listener-callback">callback</a>, and <a href="#event-listener-capture">capture</a> is <var>listener</var>’s <a href="#event-listener-capture">capture</a>, then <a href="https://infra.spec.whatwg.org/#list-append">append</a> <var>listener</var> to <var>eventTarget</var>’s <a href="#eventtarget-event-listener-list">event listener list</a>. </p>
   </ol>
   <p class="note" role="note">The <a href="#add-an-event-listener">add an event listener</a> concept exists to ensure <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="termref-for-①②③">event handlers</a> use
the same code path. <a href="#biblio-html">[HTML]</a> </p>
   <p>The <dfn class="idl-code" id="dom-eventtarget-addeventlistener"><code>addEventListener(<var>type</var>, <var>callback</var>, <var>options</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>capture</var>, <var>passive</var>, and <var>once</var> be the result of <a href="#event-flatten-more">flattening more</a> <var>options</var>. </p>
    <li>
     <p><a href="#add-an-event-listener">Add an event listener</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②④">this</a> and an <a href="#concept-event-listener">event listener</a> whose <a href="#event-listener-type">type</a> is <var>type</var>, <a href="#event-listener-callback">callback</a> is <var>callback</var>, <a href="#event-listener-capture">capture</a> is <var>capture</var>, <a href="#event-listener-passive">passive</a> is <var>passive</var>, and <a href="#event-listener-once">once</a> is <var>once</var>. </p>
   </ol>
   <p>To <dfn id="remove-an-event-listener">remove an event listener</dfn>, given an <code class="idl"><a href="#eventtarget">EventTarget</a></code> object <var>eventTarget</var> and an <a href="#concept-event-listener">event listener</a> <var>listener</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>eventTarget</var> is a <code class="idl"><a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="termref-for-①②⑤">ServiceWorkerGlobalScope</a></code> object and its <a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope-service-worker" id="termref-for-①②⑥">service worker</a>’s <a href="https://w3c.github.io/ServiceWorker/#dfn-set-of-event-types-to-handle" id="termref-for-①②⑦">set of event types to handle</a> contains <var>type</var>, then <a href="https://console.spec.whatwg.org/#report-a-warning-to-the-console" id="termref-for-①②⑧">report a warning to the console</a> that this might not give the expected results. <a href="#biblio-service-workers">[SERVICE-WORKERS]</a> </p>
    <li>
     <p>Set <var>listener</var>’s <a href="#event-listener-removed">removed</a> to true and <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-①②⑨">remove</a> <var>listener</var> from <var>eventTarget</var>’s <a href="#eventtarget-event-listener-list">event listener list</a>. </p>
   </ol>
   <p class="note" role="note">HTML needs this to define event handlers. <a href="#biblio-html">[HTML]</a> </p>
   <p>To <dfn id="remove-all-event-listeners">remove all event listeners</dfn>, given an <code class="idl"><a href="#eventtarget">EventTarget</a></code> object <var>eventTarget</var>, <a href="https://infra.spec.whatwg.org/#list-iterate">for each</a> <var>listener</var> of <var>eventTarget</var>’s <a href="#eventtarget-event-listener-list">event listener list</a>, <a href="#remove-an-event-listener">remove an event listener</a> with <var>eventTarget</var> and <var>listener</var>. </p>
   <p class="note" role="note">HTML needs this to define <code>document.open()</code>. <a href="#biblio-html">[HTML]</a> </p>
   <p>The <dfn class="idl-code" id="dom-eventtarget-removeeventlistener"><code>removeEventListener(<var>type</var>, <var>callback</var>, <var>options</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>capture</var> be the result of <a href="#concept-flatten-options">flattening</a> <var>options</var>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③⓪">this</a>’s <a href="#eventtarget-event-listener-list">event listener list</a> <a href="https://infra.spec.whatwg.org/#list-contain" id="termref-for-①③①">contains</a> an <a href="#concept-event-listener">event listener</a> whose <a href="#event-listener-type">type</a> is <var>type</var>, <a href="#event-listener-callback">callback</a> is <var>callback</var>, and <a href="#event-listener-capture">capture</a> is <var>capture</var>, then <a href="#remove-an-event-listener">remove an event listener</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③②">this</a> and that <a href="#concept-event-listener">event listener</a>. </p>
   </ol>
   <p class="note" role="note">The event listener list will not contain multiple event listeners with equal <var>type</var>, <var>callback</var>, and <var>capture</var>, as <a href="#add-an-event-listener">add an event listener</a> prevents that. </p>
   <p>The <dfn class="idl-code" id="dom-eventtarget-dispatchevent"><code>dispatchEvent(<var>event</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>event</var>’s <a href="#dispatch-flag">dispatch flag</a> is set, or if its <a href="#initialized-flag">initialized flag</a> is not
 set, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③③">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidstateerror" id="termref-for-①③④">InvalidStateError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⑤">DOMException</a></code>. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> attribute to false. </p>
    <li>
     <p>Return the result of <a href="#concept-event-dispatch">dispatching</a> <var>event</var> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③⑥">this</a>. </p>
   </ol>
   <h3 class="heading settled" id="observing-event-listeners"><span class="secno">2.8. </span><span class="content">Observing event listeners</span></h3>
   <p>In general, developers do not expect the presence of an <a href="#concept-event-listener">event listener</a> to be observable.
The impact of an <a href="#concept-event-listener">event listener</a> is determined by its <a href="#event-listener-callback">callback</a>. That is, a developer
adding a no-op <a href="#concept-event-listener">event listener</a> would not expect it to have any side effects. </p>
   <p>Unfortunately, some event APIs have been designed such that implementing them efficiently
requires observing <a href="#concept-event-listener">event listeners</a>. This can make the presence of listeners observable in
that even empty listeners can have a dramatic performance impact on the behavior of the application.
For example, touch and wheel events which can be used to block asynchronous scrolling. In some cases
this problem can be mitigated by specifying the event to be <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> only when there is
at least one non-<code class="idl"><a href="#dom-addeventlisteneroptions-passive">passive</a></code> listener. For example,
non-<code class="idl"><a href="#dom-addeventlisteneroptions-passive">passive</a></code> <code class="idl"><a href="https://w3c.github.io/touch-events/#idl-def-touchevent">TouchEvent</a></code> listeners must block scrolling, but if all
listeners are <code class="idl"><a href="#dom-addeventlisteneroptions-passive">passive</a></code> then scrolling can be allowed to start <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="termref-for-①③⑦">in parallel</a> by making the <code class="idl"><a href="https://w3c.github.io/touch-events/#idl-def-touchevent">TouchEvent</a></code> uncancelable (so that calls to <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code> are ignored). So code dispatching an event is able to observe the absence
of non-<code class="idl"><a href="#dom-addeventlisteneroptions-passive">passive</a></code> listeners, and use that to clear the <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> property of the event being dispatched. </p>
   <p>Ideally, any new event APIs are defined such that they do not need this property (use <a href="https://lists.w3.org/Archives/Public/public-script-coord/">public-script-coord@w3.org</a> for discussion). </p>
   <h3 class="heading settled" id="dispatching-events"><span class="secno">2.9. </span><span class="content">Dispatching events</span></h3>
   <p>To <dfn id="concept-event-dispatch">dispatch</dfn> an <var>event</var> to a <var>target</var>, with an optional <var>legacy target override flag</var> and an optional <var>legacyOutputDidListenersThrowFlag</var>, run these steps: </p>
   <ol>
    <li>
     <p>Set <var>event</var>’s <a href="#dispatch-flag">dispatch flag</a>. </p>
    <li>
     <p>Let <var>targetOverride</var> be <var>target</var>, if <var>legacy target override flag</var> is not given, and <var>target</var>’s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="termref-for-①③⑧">associated <code>Document</code></a> otherwise. <a href="#biblio-html">[HTML]</a> </p>
     <p class="note" role="note"><var>legacy target override flag</var> is only used by HTML and only when <var>target</var> is a <code class="idl"><a href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="termref-for-①③⑨">Window</a></code> object. </p>
    <li>
     <p>Let <var>activationTarget</var> be null. </p>
    <li>
     <p>Let <var>relatedTarget</var> be the result of <a href="#retarget">retargeting</a> <var>event</var>’s <a href="#event-relatedtarget">relatedTarget</a> against <var>target</var>. </p>
    <li>
     <p>If <var>target</var> is not <var>relatedTarget</var> or <var>target</var> is <var>event</var>’s <a href="#event-relatedtarget">relatedTarget</a>, then: </p>
     <ol>
      <li>
       <p>Let <var>touchTargets</var> be a new <a href="https://infra.spec.whatwg.org/#list" id="termref-for-①④⓪">list</a>. </p>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>touchTarget</var> of <var>event</var>’s <a href="#event-touch-target-list">touch target list</a>, <a href="https://infra.spec.whatwg.org/#list-append">append</a> the result of <a href="#retarget">retargeting</a> <var>touchTarget</var> against <var>target</var> to <var>touchTargets</var>. </p>
      <li>
       <p><a href="#concept-event-path-append">Append to an event path</a> with <var>event</var>, <var>target</var>, <var>targetOverride</var>, <var>relatedTarget</var>, <var>touchTargets</var>, and false. </p>
      <li>
       <p>Let <var>isActivationEvent</var> be true, if <var>event</var> is a <code class="idl"><a href="https://www.w3.org/TR/uievents/#mouseevent" id="termref-for-①④①">MouseEvent</a></code> object
   and <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute is "<code>click</code>", and false otherwise. </p>
      <li>
       <p>If <var>isActivationEvent</var> is true and <var>target</var> has <a href="#eventtarget-activation-behavior">activation behavior</a>, then set <var>activationTarget</var> to <var>target</var>. </p>
      <li>
       <p>Let <var>slottable</var> be <var>target</var>, if <var>target</var> is a <a href="#concept-slotable">slottable</a> and is <a href="#slotable-assigned">assigned</a>, and null otherwise. </p>
      <li>
       <p>Let <var>slot-in-closed-tree</var> be false. </p>
      <li>
       <p>Let <var>parent</var> be the result of invoking <var>target</var>’s <a href="#get-the-parent">get the parent</a> with <var>event</var>. </p>
      <li>
       <p>While <var>parent</var> is non-null:</p>
       <ol>
        <li>
         <p>If <var>slottable</var> is non-null: </p>
         <ol>
          <li>
           <p>Assert: <var>parent</var> is a <a href="#concept-slot">slot</a>. </p>
          <li>
           <p>Set <var>slottable</var> to null. </p>
          <li>
           <p>If <var>parent</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a> whose <a href="#shadowroot-mode">mode</a> is "<code>closed</code>", then set <var>slot-in-closed-tree</var> to true. </p>
         </ol>
        <li>
         <p>If <var>parent</var> is a <a href="#concept-slotable">slottable</a> and is <a href="#slotable-assigned">assigned</a>, then
     set <var>slottable</var> to <var>parent</var>. </p>
        <li>
         <p>Let <var>relatedTarget</var> be the result of <a href="#retarget">retargeting</a> <var>event</var>’s <a href="#event-relatedtarget">relatedTarget</a> against <var>parent</var>. </p>
        <li>
         <p>Let <var>touchTargets</var> be a new <a href="https://infra.spec.whatwg.org/#list" id="termref-for-①④②">list</a>. </p>
        <li>
         <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>touchTarget</var> of <var>event</var>’s <a href="#event-touch-target-list">touch target list</a>, <a href="https://infra.spec.whatwg.org/#list-append">append</a> the result of <a href="#retarget">retargeting</a> <var>touchTarget</var> against <var>parent</var> to <var>touchTargets</var>. </p>
        <li>
         <p>If <var>parent</var> is a <code class="idl"><a href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="termref-for-①④③">Window</a></code> object, or <var>parent</var> is a <a href="#boundary-point-node">node</a> and <var>target</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-including-inclusive-ancestor">shadow-including inclusive ancestor</a> of <var>parent</var>, then: </p>
         <ol>
          <li>
           <p>If <var>isActivationEvent</var> is true, <var>event</var>’s <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code> attribute is true, <var>activationTarget</var> is null, and <var>parent</var> has <a href="#eventtarget-activation-behavior">activation behavior</a>, then set <var>activationTarget</var> to <var>parent</var>. </p>
          <li>
           <p><a href="#concept-event-path-append">Append to an event path</a> with <var>event</var>, <var>parent</var>, null, <var>relatedTarget</var>, <var>touchTargets</var>, and <var>slot-in-closed-tree</var>. </p>
         </ol>
        <li>
         <p>Otherwise, if <var>parent</var> is <var>relatedTarget</var>, then set <var>parent</var> to null. </p>
        <li>
         <p>Otherwise, set <var>target</var> to <var>parent</var> and then: </p>
         <ol>
          <li>
           <p>If <var>isActivationEvent</var> is true, <var>activationTarget</var> is null, and <var>target</var> has <a href="#eventtarget-activation-behavior">activation behavior</a>, then set <var>activationTarget</var> to <var>target</var>. </p>
          <li>
           <p><a href="#concept-event-path-append">Append to an event path</a> with <var>event</var>, <var>parent</var>, <var>target</var>, <var>relatedTarget</var>, <var>touchTargets</var>, and <var>slot-in-closed-tree</var>. </p>
         </ol>
        <li>
         <p>If <var>parent</var> is non-null, then set <var>parent</var> to the result of invoking <var>parent</var>’s <a href="#get-the-parent">get the parent</a> with <var>event</var>. </p>
        <li>
         <p>Set <var>slot-in-closed-tree</var> to false. </p>
       </ol>
      <li>
       <p>Let <var>clearTargetsStruct</var> be the last struct in <var>event</var>’s <a href="#event-path">path</a> whose <a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a> is non-null. </p>
      <li>
       <p>Let <var>clearTargets</var> be true if <var>clearTargetsStruct</var>’s <a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a>, <var>clearTargetsStruct</var>’s <a href="#event-path-relatedtarget">relatedTarget</a>, or an <code class="idl"><a href="#eventtarget">EventTarget</a></code> object in <var>clearTargetsStruct</var>’s <a href="#event-path-touch-target-list">touch target list</a> is a <a href="#concept-node">node</a> and its <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>, and false otherwise. </p>
      <li>
       <p>If <var>activationTarget</var> is non-null and <var>activationTarget</var> has <a href="#eventtarget-legacy-pre-activation-behavior">legacy-pre-activation behavior</a>, then run <var>activationTarget</var>’s <a href="#eventtarget-legacy-pre-activation-behavior">legacy-pre-activation behavior</a>. </p>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>struct</var> in <var>event</var>’s <a href="#event-path">path</a>, in
    reverse order: </p>
       <ol>
        <li>
         <p>If <var>struct</var>’s <a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a> is non-null, then
     set <var>event</var>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute to <code class="idl"><a href="#dom-event-at_target">AT_TARGET</a></code>. </p>
        <li>
         <p>Otherwise, set <var>event</var>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute to <code class="idl"><a href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code>. </p>
        <li>
         <p><a href="#concept-event-listener-invoke">Invoke</a> with <var>struct</var>, <var>event</var>, "<code>capturing</code>", and <var>legacyOutputDidListenersThrowFlag</var> if given. </p>
       </ol>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>struct</var> in <var>event</var>’s <a href="#event-path">path</a>: </p>
       <ol>
        <li>
         <p>If <var>struct</var>’s <a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a> is non-null, then
     set <var>event</var>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute to <code class="idl"><a href="#dom-event-at_target">AT_TARGET</a></code>. </p>
        <li>
         <p>Otherwise: </p>
         <ol>
          <li>
           <p>If <var>event</var>’s <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code> attribute is false, then <a href="https://infra.spec.whatwg.org/#iteration-continue" id="termref-for-①④④">continue</a>. </p>
          <li>
           <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute to <code class="idl"><a href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>. </p>
         </ol>
        <li>
         <p><a href="#concept-event-listener-invoke">Invoke</a> with <var>struct</var>, <var>event</var>, "<code>bubbling</code>", and <var>legacyOutputDidListenersThrowFlag</var> if given. </p>
       </ol>
     </ol>
    <li>
     <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-eventphase">eventPhase</a></code> attribute to <code class="idl"><a href="#dom-event-none">NONE</a></code>. </p>
    <li>
     <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code> attribute to null. </p>
    <li>
     <p>Set <var>event</var>’s <a href="#event-path">path</a> to the empty list. </p>
    <li>
     <p>Unset <var>event</var>’s <a href="#dispatch-flag">dispatch flag</a>, <a href="#stop-propagation-flag">stop propagation flag</a>, and <a href="#stop-immediate-propagation-flag">stop immediate propagation flag</a>. </p>
    <li>
     <p>If <var>clearTargets</var>, then: </p>
     <ol>
      <li>
       <p>Set <var>event</var>’s <a href="#event-target">target</a> to null. </p>
      <li>
       <p>Set <var>event</var>’s <a href="#event-relatedtarget">relatedTarget</a> to null. </p>
      <li>
       <p>Set <var>event</var>’s <a href="#event-touch-target-list">touch target list</a> to the empty list. </p>
     </ol>
    <li>
     <p>If <var>activationTarget</var> is non-null, then: </p>
     <ol>
      <li>
       <p>If <var>event</var>’s <a href="#canceled-flag">canceled flag</a> is unset, then run <var>activationTarget</var>’s <a href="#eventtarget-activation-behavior">activation behavior</a> with <var>event</var>. </p>
      <li>
       <p>Otherwise, if <var>activationTarget</var> has <a href="#eventtarget-legacy-canceled-activation-behavior">legacy-canceled-activation behavior</a>, then run <var>activationTarget</var>’s <a href="#eventtarget-legacy-canceled-activation-behavior">legacy-canceled-activation behavior</a>. </p>
     </ol>
    <li>
     <p>Return false if <var>event</var>’s <a href="#canceled-flag">canceled flag</a> is set, and true otherwise. </p>
   </ol>
   <p>To <dfn id="concept-event-path-append">append to an event path</dfn>, given an <var>event</var>, <var>invocationTarget</var>, <var>shadowAdjustedTarget</var>, <var>relatedTarget</var>, <var>touchTargets</var>, and a <var>slot-in-closed-tree</var>, run these
steps:</p>
   <ol>
    <li>
     <p>Let <var>invocationTargetInShadowTree</var> be false. </p>
    <li>
     <p>If <var>invocationTarget</var> is a <a href="#concept-node">node</a> and its <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>, then set <var>invocationTargetInShadowTree</var> to true. </p>
    <li>
     <p>Let <var>root-of-closed-tree</var> be false. </p>
    <li>
     <p>If <var>invocationTarget</var> is a <a href="#concept-shadow-root">shadow root</a> whose <a href="#shadowroot-mode">mode</a> is "<code>closed</code>", then set <var>root-of-closed-tree</var> to true. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-append">Append</a> a new <a href="https://infra.spec.whatwg.org/#struct" id="termref-for-①④⑤">struct</a> to <var>event</var>’s <a href="#event-path">path</a> whose <a href="#event-path-invocation-target">invocation target</a> is <var>invocationTarget</var>, <a href="#event-path-invocation-target-in-shadow-tree">invocation-target-in-shadow-tree</a> is <var>invocationTargetInShadowTree</var>, <a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a> is <var>shadowAdjustedTarget</var>, <a href="#event-path-relatedtarget">relatedTarget</a> is <var>relatedTarget</var>, <a href="#event-path-touch-target-list">touch target list</a> is <var>touchTargets</var>, <a href="#event-path-root-of-closed-tree">root-of-closed-tree</a> is <var>root-of-closed-tree</var>, and <a href="#event-path-slot-in-closed-tree">slot-in-closed-tree</a> is <var>slot-in-closed-tree</var>. </p>
   </ol>
   <p>To <dfn id="concept-event-listener-invoke">invoke</dfn>, given a <var>struct</var>, <var>event</var>, <var>phase</var>, and an optional <var>legacyOutputDidListenersThrowFlag</var>,
run these steps: </p>
   <ol>
    <li>
     <p>Set <var>event</var>’s <a href="#event-target">target</a> to the <a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a> of the last struct in <var>event</var>’s <a href="#event-path">path</a>, that is either <var>struct</var> or preceding <var>struct</var>, whose <a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a> is non-null. </p>
    <li>
     <p>Set <var>event</var>’s <a href="#event-relatedtarget">relatedTarget</a> to <var>struct</var>’s <a href="#event-path-relatedtarget">relatedTarget</a>. </p>
    <li>
     <p>Set <var>event</var>’s <a href="#event-touch-target-list">touch target list</a> to <var>struct</var>’s <a href="#event-path-touch-target-list">touch target list</a>. </p>
    <li>
     <p>If <var>event</var>’s <a href="#stop-propagation-flag">stop propagation flag</a> is set, then return. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code> attribute to <var>struct</var>’s <a href="#event-path-invocation-target">invocation target</a>. </p>
    <li>
     <p>Let <var>listeners</var> be a <a href="https://infra.spec.whatwg.org/#list-clone" id="termref-for-①④⑥">clone</a> of <var>event</var>’s <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code> attribute value’s <a href="#eventtarget-event-listener-list">event listener list</a>. </p>
     <p class="note no-backref" role="note">This avoids <a href="#concept-event-listener">event listeners</a> added after this point from being
  run. Note that removal still has an effect due to the <a href="#event-listener-removed">removed</a> field. </p>
    <li>
     <p>Let <var>found</var> be the result of running <a href="#concept-event-listener-inner-invoke">inner invoke</a> with <var>event</var>, <var>listeners</var>, <var>phase</var>, and <var>legacyOutputDidListenersThrowFlag</var> if given. </p>
    <li>
     <p>If <var>found</var> is false and <var>event</var>’s <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> attribute is true,
  then: </p>
     <ol>
      <li>
       <p>Let <var>originalEventType</var> be <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute value. </p>
      <li>
       <p>If <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute value is a match for any of the strings in the
    first column in the following table, set <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute value to
    the string in the second column on the same row as the matching string, and return otherwise. </p>
       <table>
        <thead>
         <tr>
          <th>Event type
          <th>Legacy event type 
        <tbody>
         <tr>
          <td>"<code>animationend</code>"
          <td>"<code>webkitAnimationEnd</code>" 
         <tr>
          <td>"<code>animationiteration</code>"
          <td>"<code>webkitAnimationIteration</code>" 
         <tr>
          <td>"<code>animationstart</code>"
          <td>"<code>webkitAnimationStart</code>" 
         <tr>
          <td>"<code>transitionend</code>"
          <td>"<code>webkitTransitionEnd</code>" 
       </table>
      <li>
       <p><a href="#concept-event-listener-inner-invoke">Inner invoke</a> with <var>event</var>, <var>listeners</var>, <var>phase</var>, and <var>legacyOutputDidListenersThrowFlag</var> if given. </p>
      <li>
       <p>Set <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute value to <var>originalEventType</var>. </p>
     </ol>
   </ol>
   <p>To <dfn id="concept-event-listener-inner-invoke">inner invoke</dfn>, given an <var>event</var>, <var>listeners</var>, <var>phase</var>, and an optional <var>legacyOutputDidListenersThrowFlag</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>found</var> be false. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>listener</var> in <var>listeners</var>, whose <a href="#event-listener-removed">removed</a> is false: </p>
     <ol>
      <li>
       <p>If <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute value is not <var>listener</var>’s <a href="#event-listener-type">type</a>, then <a href="https://infra.spec.whatwg.org/#iteration-continue" id="termref-for-①④⑦">continue</a>. </p>
      <li>
       <p>Set <var>found</var> to true. </p>
      <li>
       <p>If <var>phase</var> is "<code>capturing</code>" and <var>listener</var>’s <a href="#event-listener-capture">capture</a> is false, then <a href="https://infra.spec.whatwg.org/#iteration-continue" id="termref-for-①④⑧">continue</a>. </p>
      <li>
       <p>If <var>phase</var> is "<code>bubbling</code>" and <var>listener</var>’s <a href="#event-listener-capture">capture</a> is true, then <a href="https://infra.spec.whatwg.org/#iteration-continue" id="termref-for-①④⑨">continue</a>. </p>
      <li>
       <p>If <var>listener</var>’s <a href="#event-listener-once">once</a> is true, then <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-①⑤⓪">remove</a> <var>listener</var> from <var>event</var>’s <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code> attribute value’s <a href="#eventtarget-event-listener-list">event listener list</a>. </p>
      <li>
       <p>Let <var>global</var> be <var>listener</var> <a href="#event-listener-callback">callback</a>’s <a href="https://heycam.github.io/webidl/#dfn-associated-realm" id="termref-for-①⑤①">associated Realm</a>’s <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="termref-for-①⑤②">global object</a>. </p>
      <li>
       <p>Let <var>currentEvent</var> be undefined. </p>
      <li>
       <p>If <var>global</var> is a <code class="idl"><a href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="termref-for-①⑤③">Window</a></code> object, then: </p>
       <ol>
        <li>
         <p>Set <var>currentEvent</var> to <var>global</var>’s <a href="#window-current-event">current event</a>. </p>
        <li>
         <p>If <var>struct</var>’s <a href="#event-path-invocation-target-in-shadow-tree">invocation-target-in-shadow-tree</a> is false,
     then set <var>global</var>’s <a href="#window-current-event">current event</a> to <var>event</var>. </p>
       </ol>
      <li>
       <p>If <var>listener</var>’s <a href="#event-listener-passive">passive</a> is true, then set <var>event</var>’s <a href="#in-passive-listener-flag">in passive listener flag</a>. </p>
      <li>
       <p><a href="https://heycam.github.io/webidl/#call-a-user-objects-operation" id="termref-for-①⑤④">Call a user object’s operation</a> with <var>listener</var>’s <a href="#event-listener-callback">callback</a>, "<code>handleEvent</code>", « <var>event</var> », and <var>event</var>’s <code class="idl"><a href="#dom-event-currenttarget">currentTarget</a></code> attribute value. If this throws an exception, then: </p>
       <ol>
        <li>
         <p><a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="termref-for-①⑤⑤">Report the exception</a>. </p>
        <li>
         <p>Set <var>legacyOutputDidListenersThrowFlag</var> if given. </p>
         <p class="note" role="note">The <var>legacyOutputDidListenersThrowFlag</var> is only used by Indexed
      Database API. <a href="#biblio-indexeddb">[INDEXEDDB]</a> </p>
       </ol>
      <li>
       <p>Unset <var>event</var>’s <a href="#in-passive-listener-flag">in passive listener flag</a>. </p>
      <li>
       <p>If <var>global</var> is a <code class="idl"><a href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="termref-for-①⑤⑥">Window</a></code> object, then set <var>global</var>’s <a href="#window-current-event">current event</a> to <var>currentEvent</var>. </p>
      <li>
       <p>If <var>event</var>’s <a href="#stop-immediate-propagation-flag">stop immediate propagation flag</a> is set, then return <var>found</var>. </p>
     </ol>
    <li>
     <p>Return <var>found</var>. </p>
   </ol>
   <h3 class="heading settled" id="firing-events"><span class="secno">2.10. </span><span class="content">Firing events</span></h3>
   <p>To <dfn id="concept-event-fire">fire an event</dfn> named <var>e</var> at <var>target</var>,
optionally using an <var>eventConstructor</var>, with a description of how IDL attributes are to be
initialized, and a <var>legacy target override flag</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>eventConstructor</var> is not given, then let <var>eventConstructor</var> be <code class="idl"><a href="#event">Event</a></code>. </p>
    <li>
     <p>Let <var>event</var> be the result of <a href="#concept-event-create">creating an event</a> given <var>eventConstructor</var>, in the <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="termref-for-①⑤⑦">relevant Realm</a> of <var>target</var>. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute to <var>e</var>. </p>
    <li>
     <p>Initialize any other IDL attributes of <var>event</var> as described in the invocation of this
  algorithm. </p>
     <p class="note" role="note">This also allows for the <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> attribute to be set to false. </p>
    <li>
     <p>Return the result of <a href="#concept-event-dispatch">dispatching</a> <var>event</var> at <var>target</var>, with <var>legacy target override flag</var> set if set. </p>
   </ol>
   <p class="note no-backref" role="note">Fire in the context of DOM is short for <a href="#concept-event-create">creating</a>, initializing, and <a href="#concept-event-dispatch">dispatching</a> an <a href="#concept-event">event</a>. <a href="#concept-event-fire">Fire an event</a> makes that process easier to write down. </p>
   <div class="example no-backref" id="firing-events-example">
    <p>If the <a href="#concept-event">event</a> needs its <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code> or <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> attribute initialized,
 one could write "<a href="#concept-event-fire">fire an event</a> named <code>submit</code> at <var>target</var> with its <code class="idl"><a href="#dom-event-cancelable">cancelable</a></code> attribute initialized to true". </p>
    <p>Or, when a custom constructor is needed, "<a href="#concept-event-fire">fire an event</a> named <code>click</code> at <var>target</var> using <code class="idl"><a href="https://www.w3.org/TR/uievents/#mouseevent" id="termref-for-①⑤⑧">MouseEvent</a></code> with its <code class="idl"><a href="https://www.w3.org/TR/uievents/#dom-uievent-detail" id="termref-for-①⑤⑨">detail</a></code> attribute initialized to 1". </p>
    <p>Occasionally the return value is important: </p>
    <ol>
     <li>
      <p>Let <var>doAction</var> be the result of <a href="#concept-event-fire">firing an event</a> named <code>like</code> at <var>target</var>. </p>
     <li>
      <p>If <var>doAction</var> is true, then … </p>
    </ol>
   </div>
   <h3 class="heading settled" id="action-versus-occurance"><span class="secno">2.11. </span><span class="content">Action versus occurrence</span></h3>
   <p>An <a href="#concept-event">event</a> signifies an occurrence, not an action. Phrased differently, it
represents a notification from an algorithm and can be used to influence the future course
of that algorithm (e.g., through invoking <code class="idl"><a href="#dom-event-preventdefault">preventDefault()</a></code>). <a href="#concept-event">Events</a> must not be
used as actions or initiators that cause some algorithm to start running. That is not what
they are for. </p>
   <p class="note no-backref" role="note">This is called out here specifically because previous
iterations of the DOM had a concept of "default actions" associated with <a href="#concept-event">events</a> that gave folks all the wrong ideas. <a href="#concept-event">Events</a> do not represent or cause actions, they
can only be used to influence an ongoing one. </p>
   <h2 class="heading settled" id="aborting-ongoing-activities"><span class="secno">3. </span><span class="content">Aborting ongoing activities</span></h2>
   <p>Though promises do not have a built-in aborting mechanism, many APIs using them require abort
semantics. <code class="idl"><a href="#abortcontroller">AbortController</a></code> is meant to support these requirements by providing an <code class="idl"><a href="#dom-abortcontroller-abort">abort()</a></code> method that toggles the state of a corresponding <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object.
The API which wishes to support aborting can accept an <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object, and use its state to
determine how to proceed. </p>
   <p>APIs that rely upon <code class="idl"><a href="#abortcontroller">AbortController</a></code> are encouraged to respond to <code class="idl"><a href="#dom-abortcontroller-abort">abort()</a></code> by rejecting any unsettled promise with a new "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#aborterror" id="termref-for-①⑥⓪">AbortError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⑥①">DOMException</a></code>. </p>
   <div class="example" id="aborting-ongoing-activities-example">
    <p>A hypothetical <code>doAmazingness({ ... })</code> method could accept an <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object
 in order to support aborting as follows: </p>
<pre><code class="lang-javascript">const controller = new AbortController();
const signal = controller.signal;

startSpinner();

doAmazingness({ ..., signal })
  .then(result => ...)
  .catch(err => {
    if (err.name == 'AbortError') return;
    showUserErrorMessage();
  })
  .then(() => stopSpinner());

// …

controller.abort();</code></pre>
    <p><code>doAmazingness</code> could be implemented as follows: </p>
<pre><code class="lang-javascript">function doAmazingness({signal}) {
  if (signal.aborted) {
    return Promise.reject(new DOMException('Aborted', 'AbortError'));
  }

  return new Promise((resolve, reject) => {
    // Begin doing amazingness, and call resolve(result) when done.
    // But also, watch for signals:
    signal.addEventListener('abort', () => {
      // Stop doing amazingness, and:
      reject(new DOMException('Aborted', 'AbortError'));
    });
  });
}
</code></pre>
    <p>APIs that require more granular control could extend both <code class="idl"><a href="#abortcontroller">AbortController</a></code> and <code class="idl"><a href="#abortsignal">AbortSignal</a></code> objects according to their needs. </p>
   </div>
   <h3 class="heading settled" id="interface-abortcontroller"><span class="secno">3.1. </span><span class="content">Interface <code class="idl"><a href="#abortcontroller">AbortController</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⑥②">Exposed</a>=(Window,Worker)]
interface <dfn class="idl-code" id="abortcontroller"><code>AbortController</code></dfn> {
  <a class="idl-code" href="#dom-abortcontroller-abortcontroller">constructor</a>();

  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-①⑥③">SameObject</a>] readonly attribute <a class="n" href="#abortsignal">AbortSignal</a> <a class="idl-code" href="#dom-abortcontroller-signal">signal</a>;

  void <a class="idl-code" href="#dom-abortcontroller-abort">abort</a>();
};
</pre>
   <dl class="domintro">
    <dt><code><var>controller</var> = new <a class="idl-code" href="#dom-abortcontroller-abortcontroller">AbortController</a>()</code> 
    <dd>Returns a new <var>controller</var> whose <code class="idl"><a href="#dom-abortcontroller-signal">signal</a></code> is set to a newly
 created <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object. 
    <dt><code><var>controller</var> . <a class="idl-code" href="#dom-abortcontroller-signal">signal</a></code> 
    <dd>Returns the <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object associated with this object. 
    <dt><code><var>controller</var> . <a class="idl-code" href="#dom-abortcontroller-abort">abort</a>()</code> 
    <dd>Invoking this method will set this object’s <code class="idl"><a href="#abortsignal">AbortSignal</a></code>'s <a href="#abortsignal-aborted-flag">aborted flag</a> and
 signal to any observers that the associated activity is to be aborted. 
   </dl>
   <p>An <code class="idl"><a href="#abortcontroller">AbortController</a></code> object has an associated <dfn id="abortcontroller-signal">signal</dfn> (an <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object). </p>
   <p>The <dfn class="idl-code" id="dom-abortcontroller-abortcontroller"><code>AbortController()</code></dfn> constructor, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>signal</var> be a new <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object. </p>
    <li>
     <p>Let <var>controller</var> be a new <code class="idl"><a href="#abortcontroller">AbortController</a></code> object whose <a href="#abortcontroller-signal">signal</a> is <var>signal</var>. </p>
    <li>
     <p>Return <var>controller</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-abortcontroller-signal"><code>signal</code></dfn> attribute’s getter, when
invoked, must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⑥④">this</a>’s <a href="#abortcontroller-signal">signal</a>. </p>
   <p>The <dfn class="idl-code" id="dom-abortcontroller-abort"><code>abort()</code></dfn> method, when invoked, must <a href="#abortsignal-signal-abort">signal abort</a> on <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⑥⑤">this</a>’s <a href="#abortcontroller-signal">signal</a>. </p>
   <h3 class="heading settled" id="interface-AbortSignal"><span class="secno">3.2. </span><span class="content">Interface <code class="idl"><a href="#abortsignal">AbortSignal</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⑥⑥">Exposed</a>=(Window,Worker)]
interface <dfn class="idl-code" id="abortsignal"><code>AbortSignal</code></dfn> : <a class="n" href="#eventtarget">EventTarget</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⑥⑦">boolean</a> <a class="idl-code" href="#dom-abortsignal-aborted">aborted</a>;

  attribute <a class="n" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="termref-for-①⑥⑧">EventHandler</a> <a class="idl-code" href="#dom-abortsignal-onabort">onabort</a>;
};</pre>
   <dl class="domintro">
    <dt><code><var>signal</var> . <a class="idl-code" href="#dom-abortsignal-aborted">aborted</a></code> 
    <dd>Returns true if this <code class="idl"><a href="#abortsignal">AbortSignal</a></code>'s <code class="idl"><a href="#abortcontroller">AbortController</a></code> has signaled to abort, and false
 otherwise. 
   </dl>
   <p>An <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object has an associated <dfn id="abortsignal-aborted-flag">aborted flag</dfn>. It is
unset unless specified otherwise. </p>
   <p>An <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object has associated <dfn id="abortsignal-abort-algorithms">abort algorithms</dfn>, which is a <a href="https://infra.spec.whatwg.org/#ordered-set" id="termref-for-①⑥⑨">set</a> of algorithms which are to be executed when its <a href="#abortsignal-aborted-flag">aborted flag</a> is
set. Unless specified otherwise, its value is the empty set. </p>
   <p>To <dfn id="abortsignal-add">add</dfn> an algorithm <var>algorithm</var> to an <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object <var>signal</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>signal</var>’s <a href="#abortsignal-aborted-flag">aborted flag</a> is set, then return. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#set-append" id="termref-for-①⑦⓪">Append</a> <var>algorithm</var> to <var>signal</var>’s <a href="#abortsignal-abort-algorithms">abort algorithms</a>. </p>
   </ol>
   <p>To <dfn id="abortsignal-remove">remove</dfn> an algorithm <var>algorithm</var> from an <code class="idl"><a href="#abortsignal">AbortSignal</a></code> <var>signal</var>, <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-①⑦①">remove</a> <var>algorithm</var> from <var>signal</var>’s <a href="#abortsignal-abort-algorithms">abort algorithms</a>. </p>
   <p class="note no-backref" role="note">The <a href="#abortsignal-abort-algorithms">abort algorithms</a> enable APIs with complex
requirements to react in a reasonable way to <code class="idl"><a href="#dom-abortcontroller-abort">abort()</a></code>. For example, a given API’s <a href="#abortsignal-aborted-flag">aborted flag</a> might need to be propagated to a cross-thread environment, such as a
service worker. </p>
   <p>The <dfn class="idl-code" id="dom-abortsignal-aborted"><code>aborted</code></dfn> attribute’s getter, when invoked, must return
true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⑦②">this</a>’s <a href="#abortsignal-aborted-flag">aborted flag</a> is set, and false otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-abortsignal-onabort"><code>onabort</code></dfn> attribute is an <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="termref-for-①⑦③">event handler IDL attribute</a> for the <dfn id="abortsignal-onabort"><code>onabort</code></dfn> <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="termref-for-①⑦④">event handler</a>, whose <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="termref-for-①⑦⑤">event handler event type</a> is <dfn class="idl-code" id="eventdef-abortsignal-abort"><code>abort</code></dfn>. </p>
   <p class="note" role="note">Changes to an <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object represent the wishes of the corresponding <code class="idl"><a href="#abortcontroller">AbortController</a></code> object, but an API observing the <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object can chose to ignore
them. For instance, if the operation has already completed. </p>
   <p>To <dfn id="abortsignal-signal-abort">signal abort</dfn>, given a <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object <var>signal</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>signal</var>’s <a href="#abortsignal-aborted-flag">aborted flag</a> is set, then return. </p>
    <li>
     <p>Set <var>signal</var>’s <a href="#abortsignal-aborted-flag">aborted flag</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>algorithm</var> in <var>signal</var>’s <a href="#abortsignal-abort-algorithms">abort algorithms</a>: run <var>algorithm</var>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-empty" id="termref-for-①⑦⑥">Empty</a> <var>signal</var>’s <a href="#abortsignal-abort-algorithms">abort algorithms</a>. </p>
    <li>
     <p><a href="#concept-event-fire">Fire an event</a> named <code class="idl"><a href="#eventdef-abortsignal-abort">abort</a></code> at <var>signal</var>. </p>
   </ol>
   <p>A <var>followingSignal</var> (an <code class="idl"><a href="#abortsignal">AbortSignal</a></code>) is made to <dfn id="abortsignal-follow">follow</dfn> a <var>parentSignal</var> (an <code class="idl"><a href="#abortsignal">AbortSignal</a></code>) by running
these steps: </p>
   <ol>
    <li>
     <p>If <var>followingSignal</var>’s <a href="#abortsignal-aborted-flag">aborted flag</a> is set, then return. </p>
    <li>
     <p>If <var>parentSignal</var>’s <a href="#abortsignal-aborted-flag">aborted flag</a> is set, then <a href="#abortsignal-signal-abort">signal abort</a> on <var>followingSignal</var>. </p>
    <li>
     <p>Otherwise, <a href="#abortsignal-add">add the following abort steps</a> to <var>parentSignal</var>: </p>
     <ol>
      <li>
       <p><a href="#abortsignal-signal-abort">Signal abort</a> on <var>followingSignal</var>. </p>
     </ol>
   </ol>
   <h3 class="heading settled" id="abortcontroller-api-integration"><span class="secno">3.3. </span><span class="content">Using <code class="idl"><a href="#abortcontroller">AbortController</a></code> and <code class="idl"><a href="#abortsignal">AbortSignal</a></code> objects in
APIs</span></h3>
   <p>Any web platform API using promises to represent operations that can be aborted must adhere to
the following: </p>
   <ul class="brief">
    <li>Accept <code class="idl"><a href="#abortsignal">AbortSignal</a></code> objects through a <code>signal</code> dictionary member. 
    <li>Convey that the operation got aborted by rejecting the promise with an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#aborterror" id="termref-for-①⑦⑦">AbortError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⑦⑧">DOMException</a></code>. 
    <li>Reject immediately if the <code class="idl"><a href="#abortsignal">AbortSignal</a></code>'s <a href="#abortsignal-aborted-flag">aborted flag</a> is already set,
 otherwise: 
    <li>Use the <a href="#abortsignal-abort-algorithms">abort algorithms</a> mechanism to observe changes to the <code class="idl"><a href="#abortsignal">AbortSignal</a></code> object and do so in a manner that does not lead to clashes with other observers. 
   </ul>
   <div class="example" id="aborting-ongoing-activities-spec-example">
    <p>The steps for a promise-returning method <code>doAmazingness(options)</code> could be as
 follows: </p>
    <ol>
     <li>
      <p>Let <var>p</var> be <a href="https://heycam.github.io/webidl/#a-new-promise" id="termref-for-①⑦⑨">a new promise</a>. </p>
     <li>
      <p>If <var>options</var>’ <code>signal</code> member is present, then: </p>
      <ol>
       <li>
        <p>If <var>options</var>’ <code>signal</code>’s <a href="#abortsignal-aborted-flag">aborted flag</a> is set, then <a href="https://heycam.github.io/webidl/#reject" id="termref-for-①⑧⓪">reject</a> <var>p</var> with an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#aborterror" id="termref-for-①⑧①">AbortError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⑧②">DOMException</a></code> and return <var>p</var>. </p>
       <li>
        <p><a href="#abortsignal-add">Add the following abort steps</a> to <var>options</var>’ <code>signal</code>: </p>
        <ol>
         <li>
          <p>Stop doing amazing things. </p>
         <li>
          <p><a href="https://heycam.github.io/webidl/#reject" id="termref-for-①⑧③">Reject</a> <var>p</var> with an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#aborterror" id="termref-for-①⑧④">AbortError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⑧⑤">DOMException</a></code>. </p>
        </ol>
      </ol>
     <li>
      <p>Run these steps <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="termref-for-①⑧⑥">in parallel</a>: </p>
      <ol>
       <li>
        <p>Let <var>amazingResult</var> be the result of doing some amazing things. </p>
       <li>
        <p><a href="https://heycam.github.io/webidl/#resolve" id="termref-for-①⑧⑦">Resolve</a> <var>p</var> with <var>amazingResult</var>. </p>
      </ol>
     <li>
      <p>Return <var>p</var>. </p>
    </ol>
   </div>
   <p>APIs not using promises should still adhere to the above as much as possible. </p>
   <h2 class="heading settled" id="nodes"><span class="secno">4. </span><span class="content">Nodes</span></h2>
   <h3 class="heading settled" id="introduction-to-the-dom"><span class="secno">4.1. </span><span class="content">Introduction to "The DOM"</span></h3>
   <p>In its original sense, "The DOM" is an API for
accessing and manipulating documents (in particular, HTML and XML
documents). In this specification, the term "document" is used for any
markup-based resource, ranging from short static documents to long essays or
reports with rich multimedia, as well as to fully-fledged interactive
applications.</p>
   <p>Each such document is represented as a <a href="#concept-node-tree">node tree</a>. Some of the <a href="#concept-node">nodes</a> in a <a href="#concept-tree">tree</a> can have <a href="#concept-tree-child">children</a>, while others are always leaves. </p>
   <p>To illustrate, consider this HTML document:</p>
<pre class="lang-markup">&lt;!DOCTYPE html>
&lt;html class=e>
 &lt;head>&lt;title>Aliens?&lt;/title>&lt;/head>
 &lt;body>Why yes.&lt;/body>
&lt;/html>
</pre>
   <p>It is represented as follows:</p>
   <ul class="domTree">
    <li>
      <a href="#concept-document">Document</a> 
     <ul>
      <li class="t10"><a href="#concept-doctype">Doctype</a>: <code>html</code> 
      <li class="t1">
       <code class="idl"><a href="#element">Element</a></code>: <code>html</code> <span class="t2"><code class="attribute name">class</code>="<code class="attribute value">e</code>"</span> 
       <ul>
        <li class="t1">
          <code class="idl"><a href="#element">Element</a></code>: <code>head</code> 
         <ul>
          <li class="t1">
            <code class="idl"><a href="#element">Element</a></code>: <code>title</code> 
           <ul>
            <li class="t3"><code class="idl"><a href="#text">Text</a></code>: <span>Aliens?</span> 
           </ul>
         </ul>
        <li class="t3"><code class="idl"><a href="#text">Text</a></code>: <span>⏎␣</span> 
        <li class="t1">
          <code class="idl"><a href="#element">Element</a></code>: <code>body</code> 
         <ul>
          <li class="t3"><code class="idl"><a href="#text">Text</a></code>: <span>Why yes.⏎</span> 
         </ul>
       </ul>
     </ul>
   </ul>
   <p>Note that, due to the magic that is <a href="https://html.spec.whatwg.org/multipage/parsing.html#html-parser" id="termref-for-①⑧⑧">HTML parsing</a>, not all <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①⑧⑨">ASCII whitespace</a> were turned into <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a>, but the general concept is
clear. Markup goes in, a <a href="#concept-tree">tree</a> of <a href="#concept-node">nodes</a> comes out. </p>
   <p class="note no-backref" role="note">The most excellent <a href="https://software.hixie.ch/utilities/js/live-dom-viewer/">Live DOM Viewer</a> can be used to explore this matter in more detail. </p>
   <h3 class="heading settled" id="node-trees"><span class="secno">4.2. </span><span class="content">Node tree</span></h3>
   <p><code class="idl"><a href="#document">Document</a></code>, <code class="idl"><a href="#documenttype">DocumentType</a></code>, <code class="idl"><a href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a href="#element">Element</a></code>, <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, and <code class="idl"><a href="#comment">Comment</a></code> objects (simply called <dfn id="concept-node">nodes</dfn>) <a href="#concept-tree-participate">participate</a> in a <a href="#concept-tree">tree</a>, simply named the <dfn id="concept-node-tree">node tree</dfn>. </p>
   <p>A <a href="#concept-node-tree">node tree</a> is constrained as follows, expressed as a relationship between the type of <a href="#boundary-point-node">node</a> and its allowed <a href="#concept-tree-child">children</a>: </p>
   <dl>
    <dt><code class="idl"><a href="#document">Document</a></code> 
    <dd>
     <p>In <a href="#concept-tree-order">tree order</a>: </p>
     <ol>
      <li>
       <p>Zero or more nodes each of which is <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a href="#comment">Comment</a></code>. </p>
      <li>
       <p>Optionally one <code class="idl"><a href="#documenttype">DocumentType</a></code> node. </p>
      <li>
       <p>Zero or more nodes each of which is <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a href="#comment">Comment</a></code>. </p>
      <li>
       <p>Optionally one <code class="idl"><a href="#element">Element</a></code> node. </p>
      <li>
       <p>Zero or more nodes each of which is <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a href="#comment">Comment</a></code>. </p>
     </ol>
    <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
    <dt><code class="idl"><a href="#element">Element</a></code> 
    <dd>
     <p>Zero or more nodes each of which is <code class="idl"><a href="#element">Element</a></code>, <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code>. </p>
    <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd>
     <p>None. </p>
   </dl>
   <p>To determine the <dfn id="concept-node-length">length</dfn> of a <a href="#boundary-point-node">node</a> <var>node</var>, switch on <var>node</var>: </p>
   <dl class="switch">
    <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
    <dd>
     <p>Zero. </p>
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd>
     <p>Its <a href="#concept-cd-data">data</a>’s <a href="https://infra.spec.whatwg.org/#string-length" id="termref-for-①⑨⓪">length</a>. </p>
    <dt>Any other node 
    <dd>
     <p>Its number of <a href="#concept-tree-child">children</a>. </p>
   </dl>
   <p>A <a href="#boundary-point-node">node</a> is considered <dfn id="concept-node-empty">empty</dfn> if its <a href="#concept-node-length">length</a> is zero. </p>
   <h4 class="heading settled" id="document-trees"><span class="secno">4.2.1. </span><span class="content">Document tree</span></h4>
   <p>A <dfn id="concept-document-tree">document tree</dfn> is a <a href="#concept-node-tree">node tree</a> whose <a href="#concept-tree-root">root</a> is a <a href="#concept-document">document</a>. </p>
   <p>The <dfn id="document-element">document element</dfn> of a <a href="#concept-document">document</a> is the <a href="#concept-element">element</a> whose <a href="#concept-tree-parent">parent</a> is that <a href="#concept-document">document</a>, if it exists, and null otherwise. </p>
   <p class="note no-backref" role="note">Per the <a href="#concept-node-tree">node tree</a> constraints, there can be only one such <a href="#concept-element">element</a>. </p>
   <p>An <a href="#concept-element">element</a> is <dfn id="in-a-document-tree">in a document tree</dfn> if its <a href="#concept-tree-root">root</a> is a <a href="#concept-document">document</a>. </p>
   <p>An <a href="#concept-element">element</a> is <dfn id="in-a-document">in a document</dfn> if it is <a href="#in-a-document-tree">in a document tree</a>. <span class="note">The term <a href="#in-a-document">in a document</a> is no longer supposed to be used. It indicates that
the standard using it has not been updated to account for <a href="#concept-shadow-tree">shadow trees</a>.</span> </p>
   <h4 class="heading settled" id="shadow-trees"><span class="secno">4.2.2. </span><span class="content">Shadow tree</span></h4>
   <p>A <dfn id="concept-shadow-tree">shadow tree</dfn> is a <a href="#concept-node-tree">node tree</a> whose <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>. </p>
   <p>A <a href="#concept-shadow-root">shadow root</a> is always attached to another <a href="#concept-node-tree">node tree</a> through its <a href="#concept-documentfragment-host">host</a>. A <a href="#concept-shadow-tree">shadow tree</a> is therefore never alone. The <a href="#concept-node-tree">node tree</a> of a <a href="#concept-shadow-root">shadow root</a>’s <a href="#concept-documentfragment-host">host</a> is sometimes
referred to as the <dfn id="concept-light-tree">light tree</dfn>.</p>
   <p class="note" role="note">A <a href="#concept-shadow-tree">shadow tree</a>’s corresponding <a href="#concept-light-tree">light tree</a> can be a <a href="#concept-shadow-tree">shadow tree</a> itself.</p>
   <p id="in-a-shadow-including-document">An <a href="#concept-element">element</a> is <dfn id="connected">connected</dfn> if its <a href="#concept-shadow-including-root">shadow-including root</a> is a <a href="#concept-document">document</a>. </p>
   <h5 class="heading settled" id="shadow-tree-slots"><span class="secno">4.2.2.1. </span><span class="content">Slots</span></h5>
   <p>A <a href="#concept-shadow-tree">shadow tree</a> contains zero or more <a href="#concept-element">elements</a> that are <dfn id="concept-slot">slots</dfn>.</p>
   <p class="note" role="note">A <a href="#concept-slot">slot</a> can only be created through HTML’s <code><a href="https://html.spec.whatwg.org/multipage/scripting.html#the-slot-element" id="termref-for-①⑨①">slot</a></code> element.</p>
   <p>A <a href="#concept-slot">slot</a> has an associated <dfn id="slot-name">name</dfn> (a string). Unless stated
otherwise it is the empty string.</p>
   <p>Use these <a href="#concept-element-attributes-change-ext">attribute change steps</a> to update a <a href="#concept-slot">slot</a>’s <a href="#slot-name">name</a>: </p>
   <ol>
    <li>
     <p>If <var>element</var> is a <a href="#concept-slot">slot</a>, <var>localName</var> is <code>name</code>, and <var>namespace</var> is null, then: </p>
     <ol>
      <li>
       <p>If <var>value</var> is <var>oldValue</var>, then return. </p>
      <li>
       <p>If <var>value</var> is null and <var>oldValue</var> is the empty string, then return. </p>
      <li>
       <p>If <var>value</var> is the empty string and <var>oldValue</var> is null, then return. </p>
      <li>
       <p>If <var>value</var> is null or the empty string, then set <var>element</var>’s <a href="#slot-name">name</a> to the empty string. </p>
      <li>
       <p>Otherwise, set <var>element</var>’s <a href="#slot-name">name</a> to <var>value</var>. </p>
      <li>
       <p>Run <a href="#assign-slotables-for-a-tree">assign slottables for a tree</a> with <var>element</var>’s <a href="#concept-tree-root">root</a>. </p>
     </ol>
   </ol>
   <p class="note" role="note">The first <a href="#concept-slot">slot</a> in a <a href="#concept-shadow-tree">shadow tree</a>, in <a href="#concept-tree-order">tree order</a>, whose <a href="#slot-name">name</a> is the empty string, is sometimes known as the "default slot".</p>
   <p>A <a href="#concept-slot">slot</a> has an associated <dfn id="slot-assigned-nodes">assigned nodes</dfn> (a list of <a href="#concept-slotable">slottables</a>). Unless stated otherwise it is empty.</p>
   <h5 class="heading settled" id="light-tree-slotables"><span class="secno">4.2.2.2. </span><span class="content">Slottables</span></h5>
   <p><code class="idl"><a href="#element">Element</a></code> and <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a> are <dfn id="concept-slotable">slottables</dfn>.</p>
   <p class="note" role="note">A <a href="#concept-slot">slot</a> can be a <a href="#concept-slotable">slottable</a>. </p>
   <p>A <a href="#concept-slotable">slottable</a> has an associated <dfn id="slotable-name">name</dfn> (a
string). Unless stated otherwise it is the empty string.</p>
   <p>Use these <a href="#concept-element-attributes-change-ext">attribute change steps</a> to update a <a href="#concept-slotable">slottable</a>’s <a href="#slotable-name">name</a>: </p>
   <ol>
    <li>
     <p>If <var>localName</var> is <code>slot</code> and <var>namespace</var> is null, then: </p>
     <ol>
      <li>
       <p>If <var>value</var> is <var>oldValue</var>, then return. </p>
      <li>
       <p>If <var>value</var> is null and <var>oldValue</var> is the empty string, then return. </p>
      <li>
       <p>If <var>value</var> is the empty string and <var>oldValue</var> is null, then return. </p>
      <li>
       <p>If <var>value</var> is null or the empty string, then set <var>element</var>’s <a href="#slotable-name">name</a> to the empty string. </p>
      <li>
       <p>Otherwise, set <var>element</var>’s <a href="#slotable-name">name</a> to <var>value</var>. </p>
      <li>
       <p>If <var>element</var> is <a href="#slotable-assigned">assigned</a>, then run <a href="#assign-slotables">assign slottables</a> for <var>element</var>’s <a href="#slotable-assigned-slot">assigned slot</a>. </p>
      <li>
       <p>Run <a href="#assign-a-slot">assign a slot</a> for <var>element</var>. </p>
     </ol>
   </ol>
   <p>A <a href="#concept-slotable">slottable</a> has an associated <dfn id="slotable-assigned-slot">assigned slot</dfn> (null or a <a href="#concept-slot">slot</a>).
Unless stated otherwise it is null. A <a href="#concept-slotable">slottable</a> is <dfn id="slotable-assigned">assigned</dfn> if its <a href="#slotable-assigned-slot">assigned slot</a> is
non-null.</p>
   <h5 class="heading settled" id="finding-slots-and-slotables"><span class="secno">4.2.2.3. </span><span class="content">Finding slots and slottables</span></h5>
   <p>To <dfn id="find-a-slot">find a slot</dfn> for a given <a href="#concept-slotable">slottable</a> <var>slottable</var> and an optional <i>open flag</i> (unset unless stated otherwise), run these
steps:</p>
   <ol>
    <li>
     <p>If <var>slottable</var>’s <a href="#concept-tree-parent">parent</a> is null, then return null.</p>
    <li>
     <p>Let <var>shadow</var> be <var>slottable</var>’s <a href="#concept-tree-parent">parent</a>’s <a href="#concept-element-shadow-root">shadow root</a>.</p>
    <li>
     <p>If <var>shadow</var> is null, then return null.</p>
    <li>
     <p>If the <i>open flag</i> is set and <var>shadow</var>’s <a href="#shadowroot-mode">mode</a> is <em>not</em> "<code>open</code>", then return null.</p>
    <li>
     <p>Return the first <a href="#concept-slot">slot</a> in <a href="#concept-tree-order">tree order</a> in <var>shadow</var>’s <a href="#concept-tree-descendant">descendants</a> whose <a href="#slot-name">name</a> is <var>slottable</var>’s <a href="#slotable-name">name</a>, if any, and null otherwise.</p>
   </ol>
   <p>To <dfn id="find-slotables">find slottables</dfn> for a given <a href="#concept-slot">slot</a> <var>slot</var>, run these steps:</p>
   <ol>
    <li>
     <p>Let <var>result</var> be an empty list.</p>
    <li>
     <p>If <var>slot</var>’s <a href="#concept-tree-root">root</a> is not a <a href="#concept-shadow-root">shadow root</a>, then return <var>result</var>.</p>
    <li>
     <p>Let <var>host</var> be <var>slot</var>’s <a href="#concept-tree-root">root</a>’s <a href="#concept-documentfragment-host">host</a>.</p>
    <li>
     <p>For each <a href="#concept-slotable">slottable</a> <a href="#concept-tree-child">child</a> of <var>host</var>, <var>slottable</var>, in <a href="#concept-tree-order">tree order</a>:</p>
     <ol>
      <li>
       <p>Let <var>foundSlot</var> be the result of <a href="#find-a-slot">finding a slot</a> given <var>slottable</var>.</p>
      <li>
       <p>If <var>foundSlot</var> is <var>slot</var>, then append <var>slottable</var> to <var>result</var>.</p>
     </ol>
    <li>
     <p>Return <var>result</var>.</p>
   </ol>
   <p>To <dfn id="find-flattened-slotables">find flattened slottables</dfn> for a given <a href="#concept-slot">slot</a> <var>slot</var>, run these steps:</p>
   <ol>
    <li>
     <p>Let <var>result</var> be an empty list.</p>
    <li>
     <p>If <var>slot</var>’s <a href="#concept-tree-root">root</a> is not a <a href="#concept-shadow-root">shadow root</a>, then return <var>result</var>.</p>
    <li>
     <p>Let <var>slottables</var> be the result of <a href="#find-slotables">finding slottables</a> given <var>slot</var>.</p>
    <li>
     <p>If <var>slottables</var> is the empty list, then append each <a href="#concept-slotable">slottable</a> <a href="#concept-tree-child">child</a> of <var>slot</var>, in <a href="#concept-tree-order">tree order</a>, to <var>slottables</var>.</p>
    <li>
     <p>For each <var>node</var> in <var>slottables</var>: </p>
     <ol>
      <li>
       <p>If <var>node</var> is a <a href="#concept-slot">slot</a> whose <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>,
    then: </p>
       <ol>
        <li>
         <p>Let <var>temporaryResult</var> be the result of <a href="#find-flattened-slotables">finding flattened slottables</a> given <var>node</var>.</p>
        <li>
         <p>Append each <a href="#concept-slotable">slottable</a> in <var>temporaryResult</var>, in order, to <var>result</var>.</p>
       </ol>
      <li>
       <p>Otherwise, append <var>node</var> to <var>result</var>.</p>
     </ol>
    <li>
     <p>Return <var>result</var>.</p>
   </ol>
   <h5 class="heading settled" id="assigning-slotables-and-slots"><span class="secno">4.2.2.4. </span><span class="content">Assigning slottables and slots</span></h5>
   <p>To <dfn id="assign-slotables">assign slottables</dfn> for a <a href="#concept-slot">slot</a> <var>slot</var>,
run these steps: </p>
   <ol>
    <li>
     <p>Let <var>slottables</var> be the result of <a href="#find-slotables">finding slottables</a> for <var>slot</var>. </p>
    <li>
     <p>If <var>slottables</var> and <var>slot</var>’s <a href="#slot-assigned-nodes">assigned nodes</a> are not
 identical, then run <a href="#signal-a-slot-change">signal a slot change</a> for <var>slot</var>. </p>
    <li>
     <p>Set <var>slot</var>’s <a href="#slot-assigned-nodes">assigned nodes</a> to <var>slottables</var>. </p>
    <li>
     <p>For each <var>slottable</var> in <var>slottables</var>, set <var>slottable</var>’s <a href="#slotable-assigned-slot">assigned slot</a> to <var>slot</var>. </p>
   </ol>
   <p>To <dfn id="assign-slotables-for-a-tree">assign slottables for a tree</dfn>, given a <a href="#concept-node">node</a> <var>root</var>, run <a href="#assign-slotables">assign slottables</a> for each <a href="#concept-slot">slot</a> <var>slot</var> in <var>root</var>’s <a href="#concept-tree-inclusive-descendant">inclusive descendants</a>, in <a href="#concept-tree-order">tree order</a>. </p>
   <p>To <dfn id="assign-a-slot">assign a slot</dfn>, given a <a href="#concept-slotable">slottable</a> <var>slottable</var>, run these
steps: </p>
   <ol>
    <li>
     <p>Let <var>slot</var> be the result of <a href="#find-a-slot">finding a slot</a> with <var>slottable</var>. </p>
    <li>
     <p>If <var>slot</var> is non-null, then run <a href="#assign-slotables">assign slottables</a> for <var>slot</var>. </p>
   </ol>
   <h5 class="heading settled" id="signaling-slot-change"><span class="secno">4.2.2.5. </span><span class="content">Signaling slot change</span></h5>
   <p>Each <a href="https://html.spec.whatwg.org/multipage/webappapis.html#similar-origin-window-agent" id="termref-for-①⑨②">similar-origin window agent</a> has <dfn id="signal-slot-list">signal slots</dfn> (a <a href="https://infra.spec.whatwg.org/#ordered-set" id="termref-for-①⑨③">set</a> of <a href="#concept-slot">slots</a>), which is initially empty. <a href="#biblio-html">[HTML]</a> </p>
   <p>To <dfn id="signal-a-slot-change">signal a slot change</dfn>, for a <a href="#concept-slot">slot</a> <var>slot</var>, run these steps: </p>
   <ol>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#set-append" id="termref-for-①⑨④">Append</a> <var>slot</var> to <var>slot</var>’s <a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-agent" id="termref-for-①⑨⑤">relevant agent</a>’s <a href="#signal-slot-list">signal slots</a>. </p>
    <li>
     <p><a href="#queue-a-mutation-observer-compound-microtask">Queue a mutation observer microtask</a>. </p>
   </ol>
   <h4 class="heading settled" id="mutation-algorithms"><span class="secno">4.2.3. </span><span class="content">Mutation algorithms</span></h4>
   <p>To <dfn id="concept-node-ensure-pre-insertion-validity">ensure pre-insertion validity</dfn> of a <var>node</var> into a <var>parent</var> before a <var>child</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>parent</var> is not a <code class="idl"><a href="#document">Document</a></code>, <code class="idl"><a href="#documentfragment">DocumentFragment</a></code>, or <code class="idl"><a href="#element">Element</a></code> <a href="#boundary-point-node">node</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⑨⑥">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-①⑨⑦">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⑨⑧">DOMException</a></code>. </p>
    <li>
     <p>If <var>node</var> is a <a href="#concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</a> of <var>parent</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⑨⑨">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⓪⓪">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⓪①">DOMException</a></code>. </p>
    <li>
     <p>If <var>child</var> is non-null and its <a href="#concept-tree-parent">parent</a> is not <var>parent</var>,
 then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⓪②">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notfounderror" id="termref-for-②⓪③">NotFoundError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⓪④">DOMException</a></code>. </p>
    <li>
     <p>If <var>node</var> is not a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a href="#documenttype">DocumentType</a></code>, <code class="idl"><a href="#element">Element</a></code>, <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⓪⑤">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⓪⑥">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⓪⑦">DOMException</a></code>. </p>
    <li>
     <p>If either <var>node</var> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> and <var>parent</var> is a <a href="#concept-document">document</a>, or <var>node</var> is a <a href="#concept-doctype">doctype</a> and <var>parent</var> is not a <a href="#concept-document">document</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⓪⑧">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⓪⑨">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②①⓪">DOMException</a></code>. </p>
    <li>
     <p>If <var>parent</var> is a <a href="#concept-document">document</a>, and any of the statements below, switched on <var>node</var>, are true, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②①①">throw</a> a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②①②">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②①③">DOMException</a></code>. </p>
     <dl class="switch">
      <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a> 
      <dd>
       <p>If <var>node</var> has more than one <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a> or has a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> <a href="#concept-tree-child">child</a>. </p>
       <p>Otherwise, if <var>node</var> has one <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a> and either <var>parent</var> has an <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a>, <var>child</var> is a <a href="#concept-doctype">doctype</a>, or <var>child</var> is non-null and a <a href="#concept-doctype">doctype</a> is <a href="#concept-tree-following">following</a> <var>child</var>. </p>
      <dt><a href="#concept-element">element</a> 
      <dd>
       <p><var>parent</var> has an <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a>, <var>child</var> is
   a <a href="#concept-doctype">doctype</a>, or <var>child</var> is non-null and a <a href="#concept-doctype">doctype</a> is <a href="#concept-tree-following">following</a> <var>child</var>. </p>
      <dt><a href="#concept-doctype">doctype</a> 
      <dd>
       <p><var>parent</var> has a <a href="#concept-doctype">doctype</a> <a href="#concept-tree-child">child</a>, <var>child</var> is non-null
   and an <a href="#concept-element">element</a> is <a href="#concept-tree-preceding">preceding</a> <var>child</var>, or <var>child</var> is null
   and <var>parent</var> has an <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a>. </p>
     </dl>
   </ol>
   <p>To <dfn id="concept-node-pre-insert">pre-insert</dfn> a <var>node</var> into a <var>parent</var> before a <var>child</var>, run these steps: </p>
   <ol>
    <li>
     <p><a href="#concept-node-ensure-pre-insertion-validity">Ensure pre-insertion validity</a> of <var>node</var> into <var>parent</var> before <var>child</var>. </p>
    <li>
     <p>Let <var>referenceChild</var> be <var>child</var>. </p>
    <li>
     <p>If <var>referenceChild</var> is <var>node</var>, then set <var>referenceChild</var> to <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
    <li>
     <p><a href="#concept-node-insert">Insert</a> <var>node</var> into <var>parent</var> before <var>referenceChild</var>. </p>
    <li>
     <p>Return <var>node</var>. </p>
   </ol>
   <p><a href="#other-applicable-specifications">Specifications</a> may define <dfn id="concept-node-insert-ext">insertion steps</dfn> for all or some <a href="#concept-node">nodes</a>. The
algorithm is passed <var>insertedNode</var>, as indicated in the <a href="#concept-node-insert">insert</a> algorithm below. </p>
   <p><a href="#other-applicable-specifications">Specifications</a> may define <dfn id="concept-node-children-changed-ext">children changed steps</dfn> for all or some <a href="#concept-node">nodes</a>. The algorithm is passed no argument and is called from <a href="#concept-node-insert">insert</a>, <a href="#concept-node-remove">remove</a>, and <a href="#concept-cd-replace">replace data</a>. </p>
   <p>To <dfn id="concept-node-insert">insert</dfn> a <var>node</var> into a <var>parent</var> before a <var>child</var>, with an optional <i>suppress observers flag</i>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>nodes</var> be <var>node</var>’s <a href="#concept-tree-child">children</a>, if <var>node</var> is a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>; otherwise « <var>node</var> ». </p>
    <li>
     <p>Let <var>count</var> be <var>nodes</var>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-②①④">size</a>. </p>
    <li>
     <p>If <var>count</var> is 0, then return. </p>
    <li>
     <p>If <var>node</var> is a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>, then: </p>
     <ol>
      <li>
       <p><a href="#concept-node-remove">Remove</a> its <a href="#concept-tree-child">children</a> with the <i>suppress observers flag</i> set. </p>
      <li>
       <p><a href="#queue-a-tree-mutation-record">Queue a tree mutation record</a> for <var>node</var> with « », <var>nodes</var>, null, and
    null. </p>
       <p class="note no-backref" role="note">This step intentionally does not pay attention to the <i>suppress observers flag</i>. </p>
     </ol>
    <li>
     <p>If <var>child</var> is non-null, then: </p>
     <ol>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>parent</var> and <a href="#concept-range-start-offset">start offset</a> is greater than <var>child</var>’s <a href="#concept-tree-index">index</a>, increase
   its <a href="#concept-range-start-offset">start offset</a> by <var>count</var>. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>parent</var> and <a href="#concept-range-end-offset">end offset</a> is greater than <var>child</var>’s <a href="#concept-tree-index">index</a>, increase
   its <a href="#concept-range-end-offset">end offset</a> by <var>count</var>. </p>
     </ol>
    <li>
     <p>Let <var>previousSibling</var> be <var>child</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> or <var>parent</var>’s <a href="#concept-tree-last-child">last child</a> if <var>child</var> is null. </p>
    <li>
     <p>For each <var>node</var> in <var>nodes</var>, in <a href="#concept-tree-order">tree order</a>: </p>
     <ol>
      <li>
       <p><a href="#concept-node-adopt">Adopt</a> <var>node</var> into <var>parent</var>’s <a href="#concept-node-document">node document</a>. </p>
      <li>
       <p>If <var>child</var> is null, then <a href="https://infra.spec.whatwg.org/#set-append" id="termref-for-②①⑤">append</a> <var>node</var> to <var>parent</var>’s <a href="#concept-tree-child">children</a>. </p>
      <li>
       <p>Otherwise, <a href="https://infra.spec.whatwg.org/#list-insert" id="termref-for-②①⑥">insert</a> <var>node</var> into <var>parent</var>’s <a href="#concept-tree-child">children</a> before <var>child</var>’s <a href="#concept-tree-index">index</a>. </p>
      <li>
       <p>If <var>parent</var> is a <a href="#element-shadow-host">shadow host</a> and <var>node</var> is a <a href="#concept-slotable">slottable</a>, then <a href="#assign-a-slot">assign a slot</a> for <var>node</var>. </p>
      <li>
       <p>If <var>parent</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>, and <var>parent</var> is a <a href="#concept-slot">slot</a> whose <a href="#slot-assigned-nodes">assigned nodes</a> is the empty list,
   then run <a href="#signal-a-slot-change">signal a slot change</a> for <var>parent</var>. </p>
      <li>
       <p>Run <a href="#assign-slotables-for-a-tree">assign slottables for a tree</a> with <var>node</var>’s <a href="#concept-tree-root">root</a>. </p>
      <li>
       <p>For each <a href="#concept-shadow-including-inclusive-descendant">shadow-including inclusive descendant</a> <var>inclusiveDescendant</var> of <var>node</var>, in <a href="#concept-shadow-including-tree-order">shadow-including tree order</a>: </p>
       <ol>
        <li>
         <p>Run the <a href="#concept-node-insert-ext">insertion steps</a> with <var>inclusiveDescendant</var>. </p>
        <li>
         <p>If <var>inclusiveDescendant</var> is <a href="#connected">connected</a>, then: </p>
         <ol>
          <li>
           <p>If <var>inclusiveDescendant</var> is <a href="#concept-element-custom">custom</a>, then <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-callback-reaction" id="termref-for-②①⑦">enqueue a custom element callback reaction</a> with <var>inclusiveDescendant</var>,
       callback name "<code>connectedCallback</code>", and an empty argument list. </p>
          <li>
           <p>Otherwise, <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-try-upgrade" id="termref-for-②①⑧">try to upgrade</a> <var>inclusiveDescendant</var>. </p>
           <p class="note" role="note">If this successfully upgrades <var>inclusiveDescendant</var>, its <code>connectedCallback</code> will be enqueued automatically during the <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-upgrade-an-element" id="termref-for-②①⑨">upgrade an element</a> algorithm. </p>
         </ol>
       </ol>
     </ol>
    <li>
     <p>If <i>suppress observers flag</i> is unset, then <a href="#queue-a-tree-mutation-record">queue a tree mutation record</a> for <var>parent</var> with <var>nodes</var>, « », <var>previousSibling</var>, and <var>child</var>. </p>
    <li>
     <p>Run the <a href="#concept-node-children-changed-ext">children changed steps</a> for <var>parent</var>. </p>
   </ol>
   <p>To <dfn id="concept-node-append">append</dfn> a <var>node</var> to a <var>parent</var>, <a href="#concept-node-pre-insert">pre-insert</a> <var>node</var> into <var>parent</var> before null. </p>
   <p>To <dfn id="concept-node-replace">replace</dfn> a <var>child</var> with <var>node</var> within a <var>parent</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>parent</var> is not a <code class="idl"><a href="#document">Document</a></code>, <code class="idl"><a href="#documentfragment">DocumentFragment</a></code>, or <code class="idl"><a href="#element">Element</a></code> <a href="#boundary-point-node">node</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②②⓪">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②②①">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②②②">DOMException</a></code>. </p>
    <li>
     <p>If <var>node</var> is a <a href="#concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</a> of <var>parent</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②②③">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②②④">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②②⑤">DOMException</a></code>. </p>
    <li>
     <p>If <var>child</var>’s <a href="#concept-tree-parent">parent</a> is not <var>parent</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②②⑥">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notfounderror" id="termref-for-②②⑦">NotFoundError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②②⑧">DOMException</a></code>. </p>
    <li>
     <p>If <var>node</var> is not a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a href="#documenttype">DocumentType</a></code>, <code class="idl"><a href="#element">Element</a></code>, <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②②⑨">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②③⓪">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②③①">DOMException</a></code>. </p>
    <li>
     <p>If either <var>node</var> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> and <var>parent</var> is a <a href="#concept-document">document</a>, or <var>node</var> is a <a href="#concept-doctype">doctype</a> and <var>parent</var> is not a <a href="#concept-document">document</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②③②">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②③③">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②③④">DOMException</a></code>. </p>
    <li>
     <p>If <var>parent</var> is a <a href="#concept-document">document</a>, and any of the statements below, switched on <var>node</var>, are true, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②③⑤">throw</a> a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②③⑥">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②③⑦">DOMException</a></code>. </p>
     <dl class="switch">
      <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a> 
      <dd>
       <p>If <var>node</var> has more than one <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a> or has a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> <a href="#concept-tree-child">child</a>. </p>
       <p>Otherwise, if <var>node</var> has one <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a> and either <var>parent</var> has an <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a> that is not <var>child</var> or a <a href="#concept-doctype">doctype</a> is <a href="#concept-tree-following">following</a> <var>child</var>. </p>
      <dt><a href="#concept-element">element</a> 
      <dd>
       <p><var>parent</var> has an <a href="#concept-element">element</a> <a href="#concept-tree-child">child</a> that is not <var>child</var> or a <a href="#concept-doctype">doctype</a> is <a href="#concept-tree-following">following</a> <var>child</var>. </p>
      <dt><a href="#concept-doctype">doctype</a> 
      <dd>
       <p><var>parent</var> has a <a href="#concept-doctype">doctype</a> <a href="#concept-tree-child">child</a> that is not <var>child</var>,
   or an <a href="#concept-element">element</a> is <a href="#concept-tree-preceding">preceding</a> <var>child</var>. </p>
     </dl>
     <p class="note no-backref" role="note">The above statements differ from the <a href="#concept-node-pre-insert">pre-insert</a> algorithm. </p>
    <li>
     <p>Let <var>referenceChild</var> be <var>child</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
    <li>
     <p>If <var>referenceChild</var> is <var>node</var>, then set <var>referenceChild</var> to <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
    <li>
     <p>Let <var>previousSibling</var> be <var>child</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a>. </p>
    <li>
     <p>Let <var>removedNodes</var> be the empty set. </p>
    <li>
     <p>If <var>child</var>’s <a href="#concept-tree-parent">parent</a> is non-null, then: </p>
     <ol>
      <li>
       <p>Set <var>removedNodes</var> to « <var>child</var> ». </p>
      <li>
       <p><a href="#concept-node-remove">Remove</a> <var>child</var> with the <i>suppress observers flag</i> set. </p>
     </ol>
     <p class="note no-backref" role="note">The above can only be false if <var>child</var> is <var>node</var>. </p>
    <li>
     <p>Let <var>nodes</var> be <var>node</var>’s <a href="#concept-tree-child">children</a> if <var>node</var> is a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>; otherwise « <var>node</var> ». </p>
    <li>
     <p><a href="#concept-node-insert">Insert</a> <var>node</var> into <var>parent</var> before <var>referenceChild</var> with the <i>suppress observers flag</i> set. </p>
    <li>
     <p><a href="#queue-a-tree-mutation-record">Queue a tree mutation record</a> for <var>parent</var> with <var>nodes</var>, <var>removedNodes</var>, <var>previousSibling</var>, and <var>referenceChild</var>. </p>
    <li>
     <p>Return <var>child</var>. </p>
   </ol>
   <p>To <dfn id="concept-node-replace-all">replace all</dfn> with a <var>node</var> within a <var>parent</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>removedNodes</var> be <var>parent</var>’s <a href="#concept-tree-child">children</a>. </p>
    <li>
     <p>Let <var>addedNodes</var> be the empty set. </p>
    <li>
     <p>If <var>node</var> is a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>, then set <var>addedNodes</var> to <var>node</var>’s <a href="#concept-tree-child">children</a>. </p>
    <li>
     <p>Otherwise, if <var>node</var> is non-null, set <var>addedNodes</var> to « <var>node</var> ». </p>
    <li>
     <p><a href="#concept-node-remove">Remove</a> all <var>parent</var>’s <a href="#concept-tree-child">children</a>, in <a href="#concept-tree-order">tree order</a>, with the <i>suppress observers flag</i> set. </p>
    <li>
     <p>If <var>node</var> is non-null, then <a href="#concept-node-insert">insert</a> <var>node</var> into <var>parent</var> before null with the <i>suppress observers flag</i> set. </p>
    <li>
     <p>If either <var>addedNodes</var> or <var>removedNodes</var> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-②③⑧">is not empty</a>,
 then <a href="#queue-a-tree-mutation-record">queue a tree mutation record</a> for <var>parent</var> with <var>addedNodes</var>, <var>removedNodes</var>, null, and null. </p>
   </ol>
   <p class="note no-backref" role="note">This algorithm does not make any checks with regards to the <a href="#concept-node-tree">node tree</a> constraints. Specification authors need to use it wisely. </p>
   <p>To <dfn id="concept-node-pre-remove">pre-remove</dfn> a <var>child</var> from a <var>parent</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>child</var>’s <a href="#concept-tree-parent">parent</a> is not <var>parent</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②③⑨">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notfounderror" id="termref-for-②④⓪">NotFoundError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②④①">DOMException</a></code>. </p>
    <li>
     <p><a href="#concept-node-remove">Remove</a> <var>child</var>. </p>
    <li>
     <p>Return <var>child</var>. </p>
   </ol>
   <p><a href="#other-applicable-specifications">Specifications</a> may define <dfn id="concept-node-remove-ext">removing steps</dfn> for all or some <a href="#concept-node">nodes</a>. The
algorithm is passed <var>removedNode</var>, and optionally <var>oldParent</var>, as
indicated in the <a href="#concept-node-remove">remove</a> algorithm below. </p>
   <p>To <dfn id="concept-node-remove">remove</dfn> a <var>node</var>, with an optional <i>suppress observers flag</i>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a> </p>
    <li>
     <p>Assert: <var>parent</var> is non-null. </p>
    <li>
     <p>Let <var>index</var> be <var>node</var>’s <a href="#concept-tree-index">index</a>. </p>
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is an <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <var>node</var>, set its <a href="#concept-range-start">start</a> to
 (<var>parent</var>, <var>index</var>). </p>
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is an <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <var>node</var>, set its <a href="#concept-range-end">end</a> to (<var>parent</var>, <var>index</var>). </p>
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>parent</var> and <a href="#concept-range-start-offset">start offset</a> is greater than <var>index</var>, decrease its <a href="#concept-range-start-offset">start offset</a> by 1. </p>
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>parent</var> and <a href="#concept-range-end-offset">end offset</a> is greater than <var>index</var>, decrease its <a href="#concept-range-end-offset">end offset</a> by 1. </p>
    <li>
     <p>For each <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> object <var>iterator</var> whose <a href="#concept-traversal-root">root</a>’s <a href="#concept-node-document">node document</a> is <var>node</var>’s <a href="#concept-node-document">node document</a>, run the <a href="#nodeiterator-pre-removing-steps"><code>NodeIterator</code> pre-removing steps</a> given <var>node</var> and <var>iterator</var>. </p>
    <li>
     <p>Let <var>oldPreviousSibling</var> be <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a>. </p>
    <li>
     <p>Let <var>oldNextSibling</var> be <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-②④②">Remove</a> <var>node</var> from its <var>parent</var>’s <a href="#concept-tree-child">children</a>. </p>
    <li>
     <p>If <var>node</var> is <a href="#slotable-assigned">assigned</a>, then run <a href="#assign-slotables">assign slottables</a> for <var>node</var>’s <a href="#slotable-assigned-slot">assigned slot</a>. </p>
    <li>
     <p>If <var>parent</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>, and <var>parent</var> is a <a href="#concept-slot">slot</a> whose <a href="#slot-assigned-nodes">assigned nodes</a> is the empty list,
 then run <a href="#signal-a-slot-change">signal a slot change</a> for <var>parent</var>. </p>
    <li>
     <p>If <var>node</var> has an <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> that is a <a href="#concept-slot">slot</a>, then: </p>
     <ol>
      <li>
       <p>Run <a href="#assign-slotables-for-a-tree">assign slottables for a tree</a> with <var>parent</var>’s <a href="#concept-tree-root">root</a>. </p>
      <li>
       <p>Run <a href="#assign-slotables-for-a-tree">assign slottables for a tree</a> with <var>node</var>. </p>
     </ol>
    <li>
     <p>Run the <a href="#concept-node-remove-ext">removing steps</a> with <var>node</var> and <var>parent</var>. </p>
    <li>
     <p>Let <var>isParentConnected</var> be <var>parent</var>’s <a href="#connected">connected</a>. </p>
    <li>
     <p>If <var>node</var> is <a href="#concept-element-custom">custom</a> and <var>isParentConnected</var> is true, then <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-callback-reaction" id="termref-for-②④③">enqueue a custom element callback reaction</a> with <var>node</var>, callback name
  "<code>disconnectedCallback</code>", and an empty argument list. </p>
     <p class="note" role="note">It is intentional for now that <a href="#concept-element-custom">custom</a> <a href="#concept-element">elements</a> do
  not get <var>parent</var> passed. This might change in the future if there is a need. </p>
    <li>
     <p>For each <a href="#concept-shadow-including-descendant">shadow-including descendant</a> <var>descendant</var> of <var>node</var>, in <a href="#concept-shadow-including-tree-order">shadow-including tree order</a>, then: </p>
     <ol>
      <li>
       <p>Run the <a href="#concept-node-remove-ext">removing steps</a> with <var>descendant</var>. </p>
      <li>
       <p>If <var>descendant</var> is <a href="#concept-element-custom">custom</a> and <var>isParentConnected</var> is true, then <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-callback-reaction" id="termref-for-②④④">enqueue a custom element callback reaction</a> with <var>descendant</var>,
   callback name "<code>disconnectedCallback</code>", and an empty argument list. </p>
     </ol>
    <li>
     <p>For each <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> <var>inclusiveAncestor</var> of <var>parent</var>, and then <a href="https://infra.spec.whatwg.org/#list-iterate">for each</a> <var>registered</var> of <var>inclusiveAncestor</var>’s <a href="#registered-observer-list">registered observer list</a>, if <var>registered</var>’s <a href="#registered-observer-options">options</a>’s <code class="idl"><a href="#dom-mutationobserverinit-subtree">subtree</a></code> is true, then <a href="https://infra.spec.whatwg.org/#list-append">append</a> a new <a href="#transient-registered-observer">transient registered observer</a> whose <a href="#registered-observer-observer">observer</a> is <var>registered</var>’s <a href="#registered-observer-observer">observer</a>, <a href="#registered-observer-options">options</a> is <var>registered</var>’s <a href="#registered-observer-options">options</a>, and <a href="#transient-registered-observer-source">source</a> is <var>registered</var> to <var>node</var>’s <a href="#registered-observer-list">registered observer list</a>. </p>
    <li>
     <p>If <i>suppress observers flag</i> is unset, then <a href="#queue-a-tree-mutation-record">queue a tree mutation record</a> for <var>parent</var> with « », « <var>node</var> », <var>oldPreviousSibling</var>, and <var>oldNextSibling</var>. </p>
    <li>
     <p>Run the <a href="#concept-node-children-changed-ext">children changed steps</a> for <var>parent</var>. </p>
   </ol>
   <h4 class="heading settled" id="interface-nonelementparentnode"><span class="secno">4.2.4. </span><span class="content">Mixin <code class="idl"><a href="#nonelementparentnode">NonElementParentNode</a></code></span></h4>
   <p class="note no-backref" role="note">Web compatibility prevents the <code class="idl"><a href="#dom-nonelementparentnode-getelementbyid">getElementById()</a></code> method from being exposed on <a href="#concept-element">elements</a> (and therefore on <code class="idl"><a href="#parentnode">ParentNode</a></code>). </p>
<pre class="idl highlight def">interface mixin <dfn class="idl-code" id="nonelementparentnode"><code>NonElementParentNode</code></dfn> {
  <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-nonelementparentnode-getelementbyid">getElementById</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②④⑤">DOMString</a> <dfn class="idl-code" id="dom-nonelementparentnode-getelementbyid-elementid-elementid"><code>elementId</code></dfn>);
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#nonelementparentnode">NonElementParentNode</a>;
<a class="n" href="#documentfragment">DocumentFragment</a> includes <a class="n" href="#nonelementparentnode">NonElementParentNode</a>;
</pre>
   <dl class="domintro">
    <dt><code><var>node</var> . <a class="idl-code" href="#dom-nonelementparentnode-getelementbyid">getElementById</a>(<var>elementId</var>)</code> 
    <dd>
     <p>Returns the first <a href="#concept-element">element</a> within <var>node</var>’s <a href="#concept-tree-descendant">descendants</a> whose <a href="#concept-id">ID</a> is <var>elementId</var>. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-nonelementparentnode-getelementbyid"><code>getElementById(<var>elementId</var>)</code></dfn> method, when invoked, must return the first <a href="#concept-element">element</a>, in <a href="#concept-tree-order">tree order</a>, within <a href="https://heycam.github.io/webidl/#this" id="termref-for-②④⑥">this</a>’s <a href="#concept-tree-descendant">descendants</a>, whose <a href="#concept-id">ID</a> is <var>elementId</var>, and null if
there is no such <a href="#concept-element">element</a> otherwise. </p>
   <h4 class="heading settled" id="mixin-documentorshadowroot"><span class="secno">4.2.5. </span><span class="content">Mixin <code class="idl"><a href="#documentorshadowroot">DocumentOrShadowRoot</a></code></span></h4>
<pre class="idl highlight def">interface mixin <dfn class="idl-code" id="documentorshadowroot"><code>DocumentOrShadowRoot</code></dfn> {
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#documentorshadowroot">DocumentOrShadowRoot</a>;
<a class="n" href="#shadowroot">ShadowRoot</a> includes <a class="n" href="#documentorshadowroot">DocumentOrShadowRoot</a>;
</pre>
   <p class="note no-backref" role="note">The <code class="idl"><a href="#documentorshadowroot">DocumentOrShadowRoot</a></code> mixin is expected to be used by other
standards that want to define APIs shared between <a href="#concept-document">documents</a> and <a href="#concept-shadow-root">shadow roots</a>. </p>
   <h4 class="heading settled" id="interface-parentnode"><span class="secno">4.2.6. </span><span class="content">Mixin <code class="idl"><a href="#parentnode">ParentNode</a></code></span></h4>
   <p>To <dfn id="converting-nodes-into-a-node">convert nodes into a node</dfn>, given <var>nodes</var> and <var>document</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be null. </p>
    <li>
     <p>Replace each string in <var>nodes</var> with a new <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is the string and <a href="#concept-node-document">node document</a> is <var>document</var>. </p>
    <li>
     <p>If <var>nodes</var> contains one <a href="#boundary-point-node">node</a>, set <var>node</var> to that <a href="#boundary-point-node">node</a>. </p>
    <li>
     <p>Otherwise, set <var>node</var> to a new <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> whose <a href="#concept-node-document">node document</a> is <var>document</var>, and then <a href="#concept-node-append">append</a> each <a href="#boundary-point-node">node</a> in <var>nodes</var>, if any, to it. </p>
    <li>
     <p>Return <var>node</var>. </p>
   </ol>
<pre class="idl highlight def">interface mixin <dfn class="idl-code" id="parentnode"><code>ParentNode</code></dfn> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-②④⑦">SameObject</a>] readonly attribute <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-parentnode-children">children</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-parentnode-firstelementchild">firstElementChild</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-parentnode-lastelementchild">lastElementChild</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-②④⑧">unsigned long</a> <a class="idl-code" href="#dom-parentnode-childelementcount">childElementCount</a>;

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-②④⑨">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-②⑤⓪">Unscopable</a>] void <a class="idl-code" href="#dom-parentnode-prepend">prepend</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑤①">DOMString</a>)... <dfn class="idl-code" id="dom-parentnode-prepend-nodes-nodes"><code>nodes</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-②⑤②">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-②⑤③">Unscopable</a>] void <a class="idl-code" href="#dom-parentnode-append">append</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑤④">DOMString</a>)... <dfn class="idl-code" id="dom-parentnode-append-nodes-nodes"><code>nodes</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-②⑤⑤">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-②⑤⑥">Unscopable</a>] void <a class="idl-code" href="#dom-parentnode-replacechildren">replaceChildren</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑤⑦">DOMString</a>)... <dfn class="idl-code" id="dom-parentnode-replacechildren-nodes-nodes"><code>nodes</code></dfn>);

  <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-parentnode-queryselector">querySelector</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑤⑧">DOMString</a> <dfn class="idl-code" id="dom-parentnode-queryselector-selectors-selectors"><code>selectors</code></dfn>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-②⑤⑨">NewObject</a>] <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-parentnode-queryselectorall">querySelectorAll</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑥⓪">DOMString</a> <dfn class="idl-code" id="dom-parentnode-queryselectorall-selectors-selectors"><code>selectors</code></dfn>);
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#parentnode">ParentNode</a>;
<a class="n" href="#documentfragment">DocumentFragment</a> includes <a class="n" href="#parentnode">ParentNode</a>;
<a class="n" href="#element">Element</a> includes <a class="n" href="#parentnode">ParentNode</a>;
</pre>
   <dl class="domintro">
    <dt><code><var>collection</var> = <var>node</var> . <code class="idl"><a href="#dom-parentnode-children">children</a></code></code> 
    <dd>Returns the <a href="#concept-tree-child">child</a> <a href="#concept-element">elements</a>. 
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a href="#dom-parentnode-firstelementchild">firstElementChild</a></code></code> 
    <dd>Returns the first <a href="#concept-tree-child">child</a> that is an <a href="#concept-element">element</a>, and null otherwise. 
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a href="#dom-parentnode-lastelementchild">lastElementChild</a></code></code> 
    <dd>Returns the last <a href="#concept-tree-child">child</a> that is an <a href="#concept-element">element</a>, and null otherwise. 
    <dt><code><var>node</var> . <a class="idl-code" href="#dom-parentnode-prepend">prepend</a>(<var>nodes</var>)</code> 
    <dd>
     <p>Inserts <var>nodes</var> before the <a href="#concept-tree-first-child">first child</a> of <var>node</var>, while
  replacing strings in <var>nodes</var> with equivalent <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a>. </p>
     <p><a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⑥①">Throws</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⑥②">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⑥③">DOMException</a></code> if the constraints of
  the <a href="#concept-node-tree">node tree</a> are violated. </p>
    <dt><code><var>node</var> . <a class="idl-code" href="#dom-parentnode-append">append</a>(<var>nodes</var>)</code> 
    <dd>
     <p>Inserts <var>nodes</var> after the <a href="#concept-tree-last-child">last child</a> of <var>node</var>, while replacing
  strings in <var>nodes</var> with equivalent <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a>. </p>
     <p><a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⑥④">Throws</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⑥⑤">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⑥⑥">DOMException</a></code> if the constraints of
  the <a href="#concept-node-tree">node tree</a> are violated. </p>
    <dt><code><var>node</var> . <a class="idl-code" href="#dom-parentnode-replacechildren">replaceChildren</a>(<var>nodes</var>)</code> 
    <dd>
     <p>Replace all <a href="#concept-tree-child">children</a> of <var>node</var> with <var>nodes</var>,
  while replacing strings in <var>nodes</var> with equivalent <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a>. </p>
     <p><a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⑥⑦">Throws</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⑥⑧">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⑥⑨">DOMException</a></code> if the constraints of
  the <a href="#concept-node-tree">node tree</a> are violated. </p>
    <dt><code><var>node</var> . <a class="idl-code" href="#dom-parentnode-queryselector">querySelector</a>(<var>selectors</var>)</code> 
    <dd> Returns the first <a href="#concept-element">element</a> that is a <a href="#concept-tree-descendant">descendant</a> of <var>node</var> that
  matches <var>selectors</var>. 
    <dt><code><var>node</var> . <a class="idl-code" href="#dom-parentnode-queryselectorall">querySelectorAll</a>(<var>selectors</var>)</code> 
    <dd> Returns all <a href="#concept-element">element</a> <a href="#concept-tree-descendant">descendants</a> of <var>node</var> that
  match <var>selectors</var>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-parentnode-children"><code>children</code></dfn> attribute’s getter must return an <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> <a href="#concept-collection">collection</a> rooted at <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦⓪">this</a> matching only <a href="#concept-element">element</a> <a href="#concept-tree-child">children</a>. </p>
   <p>The <dfn class="idl-code" id="dom-parentnode-firstelementchild"><code>firstElementChild</code></dfn> attribute’s getter must
return the first <a href="#concept-tree-child">child</a> that is an <a href="#concept-element">element</a>, and null otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-parentnode-lastelementchild"><code>lastElementChild</code></dfn> attribute’s getter must
return the last <a href="#concept-tree-child">child</a> that is an <a href="#concept-element">element</a>, and null otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-parentnode-childelementcount"><code>childElementCount</code></dfn> attribute’s getter must
return the number of <a href="#concept-tree-child">children</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦①">this</a> that are <a href="#concept-element">elements</a>. </p>
   <p>The <dfn class="idl-code" id="dom-parentnode-prepend"><code>prepend(<var>nodes</var>)</code></dfn> method, when invoked,
must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be the result of <a href="#converting-nodes-into-a-node">converting nodes into a node</a> given <var>nodes</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦②">this</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p><a href="#concept-node-pre-insert">Pre-insert</a> <var>node</var> into <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦③">this</a> before <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦④">this</a>’s <a href="#concept-tree-first-child">first child</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-parentnode-append"><code>append(<var>nodes</var>)</code></dfn> method, when invoked,
must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be the result of <a href="#converting-nodes-into-a-node">converting nodes into a node</a> given <var>nodes</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦⑤">this</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p><a href="#concept-node-append">Append</a> <var>node</var> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦⑥">this</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-parentnode-replacechildren"><code>replaceChildren(<var>nodes</var>)</code></dfn> method, when invoked,
must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be the result of <a href="#converting-nodes-into-a-node">converting nodes into a node</a> given <var>nodes</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦⑦">this</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p><a href="#concept-node-ensure-pre-insertion-validity">Ensure pre-insertion validity</a> of <var>node</var> into <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦⑧">this</a> before
 null. </p>
    <li>
     <p><a href="#concept-node-replace-all">Replace all</a> with <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑦⑨">this</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-parentnode-queryselector"><code>querySelector(<var>selectors</var>)</code></dfn> method,
when invoked, must return the first result of running <a href="#scope-match-a-selectors-string">scope-match a selectors string</a> <var>selectors</var> against <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑧⓪">this</a>, if the result is not an empty list, and null otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-parentnode-queryselectorall"><code>querySelectorAll(<var>selectors</var>)</code></dfn> method, when invoked, must return the <a href="#concept-collection-static">static</a> result of running <a href="#scope-match-a-selectors-string">scope-match a selectors string</a> <var>selectors</var> against <a href="https://heycam.github.io/webidl/#this" id="termref-for-②⑧①">this</a>. </p>
   <h4 class="heading settled" id="interface-nondocumenttypechildnode"><span class="secno">4.2.7. </span><span class="content">Mixin <code class="idl"><a href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a></code></span></h4>
   <p class="note no-backref" role="note">Web compatibility prevents the <code class="idl"><a href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a></code> and <code class="idl"><a href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a></code> attributes from being exposed on <a href="#concept-doctype">doctypes</a> (and therefore on <code class="idl"><a href="#childnode">ChildNode</a></code>). </p>
<pre class="idl highlight def">interface mixin <dfn class="idl-code" id="nondocumenttypechildnode"><code>NonDocumentTypeChildNode</code></dfn> {
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a>;
};
<a class="n" href="#element">Element</a> includes <a class="n" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;
<a class="n" href="#characterdata">CharacterData</a> includes <a class="n" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;
</pre>
   <dl class="domintro">
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a></code></code> 
    <dd>Returns the first <a href="#concept-tree-preceding">preceding</a> <a href="#concept-tree-sibling">sibling</a> that
 is an <a href="#concept-element">element</a>, and null otherwise. 
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a></code></code> 
    <dd>Returns the first <a href="#concept-tree-following">following</a> <a href="#concept-tree-sibling">sibling</a> that
 is an <a href="#concept-element">element</a>, and null otherwise. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-nondocumenttypechildnode-previouselementsibling"><code>previousElementSibling</code></dfn> attribute’s getter must return the first <a href="#concept-tree-preceding">preceding</a> <a href="#concept-tree-sibling">sibling</a> that is an <a href="#concept-element">element</a>, and null otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-nondocumenttypechildnode-nextelementsibling"><code>nextElementSibling</code></dfn> attribute’s
getter must return the first <a href="#concept-tree-following">following</a> <a href="#concept-tree-sibling">sibling</a> that is an <a href="#concept-element">element</a>, and null otherwise. </p>
   <h4 class="heading settled" id="interface-childnode"><span class="secno">4.2.8. </span><span class="content">Mixin <code class="idl"><a href="#childnode">ChildNode</a></code></span></h4>
<pre class="idl highlight def">interface mixin <dfn class="idl-code" id="childnode"><code>ChildNode</code></dfn> {
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-②⑧②">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-②⑧③">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-before">before</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑧④">DOMString</a>)... <dfn class="idl-code" id="dom-childnode-before-nodes-nodes"><code>nodes</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-②⑧⑤">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-②⑧⑥">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-after">after</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑧⑦">DOMString</a>)... <dfn class="idl-code" id="dom-childnode-after-nodes-nodes"><code>nodes</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-②⑧⑧">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-②⑧⑨">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-replacewith">replaceWith</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-②⑨⓪">DOMString</a>)... <dfn class="idl-code" id="dom-childnode-replacewith-nodes-nodes"><code>nodes</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-②⑨①">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-②⑨②">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-remove">remove</a>();
};
<a class="n" href="#documenttype">DocumentType</a> includes <a class="n" href="#childnode">ChildNode</a>;
<a class="n" href="#element">Element</a> includes <a class="n" href="#childnode">ChildNode</a>;
<a class="n" href="#characterdata">CharacterData</a> includes <a class="n" href="#childnode">ChildNode</a>;
</pre>
   <dl class="domintro">
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-childnode-before">before(...nodes)</a></code></code> 
    <dd>
     <p>Inserts <var>nodes</var> just before <var>node</var>, while replacing strings in <var>nodes</var> with equivalent <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a>. </p>
     <p><a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⑨③">Throws</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⑨④">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⑨⑤">DOMException</a></code> if the constraints of
  the <a href="#concept-node-tree">node tree</a> are violated. </p>
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-childnode-after">after(...nodes)</a></code></code> 
    <dd>
     <p>Inserts <var>nodes</var> just after <var>node</var>, while replacing strings in <var>nodes</var> with equivalent <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a>. </p>
     <p><a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⑨⑥">Throws</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-②⑨⑦">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-②⑨⑧">DOMException</a></code> if the constraints of
  the <a href="#concept-node-tree">node tree</a> are violated. </p>
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-childnode-replacewith">replaceWith(...nodes)</a></code></code> 
    <dd>
     <p>Replaces <var>node</var> with <var>nodes</var>, while replacing strings in <var>nodes</var> with equivalent <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a>. </p>
     <p><a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-②⑨⑨">Throws</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-③⓪⓪">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-③⓪①">DOMException</a></code> if the constraints of
  the <a href="#concept-node-tree">node tree</a> are violated. </p>
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-childnode-remove">remove()</a></code></code> 
    <dd>Removes <var>node</var>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-childnode-before"><code>before(<var>nodes</var>)</code></dfn> method, when invoked,
must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>parent</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪②">this</a>’s <a href="#concept-tree-parent">parent</a>. </p>
    <li>
     <p>If <var>parent</var> is null, then return. </p>
    <li>
     <p>Let <var>viablePreviousSibling</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪③">this</a>’s first <a href="#concept-tree-preceding">preceding</a> <a href="#concept-tree-sibling">sibling</a> not in <var>nodes</var>, and null otherwise. </p>
    <li>
     <p>Let <var>node</var> be the result of <a href="#converting-nodes-into-a-node">converting nodes into a node</a>, given <var>nodes</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪④">this</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p>If <var>viablePreviousSibling</var> is null, set it to <var>parent</var>’s <a href="#concept-tree-first-child">first child</a>, and to <var>viablePreviousSibling</var>’s <a href="#concept-tree-next-sibling">next sibling</a> otherwise. </p>
    <li>
     <p><a href="#concept-node-pre-insert">Pre-insert</a> <var>node</var> into <var>parent</var> before <var>viablePreviousSibling</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-childnode-after"><code>after(<var>nodes</var>)</code></dfn> method, when invoked,
must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>parent</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪⑤">this</a>’s <a href="#concept-tree-parent">parent</a>. </p>
    <li>
     <p>If <var>parent</var> is null, then return. </p>
    <li>
     <p>Let <var>viableNextSibling</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪⑥">this</a>’s first <a href="#concept-tree-following">following</a> <a href="#concept-tree-sibling">sibling</a> not in <var>nodes</var>, and null otherwise. </p>
    <li>
     <p>Let <var>node</var> be the result of <a href="#converting-nodes-into-a-node">converting nodes into a node</a>, given <var>nodes</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪⑦">this</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p><a href="#concept-node-pre-insert">Pre-insert</a> <var>node</var> into <var>parent</var> before <var>viableNextSibling</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-childnode-replacewith"><code>replaceWith(<var>nodes</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>parent</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪⑧">this</a>’s <a href="#concept-tree-parent">parent</a>. </p>
    <li>
     <p>If <var>parent</var> is null, then return. </p>
    <li>
     <p>Let <var>viableNextSibling</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⓪⑨">this</a>’s first <a href="#concept-tree-following">following</a> <a href="#concept-tree-sibling">sibling</a> not in <var>nodes</var>, and null otherwise. </p>
    <li>
     <p>Let <var>node</var> be the result of <a href="#converting-nodes-into-a-node">converting nodes into a node</a>, given <var>nodes</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-③①⓪">this</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-③①①">this</a>’s <a href="#concept-tree-parent">parent</a> is <var>parent</var>, <a href="#concept-node-replace">replace</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-③①②">this</a> with <var>node</var> within <var>parent</var>. </p>
     <p class="note" role="note"><a href="https://heycam.github.io/webidl/#this" id="termref-for-③①③">This</a> could have been inserted into <var>node</var>. </p>
    <li>
     <p>Otherwise, <a href="#concept-node-pre-insert">pre-insert</a> <var>node</var> into <var>parent</var> before <var>viableNextSibling</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-childnode-remove"><code>remove()</code></dfn> method, when invoked, must run these
steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-③①④">this</a>’s <a href="#concept-tree-parent">parent</a> is null, then return. </p>
    <li>
     <p><a href="#concept-node-remove">Remove</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-③①⑤">this</a>. </p>
   </ol>
   <h4 class="heading settled" id="mixin-slotable"><span class="secno">4.2.9. </span><span class="content">Mixin <code class="idl"><a href="#slotable">Slottable</a></code></span></h4>
<pre class="idl highlight def">interface mixin <dfn class="idl-code" id="slotable"><code>Slottable</code></dfn> {
  readonly attribute <a class="n" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlslotelement" id="termref-for-③①⑥">HTMLSlotElement</a>? <a class="idl-code" href="#dom-slotable-assignedslot">assignedSlot</a>;
};
<a class="n" href="#element">Element</a> includes <a class="n" href="#slotable">Slottable</a>;
<a class="n" href="#text">Text</a> includes <a class="n" href="#slotable">Slottable</a>;
</pre>
   <p>The <dfn class="idl-code" id="dom-slotable-assignedslot"><code>assignedSlot</code></dfn> attribute’s getter must return the result of <a href="#find-a-slot">find a slot</a> given <a href="https://heycam.github.io/webidl/#this" id="termref-for-③①⑦">this</a> and with the <i>open flag</i> set.</p>
   <h4 class="heading settled" id="old-style-collections"><span class="secno">4.2.10. </span><span class="content">Old-style collections: <code class="idl"><a href="#nodelist">NodeList</a></code> and <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code></span></h4>
   <p>A <dfn id="concept-collection">collection</dfn> is an object that represents a list of <a href="#concept-node">nodes</a>. A <a href="#concept-collection">collection</a> can be either <dfn id="concept-collection-live">live</dfn> or <dfn id="concept-collection-static">static</dfn>.
Unless otherwise stated, a <a href="#concept-collection">collection</a> must be <a href="#concept-collection-live">live</a>.</p>
   <p>If a <a href="#concept-collection">collection</a> is <a href="#concept-collection-live">live</a>, then the attributes and methods
on that object must operate on the actual underlying data, not a snapshot of
the data.</p>
   <p>When a <a href="#concept-collection">collection</a> is created, a
filter and a root are associated with it.</p>
   <p>The <a href="#concept-collection">collection</a> then <dfn id="represented-by-the-collection">represents</dfn> a view of the subtree rooted at the <a href="#concept-collection">collection’s</a> root, containing only nodes that match the
given filter. The view is linear. In the absence of specific requirements to the contrary, the nodes
within the <a href="#concept-collection">collection</a> must be sorted in <a href="#concept-tree-order">tree order</a>.</p>
   <h5 class="heading settled" id="interface-nodelist"><span class="secno">4.2.10.1. </span><span class="content">Interface <code class="idl"><a href="#nodelist">NodeList</a></code></span></h5>
   <p>A <code class="idl"><a href="#nodelist">NodeList</a></code> object is a <a href="#concept-collection">collection</a> of <a href="#concept-node">nodes</a>. </p>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-③①⑧">Exposed</a>=Window]
interface <dfn class="idl-code" id="nodelist"><code>NodeList</code></dfn> {
  getter <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-nodelist-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-③①⑨">unsigned long</a> <dfn class="idl-code" id="dom-nodelist-item-index-index"><code>index</code></dfn>);
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-③②⓪">unsigned long</a> <a class="idl-code" href="#dom-nodelist-length">length</a>;
  iterable&lt;<a class="n" href="#node">Node</a>>;
};
</pre>
   <dl class="domintro">
    <dt><var>collection</var> . <code class="idl"><a href="#dom-nodelist-length">length</a></code> 
    <dd>Returns the number of <a href="#concept-node">nodes</a> in the <a href="#concept-collection">collection</a>. 
    <dt><var>element</var> = <var>collection</var> . <code class="idl"><a href="#dom-nodelist-item">item(index)</a></code> 
    <dt><var>element</var> = <var>collection</var>[<var>index</var>] 
    <dd>Returns the <a href="#boundary-point-node">node</a> with index <var>index</var> from the <a href="#concept-collection">collection</a>. The <a href="#concept-node">nodes</a> are sorted in <a href="#concept-tree-order">tree order</a>. 
   </dl>
   <div class="impl">
    <p>The object’s <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-③②①">supported property indices</a> are the numbers in the range zero to one less than
the number of nodes <a href="#represented-by-the-collection">represented by the collection</a>. If there are no such
elements, then there are no <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-③②②">supported property indices</a>. </p>
    <p>The <dfn class="idl-code" id="dom-nodelist-length"><code>length</code></dfn> attribute must return the number of nodes <a href="#represented-by-the-collection">represented by the collection</a>. </p>
    <p>The <dfn class="idl-code" id="dom-nodelist-item"><code>item(<var>index</var>)</code></dfn> method must return the <var>index</var><sup>th</sup> <a href="#boundary-point-node">node</a> in the <a href="#concept-collection">collection</a>. If there is no <var>index</var><sup>th</sup> <a href="#boundary-point-node">node</a> in the <a href="#concept-collection">collection</a>, then the method must return
null. </p>
   </div>
   <h5 class="heading settled" id="interface-htmlcollection"><span class="secno">4.2.10.2. </span><span class="content">Interface <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code></span></h5>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-③②③">Exposed</a>=Window, <a class="idl-code" href="https://heycam.github.io/webidl/#LegacyUnenumerableNamedProperties" id="termref-for-③②④">LegacyUnenumerableNamedProperties</a>]
interface <dfn class="idl-code" id="htmlcollection"><code>HTMLCollection</code></dfn> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-③②⑤">unsigned long</a> <a class="idl-code" href="#dom-htmlcollection-length">length</a>;
  getter <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-htmlcollection-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-③②⑥">unsigned long</a> <dfn class="idl-code" id="dom-htmlcollection-item-index-index"><code>index</code></dfn>);
  getter <a class="n" href="#element">Element</a>? <dfn class="idl-code" id="dom-htmlcollection-nameditem"><code>namedItem</code></dfn>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③②⑦">DOMString</a> <dfn class="idl-code" id="dom-htmlcollection-nameditem-name-name"><code>name</code></dfn>);
};
</pre>
   <p>An <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> object is a <a href="#concept-collection">collection</a> of <a href="#concept-element">elements</a>. </p>
   <p class="note no-backref" role="note"><code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> is a historical artifact we cannot rid the web of.
While developers are of course welcome to keep using it, new API standard designers ought not to use
it (use <code>sequence&lt;T></code> in IDL instead). </p>
   <dl class="domintro">
    <dt><var>collection</var> . <code class="idl"><a href="#dom-htmlcollection-length">length</a></code> 
    <dd> Returns the number of <a href="#concept-element">elements</a> in
  the <a href="#concept-collection">collection</a>. 
    <dt><var>element</var> = <var>collection</var> . <code class="idl"><a href="#dom-htmlcollection-item">item(index)</a></code> 
    <dt><var>element</var> = <var>collection</var>[<var>index</var>] 
    <dd> Returns the <a href="#concept-element">element</a> with index <var>index</var> from the <a href="#concept-collection">collection</a>.
  The <a href="#concept-element">elements</a> are sorted in <a href="#concept-tree-order">tree order</a>. 
    <dt><var>element</var> = <var>collection</var> . <code class="idl"><a href="#dom-htmlcollection-nameditem">namedItem(name)</a></code> 
    <dt><var>element</var> = <var>collection</var>[<var>name</var>] 
    <dd> Returns the first <a href="#concept-element">element</a> with <a href="#concept-id">ID</a> or name <var>name</var> from the collection. 
   </dl>
   <p>The object’s <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-③②⑧">supported property indices</a> are the numbers in the range zero to one less than
the number of elements <a href="#represented-by-the-collection">represented by the collection</a>. If there are no such
elements, then there are no <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-③②⑨">supported property indices</a>. </p>
   <p>The <dfn class="idl-code" id="dom-htmlcollection-length"><code>length</code></dfn> attribute’s getter must return
the number of nodes <a href="#represented-by-the-collection">represented by the collection</a>. </p>
   <p>The <dfn class="idl-code" id="dom-htmlcollection-item"><code>item(<var>index</var>)</code></dfn> method, when
invoked, must return the <var>index</var><sup>th</sup> <a href="#concept-element">element</a> in the <a href="#concept-collection">collection</a>. If there is no <var>index</var><sup>th</sup> <a href="#concept-element">element</a> in the <a href="#concept-collection">collection</a>, then the method must return null. </p>
   <p>The <a href="https://heycam.github.io/webidl/#dfn-supported-property-names" id="termref-for-③③⓪">supported property names</a> are the values from the list returned by these steps: </p>
   <ol>
    <li>
     <p>Let <var>result</var> be an empty list. </p>
    <li>
     <p>For each <var>element</var> <a href="#represented-by-the-collection">represented by the collection</a>, in <a href="#concept-tree-order">tree order</a>: </p>
     <ol>
      <li>
       <p>If <var>element</var> has an <a href="#concept-id">ID</a> which is not in <var>result</var>,
   append <var>element</var>’s <a href="#concept-id">ID</a> to <var>result</var>. </p>
      <li>
       <p>If <var>element</var> is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-③③①">HTML namespace</a> and <a href="#concept-element-attribute-has">has</a> a <a href="#concept-named-attribute"><code>name</code> attribute</a> whose <a href="#concept-attribute-value">value</a> is neither
   the empty string nor is in <var>result</var>, append <var>element</var>’s <a href="#concept-named-attribute"><code>name</code> attribute</a> <a href="#concept-attribute-value">value</a> to <var>result</var>. </p>
     </ol>
    <li>
     <p>Return <var>result</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-htmlcollection-nameditem-key"><code>namedItem(<var>key</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>key</var> is the empty string, return null. </p>
    <li>
     <p>Return the first <a href="#concept-element">element</a> in the <a href="#concept-collection">collection</a> for which at least one of
  the following is true: </p>
     <ul>
      <li>it has an <a href="#concept-id">ID</a> which is <var>key</var>; 
      <li>it is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-③③②">HTML namespace</a> and <a href="#concept-element-attribute-has">has</a> a <a href="#concept-named-attribute"><code>name</code> attribute</a> whose <a href="#concept-attribute-value">value</a> is <var>key</var>; 
     </ul>
     <p>or null if there is no such <a href="#concept-element">element</a>. </p>
   </ol>
   <h3 class="heading settled" id="mutation-observers"><span class="secno">4.3. </span><span class="content">Mutation observers</span></h3>
   <p>Each <a href="https://html.spec.whatwg.org/multipage/webappapis.html#similar-origin-window-agent" id="termref-for-③③③">similar-origin window agent</a> has a <dfn id="mutation-observer-compound-microtask-queued-flag">mutation observer microtask queued</dfn> (a boolean), which is initially false. <a href="#biblio-html">[HTML]</a> </p>
   <p>Each <a href="https://html.spec.whatwg.org/multipage/webappapis.html#similar-origin-window-agent" id="termref-for-③③④">similar-origin window agent</a> also has <dfn id="mutation-observer-list">mutation observers</dfn> (a <a href="https://infra.spec.whatwg.org/#ordered-set" id="termref-for-③③⑤">set</a> of zero or more <code class="idl"><a href="#mutationobserver">MutationObserver</a></code> objects), which is initially empty. </p>
   <p>To <dfn id="queue-a-mutation-observer-compound-microtask">queue a mutation observer microtask</dfn>,
run these steps: </p>
   <ol>
    <li>
     <p>If the <a href="https://tc39.github.io/ecma262/#surrounding-agent" id="termref-for-③③⑥">surrounding agent</a>’s <a href="#mutation-observer-compound-microtask-queued-flag">mutation observer microtask queued</a> is true, then
 return. </p>
    <li>
     <p>Set the <a href="https://tc39.github.io/ecma262/#surrounding-agent" id="termref-for-③③⑦">surrounding agent</a>’s <a href="#mutation-observer-compound-microtask-queued-flag">mutation observer microtask queued</a> to true. </p>
    <li>
     <p><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask" id="termref-for-③③⑧">Queue</a> a <a href="https://html.spec.whatwg.org/multipage/webappapis.html#microtask" id="termref-for-③③⑨">microtask</a> to <a href="#notify-mutation-observers">notify mutation observers</a>. </p>
   </ol>
   <p>To <dfn id="notify-mutation-observers">notify mutation observers</dfn>, run these steps: </p>
   <ol>
    <li>
     <p>Set the <a href="https://tc39.github.io/ecma262/#surrounding-agent" id="termref-for-③④⓪">surrounding agent</a>’s <a href="#mutation-observer-compound-microtask-queued-flag">mutation observer microtask queued</a> to false. </p>
    <li>
     <p>Let <var>notifySet</var> be a <a href="https://infra.spec.whatwg.org/#list-clone" id="termref-for-③④①">clone</a> of the <a href="https://tc39.github.io/ecma262/#surrounding-agent" id="termref-for-③④②">surrounding agent</a>’s <a href="#mutation-observer-list">mutation observers</a>. </p>
    <li>
     <p>Let <var>signalSet</var> be a <a href="https://infra.spec.whatwg.org/#list-clone" id="termref-for-③④③">clone</a> of the <a href="https://tc39.github.io/ecma262/#surrounding-agent" id="termref-for-③④④">surrounding agent</a>’s <a href="#signal-slot-list">signal slots</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-empty" id="termref-for-③④⑤">Empty</a> the <a href="https://tc39.github.io/ecma262/#surrounding-agent" id="termref-for-③④⑥">surrounding agent</a>’s <a href="#signal-slot-list">signal slots</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>mo</var> of <var>notifySet</var>: </p>
     <ol>
      <li>
       <p>Let <var>records</var> be a <a href="https://infra.spec.whatwg.org/#list-clone" id="termref-for-③④⑦">clone</a> of <var>mo</var>’s <a href="#concept-mo-queue">record queue</a>. </p>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-empty" id="termref-for-③④⑧">Empty</a> <var>mo</var>’s <a href="#concept-mo-queue">record queue</a>. </p>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>node</var> of <var>mo</var>’s <a href="#mutationobserver-node-list">node list</a>, <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-③④⑨">remove</a> all <a href="#transient-registered-observer">transient registered observers</a> whose <a href="#registered-observer-observer">observer</a> is <var>mo</var> from <var>node</var>’s <a href="#registered-observer-list">registered observer list</a>. </p>
      <li>
       <p>If <var>records</var> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-③⑤⓪">is not empty</a>, then <a href="https://heycam.github.io/webidl/#invoke-a-callback-function" id="termref-for-③⑤①">invoke</a> <var>mo</var>’s <a href="#concept-mo-callback">callback</a> with « <var>records</var>, <var>mo</var> »,
   and <var>mo</var>. If this throws an exception, then <a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="termref-for-③⑤②">report the exception</a>. </p>
     </ol>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>slot</var> of <var>signalSet</var>, <a href="#concept-event-fire">fire an event</a> named <code class="idl"><a href="https://html.spec.whatwg.org/multipage/indices.html#event-slotchange" id="termref-for-③⑤③">slotchange</a></code>, with its <code class="idl"><a href="#dom-event-bubbles">bubbles</a></code> attribute set to true, at <var>slot</var>. </p>
   </ol>
   <hr>
   <p>Each <a href="#concept-node">node</a> has a <dfn id="registered-observer-list">registered observer list</dfn> (a <a href="https://infra.spec.whatwg.org/#list" id="termref-for-③⑤④">list</a> of
zero or more <a href="#registered-observer">registered observers</a>), which is initially empty. </p>
   <p>A <dfn id="registered-observer">registered observer</dfn> consists of an <dfn id="registered-observer-observer">observer</dfn> (a <code class="idl"><a href="#mutationobserver">MutationObserver</a></code> object) and <dfn id="registered-observer-options">options</dfn> (a <code class="idl"><a href="#dictdef-mutationobserverinit">MutationObserverInit</a></code> dictionary). </p>
   <p>A <dfn id="transient-registered-observer">transient registered observer</dfn> is a <a href="#registered-observer">registered observer</a> that also consists of a <dfn id="transient-registered-observer-source">source</dfn> (a <a href="#registered-observer">registered observer</a>). </p>
   <p class="note no-backref" role="note"><a href="#transient-registered-observer">Transient registered observers</a> are used to track mutations within
a given <a href="#concept-node">node</a>’s <a href="#concept-tree-descendant">descendants</a> after <a href="#concept-node">node</a> has been removed so
they do not get lost when <code class="idl"><a href="#dom-mutationobserverinit-subtree">subtree</a></code> is set to true on <a href="#concept-node">node</a>’s <a href="#concept-tree-parent">parent</a>. </p>
   <h4 class="heading settled" id="interface-mutationobserver"><span class="secno">4.3.1. </span><span class="content">Interface <code class="idl"><a href="#mutationobserver">MutationObserver</a></code></span></h4>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-③⑤⑤">Exposed</a>=Window]
interface <dfn class="idl-code" id="mutationobserver"><code>MutationObserver</code></dfn> {
  <a class="idl-code" href="#dom-mutationobserver-mutationobserver">constructor</a>(<a class="n" href="#callbackdef-mutationcallback">MutationCallback</a> <dfn class="idl-code" id="dom-mutationobserver-mutationobserver-callback-callback"><code>callback</code></dfn>);

  void <a class="idl-code" href="#dom-mutationobserver-observe">observe</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-mutationobserver-observe-target-options-target"><code>target</code></dfn>, optional <a class="n" href="#dictdef-mutationobserverinit">MutationObserverInit</a> <dfn class="idl-code" id="dom-mutationobserver-observe-target-options-options"><code>options</code></dfn> = {});
  void <a class="idl-code" href="#dom-mutationobserver-disconnect">disconnect</a>();
  sequence&lt;<a class="n" href="#mutationrecord">MutationRecord</a>> <a class="idl-code" href="#dom-mutationobserver-takerecords">takeRecords</a>();
};

callback <dfn class="idl-code" id="callbackdef-mutationcallback"><code>MutationCallback</code></dfn> = void (sequence&lt;<a class="n" href="#mutationrecord">MutationRecord</a>> <dfn class="idl-code" id="dom-mutationcallback-mutations"><code>mutations</code></dfn>, <a class="n" href="#mutationobserver">MutationObserver</a> <dfn class="idl-code" id="dom-mutationcallback-observer"><code>observer</code></dfn>);

dictionary <dfn class="idl-code" id="dictdef-mutationobserverinit"><code>MutationObserverInit</code></dfn> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-③⑤⑥">boolean</a> <dfn class="idl-code" id="dom-mutationobserverinit-childlist"><code>childList</code></dfn> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-③⑤⑦">boolean</a> <dfn class="idl-code" id="dom-mutationobserverinit-attributes"><code>attributes</code></dfn>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-③⑤⑧">boolean</a> <dfn class="idl-code" id="dom-mutationobserverinit-characterdata"><code>characterData</code></dfn>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-③⑤⑨">boolean</a> <dfn class="idl-code" id="dom-mutationobserverinit-subtree"><code>subtree</code></dfn> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-③⑥⓪">boolean</a> <dfn class="idl-code" id="dom-mutationobserverinit-attributeoldvalue"><code>attributeOldValue</code></dfn>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-③⑥①">boolean</a> <dfn class="idl-code" id="dom-mutationobserverinit-characterdataoldvalue"><code>characterDataOldValue</code></dfn>;
  sequence&lt;<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③⑥②">DOMString</a>> <dfn class="idl-code" id="dom-mutationobserverinit-attributefilter"><code>attributeFilter</code></dfn>;
};
</pre>
   <p>A <code class="idl"><a href="#mutationobserver">MutationObserver</a></code> object can be used to observe mutations to the <a href="#concept-tree">tree</a> of <a href="#concept-node">nodes</a>. </p>
   <p>Each <code class="idl"><a href="#mutationobserver">MutationObserver</a></code> object has these associated concepts: </p>
   <ul>
    <li>A <dfn id="concept-mo-callback">callback</dfn> set on creation. 
    <li>A <dfn id="mutationobserver-node-list">node list</dfn> (a <a href="https://infra.spec.whatwg.org/#list" id="termref-for-③⑥③">list</a> of <a href="#concept-node">nodes</a>), which is initially empty. 
    <li>A <dfn id="concept-mo-queue">record queue</dfn> (a <a href="https://infra.spec.whatwg.org/#queue" id="termref-for-③⑥④">queue</a> of zero or more <code class="idl"><a href="#mutationrecord">MutationRecord</a></code> objects), which is initially empty. 
   </ul>
   <dl class="domintro">
    <dt><code><var>observer</var> = new <code class="idl"><a href="#dom-mutationobserver-mutationobserver">MutationObserver(callback)</a></code></code> 
    <dd>Constructs a <code class="idl"><a href="#mutationobserver">MutationObserver</a></code> object and sets its <a href="#concept-mo-callback">callback</a> to <var>callback</var>. The <var>callback</var> is invoked with a list of <code class="idl"><a href="#mutationrecord">MutationRecord</a></code> objects
 as first argument and the constructed <code class="idl"><a href="#mutationobserver">MutationObserver</a></code> object as second argument. It is
 invoked after <a href="#concept-node">nodes</a> registered with the <code class="idl"><a href="#dom-mutationobserver-observe">observe()</a></code> method, are
 mutated. 
    <dt><code><var>observer</var> . <code class="idl"><a href="#dom-mutationobserver-observe">observe(target, options)</a></code></code> 
    <dd>
      Instructs the user agent to observe a given <var>target</var> (a <a href="#boundary-point-node">node</a>) and report any mutations based on
  the criteria given by <var>options</var> (an object). 
     <p>The <var>options</var> argument allows for setting mutation
  observation options via object members. These are the object members that
  can be used:</p>
     <dl>
      <dt><code class="idl"><a href="#dom-mutationobserverinit-childlist">childList</a></code> 
      <dd>Set to true if mutations to <var>target</var>’s <a href="#concept-tree-child">children</a> are to be observed. 
      <dt><code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> 
      <dd>Set to true if mutations to <var>target</var>’s <a href="#concept-attribute">attributes</a> are to be observed. Can be omitted if <code class="idl"><a href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> or <code class="idl"><a href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> is
   specified. 
      <dt><code class="idl"><a href="#dom-mutationobserverinit-characterdata">characterData</a></code> 
      <dd>Set to true if mutations to <var>target</var>’s <a href="#concept-cd-data">data</a> are to be observed. Can be omitted if <code class="idl"><a href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code> is specified. 
      <dt><code class="idl"><a href="#dom-mutationobserverinit-subtree">subtree</a></code> 
      <dd>Set to true if mutations to not just <var>target</var>, but
   also <var>target</var>’s <a href="#concept-tree-descendant">descendants</a> are to be
   observed. 
      <dt><code class="idl"><a href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> 
      <dd>Set to true if <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> is true or omitted
   and <var>target</var>’s <a href="#concept-attribute">attribute</a> <a href="#concept-attribute-value">value</a> before the mutation
   needs to be recorded. 
      <dt><code class="idl"><a href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code> 
      <dd>Set to true if <code class="idl"><a href="#dom-mutationobserverinit-characterdata">characterData</a></code> is set to true or omitted and <var>target</var>’s <a href="#concept-cd-data">data</a> before the mutation
   needs to be recorded. 
      <dt><code class="idl"><a href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> 
      <dd>Set to a list of <a href="#concept-attribute">attribute</a> <a href="#concept-attribute-local-name">local names</a> (without <a href="#concept-attribute-namespace">namespace</a>) if not all <a href="#concept-attribute">attribute</a> mutations need to be
   observed and <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> is true
   or omitted. 
     </dl>
    <dt><code><var>observer</var> . <code class="idl"><a href="#dom-mutationobserver-disconnect">disconnect()</a></code></code> 
    <dd>Stops <var>observer</var> from observing any mutations. Until the <code class="idl"><a href="#dom-mutationobserver-observe">observe()</a></code> method is used
 again, <var>observer</var>’s <a href="#concept-mo-callback">callback</a> will not be invoked. 
    <dt><code><var>observer</var> . <code class="idl"><a href="#dom-mutationobserver-takerecords">takeRecords()</a></code></code> 
    <dd>Empties the <a href="#concept-mo-queue">record queue</a> and
 returns what was in there. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-mutationobserver-mutationobserver"><code>MutationObserver(<var>callback</var>)</code></dfn> constructor, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>mo</var> be a new <code class="idl"><a href="#mutationobserver">MutationObserver</a></code> object whose <a href="#concept-mo-callback">callback</a> is <var>callback</var>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#set-append" id="termref-for-③⑥⑤">Append</a> <var>mo</var> to <var>mo</var>’s <a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-agent" id="termref-for-③⑥⑥">relevant agent</a>’s <a href="#mutation-observer-list">mutation observers</a>. </p>
    <li>
     <p>Return <var>mo</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-mutationobserver-observe"><code>observe(<var>target</var>, <var>options</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If either <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> or <code class="idl"><a href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> is present and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> is omitted, then set <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> to true. </p>
    <li>
     <p>If <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code> is present and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-characterdata">characterData</a></code> is omitted, then set <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-characterdata">characterData</a></code> to true. </p>
    <li>
     <p>If none of <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-childlist">childList</a></code>, <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code>, and <code class="idl"><a href="#dom-mutationobserverinit-characterdata">characterData</a></code> is true, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-③⑥⑦">throw</a> a <code>TypeError</code>. </p>
    <li>
     <p>If <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> is true and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> is false, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-③⑥⑧">throw</a> a <code>TypeError</code>. </p>
    <li>
     <p>If <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> is present and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> is false, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-③⑥⑨">throw</a> a <code>TypeError</code>. </p>
    <li>
     <p>If <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code> is true and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-characterdata">characterData</a></code> is false, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-③⑦⓪">throw</a> a <code>TypeError</code>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>registered</var> of <var>target</var>’s <a href="#registered-observer-list">registered observer list</a>, if <var>registered</var>’s <a href="#registered-observer-observer">observer</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑦①">this</a>: </p>
     <ol>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>node</var> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑦②">this</a>’s <a href="#mutationobserver-node-list">node list</a>, <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-③⑦③">remove</a> all <a href="#transient-registered-observer">transient registered observers</a> whose <a href="#transient-registered-observer-source">source</a> is <var>registered</var> from <var>node</var>’s <a href="#registered-observer-list">registered observer list</a>. </p>
      <li>
       <p>Set <var>registered</var>’s <a href="#registered-observer-options">options</a> to <var>options</var>. </p>
     </ol>
    <li>
     <p>Otherwise: </p>
     <ol>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-append">Append</a> a new <a href="#registered-observer">registered observer</a> whose <a href="#registered-observer-observer">observer</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑦④">this</a> and <a href="#registered-observer-options">options</a> is <var>options</var> to <var>target</var>’s <a href="#registered-observer-list">registered observer list</a>. </p>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#list-append">Append</a> <var>target</var> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑦⑤">this</a>’s <a href="#mutationobserver-node-list">node list</a>. </p>
     </ol>
   </ol>
   <p>The <dfn class="idl-code" id="dom-mutationobserver-disconnect"><code>disconnect()</code></dfn> method, when invoked, must
run these steps: </p>
   <ol>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>node</var> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑦⑥">this</a>’s <a href="#mutationobserver-node-list">node list</a>, <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-③⑦⑦">remove</a> any <a href="#registered-observer">registered observer</a> from <var>node</var>’s <a href="#registered-observer-list">registered observer list</a> for which <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑦⑧">this</a> is the <a href="#registered-observer-observer">observer</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-empty" id="termref-for-③⑦⑨">Empty</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑧⓪">this</a>’s <a href="#concept-mo-queue">record queue</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-mutationobserver-takerecords"><code>takeRecords()</code></dfn> method, when invoked, must
run these steps: </p>
   <ol>
    <li>
     <p>Let <var>records</var> be a <a href="https://infra.spec.whatwg.org/#list-clone" id="termref-for-③⑧①">clone</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑧②">this</a>’s <a href="#concept-mo-queue">record queue</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-empty" id="termref-for-③⑧③">Empty</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-③⑧④">this</a>’s <a href="#concept-mo-queue">record queue</a>. </p>
    <li>
     <p>Return <var>records</var>. </p>
   </ol>
   <h4 class="heading settled" id="queueing-a-mutation-record"><span class="secno">4.3.2. </span><span class="content">Queuing a mutation record</span></h4>
   <p>To <dfn id="queue-a-mutation-record">queue a mutation record</dfn> of <var>type</var> for <var>target</var> with <var>name</var>, <var>namespace</var>, <var>oldValue</var>, <var>addedNodes</var>, <var>removedNodes</var>, <var>previousSibling</var>, and <var>nextSibling</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>interestedObservers</var> be an empty <a href="https://infra.spec.whatwg.org/#ordered-map" id="termref-for-③⑧⑤">map</a>. </p>
    <li>
     <p>Let <var>nodes</var> be the <a href="#concept-tree-inclusive-ancestor">inclusive ancestors</a> of <var>target</var>. </p>
    <li>
     <p>For each <var>node</var> in <var>nodes</var>, and then <a href="https://infra.spec.whatwg.org/#list-iterate">for each</a> <var>registered</var> of <var>node</var>’s <a href="#registered-observer-list">registered observer list</a>: </p>
     <ol>
      <li>
       <p>Let <var>options</var> be <var>registered</var>’s <a href="#registered-observer-options">options</a>. </p>
      <li>
       <p>If none of the following are true </p>
       <ul class="brief">
        <li><var>node</var> is not <var>target</var> and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-subtree">subtree</a></code> is false 
        <li><var>type</var> is "<code>attributes</code>" and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributes">attributes</a></code> is not true 
        <li><var>type</var> is "<code>attributes</code>", <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> is present, and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> does not contain <var>name</var> or <var>namespace</var> is non-null 
        <li><var>type</var> is "<code>characterData</code>" and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-characterdata">characterData</a></code> is not true 
        <li><var>type</var> is "<code>childList</code>" and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-childlist">childList</a></code> is false 
       </ul>
       <p>then: </p>
       <ol>
        <li>
         <p>Let <var>mo</var> be <var>registered</var>’s <a href="#registered-observer-observer">observer</a>. </p>
        <li>
         <p>If <var>interestedObservers</var>[<var>mo</var>] does not <a href="https://infra.spec.whatwg.org/#map-exists" id="termref-for-③⑧⑥">exist</a>, then <a href="https://infra.spec.whatwg.org/#map-set" id="termref-for-③⑧⑦">set</a> <var>interestedObservers</var>[<var>mo</var>] to null. </p>
        <li>
         <p>If either <var>type</var> is "<code>attributes</code>" and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> is true, or <var>type</var> is
     "<code>characterData</code>" and <var>options</var>’s <code class="idl"><a href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code> is true, then <a href="https://infra.spec.whatwg.org/#map-set" id="termref-for-③⑧⑧">set</a> <var>interestedObservers</var>[<var>mo</var>] to <var>oldValue</var>. </p>
       </ol>
     </ol>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#map-iterate" id="termref-for-③⑧⑨">For each</a> <var>observer</var> → <var>mappedOldValue</var> of <var>interestedObservers</var>: </p>
     <ol>
      <li>
       <p>Let <var>record</var> be a new <code class="idl"><a href="#mutationrecord">MutationRecord</a></code> object with its <code class="idl"><a href="#dom-mutationrecord-type">type</a></code> set to <var>type</var>, <code class="idl"><a href="#dom-mutationrecord-target">target</a></code> set to <var>target</var>, <code class="idl"><a href="#dom-mutationrecord-attributename">attributeName</a></code> set to <var>name</var>, <code class="idl"><a href="#dom-mutationrecord-attributenamespace">attributeNamespace</a></code> set to <var>namespace</var>, <code class="idl"><a href="#dom-mutationrecord-oldvalue">oldValue</a></code> set to <var>mappedOldValue</var>, <code class="idl"><a href="#dom-mutationrecord-addednodes">addedNodes</a></code> set to <var>addedNodes</var>, <code class="idl"><a href="#dom-mutationrecord-removednodes">removedNodes</a></code> set to <var>removedNodes</var>, <code class="idl"><a href="#dom-mutationrecord-previoussibling">previousSibling</a></code> set to <var>previousSibling</var>, and <code class="idl"><a href="#dom-mutationrecord-nextsibling">nextSibling</a></code> set to <var>nextSibling</var>. </p>
      <li>
       <p><a href="https://infra.spec.whatwg.org/#queue-enqueue" id="termref-for-③⑨⓪">Enqueue</a> <var>record</var> to <var>observer</var>’s <a href="#concept-mo-queue">record queue</a>. </p>
     </ol>
    <li>
     <p><a href="#queue-a-mutation-observer-compound-microtask">Queue a mutation observer microtask</a>. </p>
   </ol>
   <p>To <dfn id="queue-a-tree-mutation-record">queue a tree mutation record</dfn> for <var>target</var> with <var>addedNodes</var>, <var>removedNodes</var>, <var>previousSibling</var>, and <var>nextSibling</var>, run these steps: </p>
   <ol>
    <li>
     <p>Assert: either <var>addedNodes</var> or <var>removedNodes</var> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-③⑨①">is not empty</a>. </p>
    <li>
     <p><a href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>childList</code>" for <var>target</var> with
 null, null, null, <var>addedNodes</var>, <var>removedNodes</var>, <var>previousSibling</var>,
 and <var>nextSibling</var>. </p>
   </ol>
   <h4 class="heading settled" id="interface-mutationrecord"><span class="secno">4.3.3. </span><span class="content">Interface <code class="idl"><a href="#mutationrecord">MutationRecord</a></code></span></h4>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-③⑨②">Exposed</a>=Window]
interface <dfn class="idl-code" id="mutationrecord"><code>MutationRecord</code></dfn> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③⑨③">DOMString</a> <a class="idl-code" href="#dom-mutationrecord-type">type</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-③⑨④">SameObject</a>] readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-mutationrecord-target">target</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-③⑨⑤">SameObject</a>] readonly attribute <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-mutationrecord-addednodes">addedNodes</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-③⑨⑥">SameObject</a>] readonly attribute <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-mutationrecord-removednodes">removedNodes</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-mutationrecord-previoussibling">previousSibling</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-mutationrecord-nextsibling">nextSibling</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③⑨⑦">DOMString</a>? <a class="idl-code" href="#dom-mutationrecord-attributename">attributeName</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③⑨⑧">DOMString</a>? <a class="idl-code" href="#dom-mutationrecord-attributenamespace">attributeNamespace</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-③⑨⑨">DOMString</a>? <a class="idl-code" href="#dom-mutationrecord-oldvalue">oldValue</a>;
};
</pre>
   <dl class="domintro">
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-type">type</a></code></code> 
    <dd>Returns "<code>attributes</code>" if it was an <a href="#concept-attribute">attribute</a> mutation.
 "<code>characterData</code>" if it was a mutation to a <code class="idl"><a href="#characterdata">CharacterData</a></code> <a href="#boundary-point-node">node</a>. And
 "<code>childList</code>" if it was a mutation to the <a href="#concept-tree">tree</a> of <a href="#concept-node">nodes</a>. 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-target">target</a></code></code> 
    <dd>Returns the <a href="#boundary-point-node">node</a> the mutation
 affected, depending on the <code class="idl"><a href="#dom-mutationrecord-type">type</a></code>.
 For "<code>attributes</code>", it is the <a href="#concept-element">element</a> whose <a href="#concept-attribute">attribute</a> changed. For
 "<code>characterData</code>", it is the <code class="idl"><a href="#characterdata">CharacterData</a></code> <a href="#boundary-point-node">node</a>. For "<code>childList</code>",
 it is the <a href="#boundary-point-node">node</a> whose <a href="#concept-tree-child">children</a> changed. 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-addednodes">addedNodes</a></code></code> 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-removednodes">removedNodes</a></code></code> 
    <dd>Return the <a href="#concept-node">nodes</a> added and removed
 respectively. 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-previoussibling">previousSibling</a></code></code> 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-nextsibling">nextSibling</a></code></code> 
    <dd>Return the <a href="#concept-tree-previous-sibling">previous</a> and <a href="#concept-tree-next-sibling">next sibling</a> respectively
 of the added or removed <a href="#concept-node">nodes</a>, and null otherwise. 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-attributename">attributeName</a></code></code> 
    <dd>Returns the <a href="#concept-attribute-local-name">local name</a> of the
 changed <a href="#concept-attribute">attribute</a>, and null otherwise. 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-attributenamespace">attributeNamespace</a></code></code> 
    <dd>Returns the <a href="#concept-attribute-namespace">namespace</a> of the
 changed <a href="#concept-attribute">attribute</a>, and null otherwise. 
    <dt><code><var>record</var> . <code class="idl"><a href="#dom-mutationrecord-oldvalue">oldValue</a></code></code> 
    <dd>The return value depends on <code class="idl"><a href="#dom-mutationrecord-type">type</a></code>. For
 "<code>attributes</code>", it is the <a href="#concept-attribute-value">value</a> of the
 changed <a href="#concept-attribute">attribute</a> before the change.
 For "<code>characterData</code>", it is the <a href="#concept-cd-data">data</a> of the changed <a href="#boundary-point-node">node</a> before the change. For
 "<code>childList</code>", it is null. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-mutationrecord-type"><code>type</code></dfn>, <dfn class="idl-code" id="dom-mutationrecord-target"><code>target</code></dfn>, <dfn class="idl-code" id="dom-mutationrecord-addednodes"><code>addedNodes</code></dfn>, <dfn class="idl-code" id="dom-mutationrecord-removednodes"><code>removedNodes</code></dfn>, <dfn class="idl-code" id="dom-mutationrecord-previoussibling"><code>previousSibling</code></dfn>, <dfn class="idl-code" id="dom-mutationrecord-nextsibling"><code>nextSibling</code></dfn>, <dfn class="idl-code" id="dom-mutationrecord-attributename"><code>attributeName</code></dfn>, <dfn class="idl-code" id="dom-mutationrecord-attributenamespace"><code>attributeNamespace</code></dfn>, and <dfn class="idl-code" id="dom-mutationrecord-oldvalue"><code>oldValue</code></dfn> attributes must return the values they were
initialized to. </p>
   <h4 class="heading settled" id="garbage-collection"><span class="secno">4.3.4. </span><span class="content">Garbage collection</span></h4>
   <p><a href="#concept-node">Nodes</a> have a strong reference to <a href="#registered-observer">registered observers</a> in their <a href="#registered-observer-list">registered observer list</a>. </p>
   <p><a href="#registered-observer">Registered observers</a> in a <a href="#concept-node">node</a>’s <a href="#registered-observer-list">registered observer list</a> have a weak
reference to the <a href="#concept-node">node</a>. </p>
   <h3 class="heading settled" id="interface-node"><span class="secno">4.4. </span><span class="content">Interface <code class="idl"><a href="#node">Node</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-④⓪⓪">Exposed</a>=Window]
interface <dfn class="idl-code" id="node"><code>Node</code></dfn> : <a class="n" href="#eventtarget">EventTarget</a> {
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪①">unsigned short</a> <a class="idl-code" href="#dom-node-element_node">ELEMENT_NODE</a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪②">unsigned short</a> <a class="idl-code" href="#dom-node-attribute_node">ATTRIBUTE_NODE</a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪③">unsigned short</a> <a class="idl-code" href="#dom-node-text_node">TEXT_NODE</a> = 3;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪④">unsigned short</a> <a class="idl-code" href="#dom-node-cdata_section_node">CDATA_SECTION_NODE</a> = 4;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪⑤">unsigned short</a> <dfn class="idl-code" id="dom-node-entity_reference_node"><code>ENTITY_REFERENCE_NODE</code></dfn> = 5; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪⑥">unsigned short</a> <dfn class="idl-code" id="dom-node-entity_node"><code>ENTITY_NODE</code></dfn> = 6; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪⑦">unsigned short</a> <a class="idl-code" href="#dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE</a> = 7;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪⑧">unsigned short</a> <a class="idl-code" href="#dom-node-comment_node">COMMENT_NODE</a> = 8;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④⓪⑨">unsigned short</a> <a class="idl-code" href="#dom-node-document_node">DOCUMENT_NODE</a> = 9;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④①⓪">unsigned short</a> <a class="idl-code" href="#dom-node-document_type_node">DOCUMENT_TYPE_NODE</a> = 10;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④①①">unsigned short</a> <a class="idl-code" href="#dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE</a> = 11;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④①②">unsigned short</a> <dfn class="idl-code" id="dom-node-notation_node"><code>NOTATION_NODE</code></dfn> = 12; // historical
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④①③">unsigned short</a> <a class="idl-code" href="#dom-node-nodetype">nodeType</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④①④">DOMString</a> <a class="idl-code" href="#dom-node-nodename">nodeName</a>;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-USVString" id="termref-for-④①⑤">USVString</a> <a class="idl-code" href="#dom-node-baseuri">baseURI</a>;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④①⑥">boolean</a> <a class="idl-code" href="#dom-node-isconnected">isConnected</a>;
  readonly attribute <a class="n" href="#document">Document</a>? <a class="idl-code" href="#dom-node-ownerdocument">ownerDocument</a>;
  <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-getrootnode">getRootNode</a>(optional <a class="n" href="#dictdef-getrootnodeoptions">GetRootNodeOptions</a> <dfn class="idl-code" id="dom-node-getrootnode-options-options"><code>options</code></dfn> = {});
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-parentnode">parentNode</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-node-parentelement">parentElement</a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④①⑦">boolean</a> <a class="idl-code" href="#dom-node-haschildnodes">hasChildNodes</a>();
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-④①⑧">SameObject</a>] readonly attribute <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-node-childnodes">childNodes</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-firstchild">firstChild</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-lastchild">lastChild</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-previoussibling">previousSibling</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-nextsibling">nextSibling</a>;

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④①⑨">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④②⓪">DOMString</a>? <a class="idl-code" href="#dom-node-nodevalue">nodeValue</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④②①">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④②②">DOMString</a>? <a class="idl-code" href="#dom-node-textcontent">textContent</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④②③">CEReactions</a>] void <a class="idl-code" href="#dom-node-normalize">normalize</a>();

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④②④">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-④②⑤">NewObject</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-clonenode">cloneNode</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④②⑥">boolean</a> <dfn class="idl-code" id="dom-node-clonenode-deep-deep"><code>deep</code></dfn> = false);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④②⑦">boolean</a> <a class="idl-code" href="#dom-node-isequalnode">isEqualNode</a>(<a class="n" href="#node">Node</a>? <dfn class="idl-code" id="dom-node-isequalnode-othernode-othernode"><code>otherNode</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④②⑧">boolean</a> <a class="idl-code" href="#dom-node-issamenode">isSameNode</a>(<a class="n" href="#node">Node</a>? <dfn class="idl-code" id="dom-node-issamenode-othernode-othernode"><code>otherNode</code></dfn>); // historical alias of ===

  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④②⑨">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a> = 0x01;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④③⓪">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a> = 0x02;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④③①">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a> = 0x04;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④③②">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a> = 0x08;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④③③">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a> = 0x10;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④③④">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a> = 0x20;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-④③⑤">unsigned short</a> <a class="idl-code" href="#dom-node-comparedocumentposition">compareDocumentPosition</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-node-comparedocumentposition-other-other"><code>other</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④③⑥">boolean</a> <a class="idl-code" href="#dom-node-contains">contains</a>(<a class="n" href="#node">Node</a>? <dfn class="idl-code" id="dom-node-contains-other-other"><code>other</code></dfn>);

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④③⑦">DOMString</a>? <a class="idl-code" href="#dom-node-lookupprefix">lookupPrefix</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④③⑧">DOMString</a>? <dfn class="idl-code" id="dom-node-lookupprefix-namespace-namespace"><code>namespace</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④③⑨">DOMString</a>? <a class="idl-code" href="#dom-node-lookupnamespaceuri">lookupNamespaceURI</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④④⓪">DOMString</a>? <dfn class="idl-code" id="dom-node-lookupnamespaceuri-prefix-prefix"><code>prefix</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④④①">boolean</a> <a class="idl-code" href="#dom-node-isdefaultnamespace">isDefaultNamespace</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-④④②">DOMString</a>? <dfn class="idl-code" id="dom-node-isdefaultnamespace-namespace-namespace"><code>namespace</code></dfn>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④④③">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-insertbefore">insertBefore</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-node-insertbefore-node-child-node"><code>node</code></dfn>, <a class="n" href="#node">Node</a>? <dfn class="idl-code" id="dom-node-insertbefore-node-child-child"><code>child</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④④④">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-appendchild">appendChild</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-node-appendchild-node-node"><code>node</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④④⑤">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-replacechild">replaceChild</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-node-replacechild-node-child-node"><code>node</code></dfn>, <a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-node-replacechild-node-child-child"><code>child</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-④④⑥">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-removechild">removeChild</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-node-removechild-child-child"><code>child</code></dfn>);
};

dictionary <dfn class="idl-code" id="dictdef-getrootnodeoptions"><code>GetRootNodeOptions</code></dfn> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-④④⑦">boolean</a> <dfn class="idl-code" id="dom-getrootnodeoptions-composed"><code>composed</code></dfn> = false;
};
</pre>
   <p class="note no-backref" role="note"><code class="idl"><a href="#node">Node</a></code> is an abstract interface and does not exist as <a href="#boundary-point-node">node</a>. It
is used by all <a href="#concept-node">nodes</a> (<code class="idl"><a href="#document">Document</a></code>, <code class="idl"><a href="#documenttype">DocumentType</a></code>, <code class="idl"><a href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a href="#element">Element</a></code>, <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, and <code class="idl"><a href="#comment">Comment</a></code>). </p>
   <p>Each <a href="#boundary-point-node">node</a> has an associated <dfn id="concept-node-document">node document</dfn>, set upon creation, that is a <a href="#concept-document">document</a>. </p>
   <p class="note no-backref" role="note">A <a href="#boundary-point-node">node</a>’s <a href="#concept-node-document">node document</a> can be changed by the <a href="#concept-node-adopt">adopt</a> algorithm. </p>
   <p>A <a href="#boundary-point-node">node</a>’s <a href="#get-the-parent">get the parent</a> algorithm, given an <var>event</var>, returns the <a href="#boundary-point-node">node</a>’s <a href="#slotable-assigned-slot">assigned slot</a>, if <a href="#boundary-point-node">node</a> is <a href="#slotable-assigned">assigned</a>, and <a href="#boundary-point-node">node</a>’s <a href="#concept-tree-parent">parent</a> otherwise. </p>
   <p class="note no-backref" role="note">Each <a href="#concept-node">node</a> also has a <a href="#registered-observer-list">registered observer list</a>. </p>
   <hr>
   <dl class="domintro">
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-nodetype">nodeType</a></code></code> 
    <dd>
      Returns the type of <var>node</var>, represented by a number from the following list: 
     <dl>
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-element_node">ELEMENT_NODE</a></code></code> (1) 
      <dd><var>node</var> is an <a href="#concept-element">element</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-text_node">TEXT_NODE</a></code></code> (3) 
      <dd><var>node</var> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-cdata_section_node">CDATA_SECTION_NODE</a></code></code> (4) 
      <dd><var>node</var> is a <code class="idl"><a href="#cdatasection">CDATASection</a></code> <a href="#boundary-point-node">node</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE</a></code></code> (7) 
      <dd><var>node</var> is a <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> <a href="#boundary-point-node">node</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-comment_node">COMMENT_NODE</a></code></code> (8) 
      <dd><var>node</var> is a <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_node">DOCUMENT_NODE</a></code></code> (9) 
      <dd><var>node</var> is a <a href="#concept-document">document</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_type_node">DOCUMENT_TYPE_NODE</a></code></code> (10) 
      <dd><var>node</var> is a <a href="#concept-doctype">doctype</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE</a></code></code> (11) 
      <dd><var>node</var> is a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>. 
     </dl>
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-nodename">nodeName</a></code></code> 
    <dd>
      Returns a string appropriate for the type of <var>node</var>, as
  follows: 
     <dl>
      <dt><code class="idl"><a href="#element">Element</a></code> 
      <dd>Its <a href="#element-html-uppercased-qualified-name">HTML-uppercased qualified name</a>. 
      <dt><code class="idl"><a href="#attr">Attr</a></code> 
      <dd>Its <a href="#concept-attribute-qualified-name">qualified name</a>. 
      <dt><code class="idl"><a href="#text">Text</a></code> 
      <dd>"<code>#text</code>". 
      <dt><code class="idl"><a href="#cdatasection">CDATASection</a></code> 
      <dd>"<code>#cdata-section</code>". 
      <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
      <dd>Its <a href="#concept-pi-target">target</a>. 
      <dt><code class="idl"><a href="#comment">Comment</a></code> 
      <dd>"<code>#comment</code>". 
      <dt><code class="idl"><a href="#document">Document</a></code> 
      <dd>"<code>#document</code>". 
      <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
      <dd>Its <a href="#concept-doctype-name">name</a>. 
      <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
      <dd>"<code>#document-fragment</code>". 
     </dl>
   </dl>
   <p>The <dfn class="idl-code" id="dom-node-nodetype"><code>nodeType</code></dfn> attribute’s getter, when invoked, must return
the first matching statement, switching on <a href="https://heycam.github.io/webidl/#this" id="termref-for-④④⑧">this</a>:</p>
   <dl class="switch">
    <dt><code class="idl"><a href="#element">Element</a></code> 
    <dd><dfn class="idl-code" id="dom-node-element_node"><code>ELEMENT_NODE</code></dfn> (1) 
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd><dfn class="idl-code" id="dom-node-attribute_node"><code>ATTRIBUTE_NODE</code></dfn> (2); 
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dd><dfn class="idl-code" id="dom-node-text_node"><code>TEXT_NODE</code></dfn> (3); 
    <dt><code class="idl"><a href="#cdatasection">CDATASection</a></code> 
    <dd><dfn class="idl-code" id="dom-node-cdata_section_node"><code>CDATA_SECTION_NODE</code></dfn> (4); 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dd><dfn class="idl-code" id="dom-node-processing_instruction_node"><code>PROCESSING_INSTRUCTION_NODE</code></dfn> (7); 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd><dfn class="idl-code" id="dom-node-comment_node"><code>COMMENT_NODE</code></dfn> (8); 
    <dt><code class="idl"><a href="#document">Document</a></code> 
    <dd><dfn class="idl-code" id="dom-node-document_node"><code>DOCUMENT_NODE</code></dfn> (9); 
    <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
    <dd><dfn class="idl-code" id="dom-node-document_type_node"><code>DOCUMENT_TYPE_NODE</code></dfn> (10); 
    <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
    <dd><dfn class="idl-code" id="dom-node-document_fragment_node"><code>DOCUMENT_FRAGMENT_NODE</code></dfn> (11). 
   </dl>
   <p>The <dfn class="idl-code" id="dom-node-nodename"><code>nodeName</code></dfn> attribute’s getter, when invoked, must return the
first matching statement, switching on <a href="https://heycam.github.io/webidl/#this" id="termref-for-④④⑨">this</a>: </p>
   <dl class="switch">
    <dt><code class="idl"><a href="#element">Element</a></code> 
    <dd>Its <a href="#element-html-uppercased-qualified-name">HTML-uppercased qualified name</a>. 
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd>Its <a href="#concept-attribute-qualified-name">qualified name</a>. 
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dd>"<code>#text</code>". 
    <dt><code class="idl"><a href="#cdatasection">CDATASection</a></code> 
    <dd>"<code>#cdata-section</code>". 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dd>Its <a href="#concept-pi-target">target</a>. 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd>"<code>#comment</code>". 
    <dt><code class="idl"><a href="#document">Document</a></code> 
    <dd>"<code>#document</code>". 
    <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
    <dd>Its <a href="#concept-doctype-name">name</a>. 
    <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
    <dd>"<code>#document-fragment</code>". 
   </dl>
   <hr>
   <dl class="domintro">
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-baseuri">baseURI</a></code></code> 
    <dd>Returns <var>node</var>’s <a href="#concept-node-document">node document</a>’s <a href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#document-base-url" id="termref-for-④⑤⓪">document base URL</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-node-baseuri"><code>baseURI</code></dfn> attribute’s getter must return <a href="#concept-node-document">node document</a>’s <a href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#document-base-url" id="termref-for-④⑤①">document base URL</a>, <a href="https://url.spec.whatwg.org/#concept-url-serializer" id="termref-for-④⑤②">serialized</a>.</p>
   <hr>
   <dl class="domintro">
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-isconnected">isConnected</a></code></code> 
    <dd>
     <p>Returns true if <var>node</var> is <a href="#connected">connected</a> and false otherwise. </p>
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-ownerdocument">ownerDocument</a></code></code> 
    <dd> Returns the <a href="#concept-node-document">node document</a>.
  Returns null for <a href="#concept-document">documents</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-getrootnode">getRootNode()</a></code></code> 
    <dd>Returns <var>node</var>’s <a href="#concept-tree-root">root</a>. 
    <dt><code><var>node</var> . <a href="#dom-node-getrootnode">getRootNode</a>({ composed:true })</code> 
    <dd>Returns <var>node</var>’s <a href="#concept-shadow-including-root">shadow-including root</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-parentnode">parentNode</a></code></code> 
    <dd>Returns the <a href="#concept-tree-parent">parent</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-parentelement">parentElement</a></code></code> 
    <dd>Returns the <a href="#parent-element">parent element</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-haschildnodes">hasChildNodes()</a></code></code> 
    <dd>Returns whether <var>node</var> has <a href="#concept-tree-child">children</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-childnodes">childNodes</a></code></code> 
    <dd>Returns the <a href="#concept-tree-child">children</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-firstchild">firstChild</a></code></code> 
    <dd>Returns the <a href="#concept-tree-first-child">first child</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-lastchild">lastChild</a></code></code> 
    <dd>Returns the <a href="#concept-tree-last-child">last child</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-previoussibling">previousSibling</a></code></code> 
    <dd>Returns the <a href="#concept-tree-previous-sibling">previous sibling</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-nextsibling">nextSibling</a></code></code> 
    <dd>Returns the <a href="#concept-tree-next-sibling">next sibling</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-node-isconnected"><code>isConnected</code></dfn> attribute’s getter must return true,
if <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑤③">this</a> is <a href="#connected">connected</a>, and false otherwise.</p>
   <p>The <dfn class="idl-code" id="dom-node-ownerdocument"><code>ownerDocument</code></dfn> attribute’s getter must return null,
if <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑤④">this</a> is a <a href="#concept-document">document</a>, and <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑤⑤">this</a>’s <a href="#concept-node-document">node document</a> otherwise. </p>
   <p class="note" role="note">The <a href="#concept-node-document">node document</a> of a <a href="#concept-document">document</a> is that <a href="#concept-document">document</a> itself. All <a href="#concept-node">nodes</a> have a <a href="#concept-node-document">node document</a> at all times. </p>
   <p>The <dfn class="idl-code" id="dom-node-getrootnode"><code>getRootNode(<var>options</var>)</code></dfn> method, when invoked,
must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑤⑥">this</a>’s <a href="#concept-shadow-including-root">shadow-including root</a> if <var>options</var>’s <code class="idl"><a href="#dom-getrootnodeoptions-composed">composed</a></code> is true, and <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑤⑦">this</a>’s <a href="#concept-tree-root">root</a> otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-node-parentnode"><code>parentNode</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑤⑧">this</a>’s <a href="#concept-tree-parent">parent</a>. </p>
   <p class="note" role="note">An <code class="idl"><a href="#attr">Attr</a></code> <a href="#boundary-point-node">node</a> has no <a href="#concept-tree-parent">parent</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-parentelement"><code>parentElement</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑤⑨">this</a>’s <a href="#parent-element">parent element</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-haschildnodes"><code>hasChildNodes()</code></dfn> method, when invoked, must return
true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥⓪">this</a> has <a href="#concept-tree-child">children</a>, and false otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-node-childnodes"><code>childNodes</code></dfn> attribute’s getter must return a <code class="idl"><a href="#nodelist">NodeList</a></code> rooted at <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥①">this</a> matching only <a href="#concept-tree-child">children</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-firstchild"><code>firstChild</code> </dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥②">this</a>’s <a href="#concept-tree-first-child">first child</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-lastchild"><code>lastChild</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥③">this</a>’s <a href="#concept-tree-last-child">last child</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-previoussibling"><code>previousSibling</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥④">this</a>’s <a href="#concept-tree-previous-sibling">previous sibling</a>. </p>
   <p class="note" role="note">An <code class="idl"><a href="#attr">Attr</a></code> <a href="#boundary-point-node">node</a> has no <a href="#concept-tree-sibling">siblings</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-nextsibling"><code>nextSibling</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥⑤">this</a>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-node-nodevalue"><code>nodeValue</code></dfn> attribute
must return the following, depending on <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥⑥">this</a>:</p>
   <dl class="switch">
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd><a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥⑦">this</a>’s <a href="#concept-attribute-value">value</a>. 
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd><a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥⑧">this</a>’s <a href="#concept-cd-data">data</a>. 
    <dt>Any other node 
    <dd>Null. 
   </dl>
   <p>The <code class="idl"><a href="#dom-node-nodevalue">nodeValue</a></code> attribute must,
on setting, if the new value is null, act as if it was the empty string
instead, and then do as described below, depending on <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑥⑨">this</a>:</p>
   <dl class="switch">
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd>
     <p><a href="#set-an-existing-attribute-value">Set an existing attribute value</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦⓪">this</a> and new value. </p>
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd>
     <p><a href="#concept-cd-replace">Replace data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦①">this</a>, offset 0, count <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦②">this</a>’s <a href="#concept-node-length">length</a>, and data new value. </p>
    <dt>Any other node 
    <dd>
     <p>Do nothing. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-node-textcontent"><code>textContent</code></dfn> attribute’s getter must return the
following, switching on <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦③">this</a>: </p>
   <dl class="switch">
    <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
    <dt><code class="idl"><a href="#element">Element</a></code> 
    <dd>The <a href="#concept-descendant-text-content">descendant text content</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦④">this</a>. 
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd><a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦⑤">this</a>’s <a href="#concept-attribute-value">value</a>. 
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd><a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦⑥">this</a>’s <a href="#concept-cd-data">data</a>. 
    <dt>Any other node 
    <dd>Null. 
   </dl>
   <p>To <dfn id="string-replace-all">string replace all</dfn> with a string <var>string</var> within a <a href="#concept-node">node</a> <var>parent</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be null. </p>
    <li>
     <p>If <var>string</var> is not the empty string, then set <var>node</var> to a new <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>string</var> and <a href="#concept-node-document">node document</a> is <var>parent</var>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p><a href="#concept-node-replace-all">Replace all</a> with <var>node</var> within <var>parent</var>. </p>
   </ol>
   <p>The <code class="idl"><a href="#dom-node-textcontent">textContent</a></code> attribute’s setter must, if the given value is null, act as if it was
the empty string instead, and then do as described below, switching on <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦⑦">this</a>: </p>
   <dl class="switch">
    <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
    <dt><code class="idl"><a href="#element">Element</a></code> 
    <dd>
     <p><a href="#string-replace-all">String replace all</a> with the given value within <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦⑧">this</a>. </p>
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd>
     <p><a href="#set-an-existing-attribute-value">Set an existing attribute value</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑦⑨">this</a> and new value. </p>
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
    <dt><code class="idl"><a href="#comment">Comment</a></code> 
    <dd>
     <p><a href="#concept-cd-replace">Replace data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑧⓪">this</a>, offset 0, count <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑧①">this</a>’s <a href="#concept-node-length">length</a>, and data the given value. </p>
    <dt>Any other node 
    <dd>
     <p>Do nothing. </p>
   </dl>
   <hr>
   <dl class="domintro">
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-normalize">normalize()</a></code></code> 
    <dd>Removes <a href="#concept-node-empty">empty</a> <a href="#exclusive-text-node">exclusive <code>Text</code> nodes</a> and concatenates the <a href="#concept-cd-data">data</a> of remaining <a href="#contiguous-exclusive-text-nodes">contiguous exclusive <code>Text</code> nodes</a> into the first of their <a href="#concept-node">nodes</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-node-normalize"><code>normalize()</code></dfn> method, when invoked, must run these
steps for each <a href="#concept-tree-descendant">descendant</a> <a href="#exclusive-text-node">exclusive <code>Text</code> node</a> <var>node</var> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑧②">this</a>: </p>
   <ol>
    <li>Let <var>length</var> be <var>node</var>’s <a href="#concept-node-length">length</a>. 
    <li>If <var>length</var> is zero, then <a href="#concept-node-remove">remove</a> <var>node</var> and continue with the
 next <a href="#exclusive-text-node">exclusive <code>Text</code> node</a>, if any. 
    <li>Let <var>data</var> be the <a href="https://infra.spec.whatwg.org/#string-concatenate" id="termref-for-④⑧③">concatenation</a> of the <a href="#concept-cd-data">data</a> of <var>node</var>’s <a href="#contiguous-exclusive-text-nodes">contiguous exclusive <code>Text</code> nodes</a> (excluding itself), in <a href="#concept-tree-order">tree order</a>. 
    <li><a href="#concept-cd-replace">Replace data</a> with node <var>node</var>, offset <var>length</var>, count 0, and data <var>data</var>. 
    <li>Let <var>currentNode</var> be <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. 
    <li>
     <p>While <var>currentNode</var> is an <a href="#exclusive-text-node">exclusive <code>Text</code> node</a>: </p>
     <ol>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>currentNode</var>,
   add <var>length</var> to its <a href="#concept-range-start-offset">start offset</a> and set its <a href="#concept-range-start-node">start node</a> to <var>node</var>. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>currentNode</var>, add <var>length</var> to its <a href="#concept-range-end-offset">end offset</a> and set its <a href="#concept-range-end-node">end node</a> to <var>node</var>. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>currentNode</var>’s <a href="#concept-tree-parent">parent</a> and <a href="#concept-range-start-offset">start offset</a> is <var>currentNode</var>’s <a href="#concept-tree-index">index</a>, set its <a href="#concept-range-start-node">start node</a> to <var>node</var> and its <a href="#concept-range-start-offset">start offset</a> to <var>length</var>. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>currentNode</var>’s <a href="#concept-tree-parent">parent</a> and <a href="#concept-range-end-offset">end offset</a> is <var>currentNode</var>’s <a href="#concept-tree-index">index</a>, set its <a href="#concept-range-end-node">end node</a> to <var>node</var> and its <a href="#concept-range-end-offset">end offset</a> to <var>length</var>. </p>
      <li>
       <p>Add <var>currentNode</var>’s <a href="#concept-node-length">length</a> to <var>length</var>. </p>
      <li>
       <p>Set <var>currentNode</var> to its <a href="#concept-tree-next-sibling">next sibling</a>. </p>
     </ol>
    <li><a href="#concept-node-remove">Remove</a> <var>node</var>’s <a href="#contiguous-exclusive-text-nodes">contiguous exclusive <code>Text</code> nodes</a> (excluding itself), in <a href="#concept-tree-order">tree order</a>. 
   </ol>
   <hr>
   <dl class="domintro">
    <dt><code><var>node</var> . <a class="idl-code" href="#dom-node-clonenode">cloneNode([<var>deep</var> = false])</a></code> 
    <dd>Returns a copy of <var>node</var>. If <var>deep</var> is true, the copy also includes the <var>node</var>’s <a href="#concept-tree-descendant">descendants</a>. 
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-isequalnode">isEqualNode(otherNode)</a></code></code> 
    <dd>Returns whether <var>node</var> and <var>otherNode</var> have the same properties. 
   </dl>
   <div class="impl">
    <p><a href="#other-applicable-specifications">Specifications</a> may define <dfn id="concept-node-clone-ext">cloning steps</dfn> for all or some <a href="#concept-node">nodes</a>. The
algorithm is passed <var>copy</var>, <var>node</var>, <var>document</var>, and an optional <i>clone children flag</i>, as indicated in the <a href="#concept-node-clone">clone</a> algorithm.</p>
    <p class="note no-backref" role="note">HTML defines <a href="#concept-node-clone-ext">cloning steps</a> for <code><a href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="termref-for-④⑧④">script</a></code> and <code><a href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="termref-for-④⑧⑤">input</a></code> elements. SVG ought to do the same for its <code><a href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="termref-for-④⑧⑥">script</a></code> elements, but does not call this out
at the moment. </p>
    <p>To <dfn id="concept-node-clone">clone</dfn> a <var>node</var>, with an optional <var>document</var> and <i>clone children flag</i>, run these
steps: </p>
    <ol>
     <li>
      <p>If <var>document</var> is not given, let <var>document</var> be <var>node</var>’s <a href="#concept-node-document">node document</a>. </p>
     <li>
      <p>If <var>node</var> is an <a href="#concept-element">element</a>, then: </p>
      <ol>
       <li>
        <p>Let <var>copy</var> be the result of <a href="#concept-create-element">creating an element</a>, given <var>document</var>, <var>node</var>’s <a href="#concept-element-local-name">local name</a>, <var>node</var>’s <a href="#concept-element-namespace">namespace</a>, <var>node</var>’s <a href="#concept-element-namespace-prefix">namespace prefix</a>, and <var>node</var>’s <a href="#concept-element-is-value"><code>is</code> value</a>, with the <var>synchronous custom elements
   flag</var> unset. </p>
       <li>
        <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>attribute</var> in <var>node</var>’s <a href="#concept-element-attribute">attribute list</a>: </p>
        <ol>
         <li>
          <p>Let <var>copyAttribute</var> be a <a href="#concept-node-clone">clone</a> of <var>attribute</var>. </p>
         <li>
          <p><a href="#concept-element-attributes-append">Append</a> <var>copyAttribute</var> to <var>copy</var>. </p>
        </ol>
      </ol>
     <li>
      <p>Otherwise, let <var>copy</var> be a <a href="#boundary-point-node">node</a> that implements the same interfaces as <var>node</var>, and fulfills these additional requirements, switching on <var>node</var>: </p>
      <dl class="switch">
       <dt><code class="idl"><a href="#document">Document</a></code> 
       <dd>
        <p>Set <var>copy</var>’s <a href="#concept-document-encoding">encoding</a>, <a href="#concept-document-content-type">content type</a>, <a href="#concept-document-url">URL</a>, <a href="#concept-document-origin">origin</a>, <a href="#concept-document-type">type</a>, and <a href="#concept-document-mode">mode</a>, to those of <var>node</var>. </p>
       <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
       <dd>
        <p>Set <var>copy</var>’s <a href="#concept-doctype-name">name</a>, <a href="#concept-doctype-publicid">public ID</a>, and <a href="#concept-doctype-systemid">system ID</a>, to those of <var>node</var>. </p>
       <dt><code class="idl"><a href="#attr">Attr</a></code> 
       <dd>
        <p>Set <var>copy</var>’s <a href="#concept-attribute-namespace">namespace</a>, <a href="#concept-attribute-namespace-prefix">namespace prefix</a>, <a href="#concept-attribute-local-name">local name</a>, and <a href="#concept-attribute-value">value</a>, to those of <var>node</var>. </p>
       <dt><code class="idl"><a href="#text">Text</a></code> 
       <dt><code class="idl"><a href="#comment">Comment</a></code> 
       <dd>Set <var>copy</var>’s <a href="#concept-cd-data">data</a>, to that of <var>node</var>. 
       <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
       <dd>Set <var>copy</var>’s <a href="#concept-pi-target">target</a> and <a href="#concept-cd-data">data</a> to those of <var>node</var>. 
       <dt>Any other node 
       <dd>— 
      </dl>
     <li>
      <p>Set <var>copy</var>’s <a href="#concept-node-document">node document</a> and <var>document</var> to <var>copy</var>, if <var>copy</var> is a <a href="#concept-document">document</a>, and set <var>copy</var>’s <a href="#concept-node-document">node document</a> to <var>document</var> otherwise. </p>
     <li>Run any <a href="#concept-node-clone-ext">cloning steps</a> defined for <var>node</var> in <a href="#other-applicable-specifications">other applicable specifications</a> and pass <var>copy</var>, <var>node</var>, <var>document</var> and the <i>clone children flag</i> if set, as parameters. 
     <li>If the <i>clone children flag</i> is set, <a href="#concept-node-clone">clone</a> all the <a href="#concept-tree-child">children</a> of <var>node</var> and append them to <var>copy</var>, with <var>document</var> as specified and the <i>clone children flag</i> being set. 
     <li>Return <var>copy</var>. 
    </ol>
    <p>The <dfn class="idl-code" id="dom-node-clonenode"><code>cloneNode(<var>deep</var>)</code></dfn> method, when
invoked, must run these steps: </p>
    <ol>
     <li>
      <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑧⑦">this</a> is a <a href="#concept-shadow-root">shadow root</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-④⑧⑧">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-④⑧⑨">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-④⑨⓪">DOMException</a></code>. </p>
     <li>
      <p>Return a <a href="#concept-node-clone">clone</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑨①">this</a>, with the <i>clone children flag</i> set if <var>deep</var> is true. </p>
    </ol>
    <p>A <a href="#boundary-point-node">node</a> <var>A</var> <dfn id="concept-node-equals">equals</dfn> a <a href="#boundary-point-node">node</a> <var>B</var> if all of the following conditions are true:</p>
    <ul>
     <li><var>A</var> and <var>B</var>’s <code class="idl"><a href="#dom-node-nodetype">nodeType</a></code> attribute value is identical. 
     <li>
       The following are also equal, depending on <var>A</var>: 
      <dl class="switch">
       <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
       <dd>Its <a href="#concept-doctype-name">name</a>, <a href="#concept-doctype-publicid">public ID</a>, and <a href="#concept-doctype-systemid">system ID</a>. 
       <dt><code class="idl"><a href="#element">Element</a></code> 
       <dd>Its <a href="#concept-element-namespace">namespace</a>, <a href="#concept-element-namespace-prefix">namespace prefix</a>, <a href="#concept-element-local-name">local name</a>, and its <a href="#concept-element-attribute">attribute list</a>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-④⑨②">size</a>. 
       <dt><code class="idl"><a href="#attr">Attr</a></code> 
       <dd>Its <a href="#concept-attribute-namespace">namespace</a>, <a href="#concept-attribute-local-name">local name</a>, and <a href="#concept-attribute-value">value</a>. 
       <dt><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> 
       <dd>Its <a href="#concept-pi-target">target</a> and <a href="#concept-cd-data">data</a>. 
       <dt><code class="idl"><a href="#text">Text</a></code> 
       <dt><code class="idl"><a href="#comment">Comment</a></code> 
       <dd>Its <a href="#concept-cd-data">data</a>. 
       <dt>Any other node 
       <dd>— 
      </dl>
     <li>If <var>A</var> is an <a href="#concept-element">element</a>, each <a href="#concept-attribute">attribute</a> in its <a href="#concept-element-attribute">attribute list</a> has an <a href="#concept-attribute">attribute</a> that <a href="#concept-node-equals">equals</a> an <a href="#concept-attribute">attribute</a> in <var>B</var>’s <a href="#concept-element-attribute">attribute list</a>. 
     <li><var>A</var> and <var>B</var> have the same number of <a href="#concept-tree-child">children</a>. 
     <li>Each <a href="#concept-tree-child">child</a> of <var>A</var> <a href="#concept-node-equals">equals</a> the <a href="#concept-tree-child">child</a> of <var>B</var> at the identical <a href="#concept-tree-index">index</a>. 
    </ul>
    <p>The <dfn class="idl-code" id="dom-node-isequalnode"><code>isEqualNode(<var>otherNode</var>)</code></dfn> method, when
invoked, must return true if <var>otherNode</var> is non-null and <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑨③">this</a> <a href="#concept-node-equals">equals</a> <var>otherNode</var>, and false otherwise. </p>
    <p>The <dfn class="idl-code" id="dom-node-issamenode"><code>isSameNode(<var>otherNode</var>)</code></dfn> method, when
invoked, must return true if <var>otherNode</var> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑨④">this</a>, and false otherwise. </p>
   </div>
   <hr>
   <dl class="domintro">
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-comparedocumentposition">compareDocumentPosition(other)</a></code></code> 
    <dd>
      Returns a bitmask indicating the position of <var>other</var> relative to <var>node</var>. These are the bits that can be set: 
     <dl>
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a></code></code> (1) 
      <dd>Set when <var>node</var> and <var>other</var> are not in the
   same <a href="#concept-tree">tree</a>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code></code> (2) 
      <dd>Set when <var>other</var> is <a href="#concept-tree-preceding">preceding</a> <var>node</var>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code></code> (4) 
      <dd>Set when <var>other</var> is <a href="#concept-tree-following">following</a> <var>node</var>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a></code></code> (8) 
      <dd>Set when <var>other</var> is an <a href="#concept-tree-ancestor">ancestor</a> of <var>node</var>. 
      <dt><code><code class="idl"><a href="#node">Node</a></code> . <code class="idl"><a href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a></code></code> (16, 10 in hexadecimal) 
      <dd>Set when <var>other</var> is a <a href="#concept-tree-descendant">descendant</a> of <var>node</var>. 
     </dl>
    <dt><code><var>node</var> . <code class="idl"><a href="#dom-node-contains">contains(other)</a></code></code> 
    <dd>Returns true if <var>other</var> is an <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <var>node</var>, and false otherwise. 
   </dl>
   <p>These are the constants <code class="idl"><a href="#dom-node-comparedocumentposition">compareDocumentPosition()</a></code> returns as mask:</p>
   <ul class="brief">
    <li><dfn class="idl-code" id="dom-node-document_position_disconnected"><code>DOCUMENT_POSITION_DISCONNECTED</code></dfn> (1); 
    <li><dfn class="idl-code" id="dom-node-document_position_preceding"><code>DOCUMENT_POSITION_PRECEDING</code></dfn> (2); 
    <li><dfn class="idl-code" id="dom-node-document_position_following"><code>DOCUMENT_POSITION_FOLLOWING</code></dfn> (4); 
    <li><dfn class="idl-code" id="dom-node-document_position_contains"><code>DOCUMENT_POSITION_CONTAINS</code></dfn> (8); 
    <li><dfn class="idl-code" id="dom-node-document_position_contained_by"><code>DOCUMENT_POSITION_CONTAINED_BY</code></dfn> (16, 10 in hexadecimal); 
    <li><dfn class="idl-code" id="dom-node-document_position_implementation_specific"><code>DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</code></dfn> (32, 20 in hexadecimal). 
   </ul>
   <p>The <dfn class="idl-code" id="dom-node-comparedocumentposition"><code>compareDocumentPosition(<var>other</var>)</code></dfn> method,
when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑨⑤">this</a> is <var>other</var>, then return zero. </p>
    <li>
     <p>Let <var>node1</var> be <var>other</var> and <var>node2</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑨⑥">this</a>. </p>
    <li>
     <p>Let <var>attr1</var> and <var>attr2</var> be null. </p>
    <li>
     <p>If <var>node1</var> is an <a href="#concept-attribute">attribute</a>, then set <var>attr1</var> to <var>node1</var> and <var>node1</var> to <var>attr1</var>’s <a href="#concept-attribute-element">element</a>. </p>
    <li>
     <p>If <var>node2</var> is an <a href="#concept-attribute">attribute</a>, then: </p>
     <ol>
      <li>
       <p>Set <var>attr2</var> to <var>node2</var> and <var>node2</var> to <var>attr2</var>’s <a href="#concept-attribute-element">element</a>. </p>
      <li>
       <p>If <var>attr1</var> and <var>node1</var> are non-null, and <var>node2</var> is <var>node1</var>, then: </p>
       <ol>
        <li>
         <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>attr</var> in <var>node2</var>’s <a href="#concept-element-attribute">attribute list</a>: </p>
         <ol>
          <li>
           <p>If <var>attr</var> <a href="#concept-node-equals">equals</a> <var>attr1</var>, then return the result of
       adding <code class="idl"><a href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a></code> and <code class="idl"><a href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code>. </p>
          <li>
           <p>If <var>attr</var> <a href="#concept-node-equals">equals</a> <var>attr2</var>, then return the result of
       adding <code class="idl"><a href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a></code> and <code class="idl"><a href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>. </p>
         </ol>
       </ol>
     </ol>
    <li>
     <p>If <var>node1</var> or <var>node2</var> is null, or <var>node1</var>’s <a href="#concept-tree-root">root</a> is
  not <var>node2</var>’s <a href="#concept-tree-root">root</a>, then return the result of adding <code class="idl"><a href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a></code>, <code class="idl"><a href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a></code>, and
  either <code class="idl"><a href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code> or <code class="idl"><a href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>, with the
  constraint that this is to be consistent, together. </p>
     <p class="note no-backref" role="note">Whether to return <code class="idl"><a href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code> or <code class="idl"><a href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code> is typically implemented via pointer comparison. In
  JavaScript implementations a cached <code class="lang-javascript">Math.random()</code> value can
  be used. </p>
    <li>
     <p>If <var>node1</var> is an <a href="#concept-tree-ancestor">ancestor</a> of <var>node2</var> and <var>attr1</var> is null,
 or <var>node1</var> is <var>node2</var> and <var>attr2</var> is non-null, then return the result of
 adding <code class="idl"><a href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a></code> to <code class="idl"><a href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code>. </p>
    <li>
     <p>If <var>node1</var> is a <a href="#concept-tree-descendant">descendant</a> of <var>node2</var> and <var>attr2</var> is null,
 or <var>node1</var> is <var>node2</var> and <var>attr1</var> is non-null, then return the result of
 adding <code class="idl"><a href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a></code> to <code class="idl"><a href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>. </p>
    <li>
     <p>If <var>node1</var> is <a href="#concept-tree-preceding">preceding</a> <var>node2</var>, then return <code class="idl"><a href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code>. </p>
     <p class="note" role="note">Due to the way <a href="#concept-attribute">attributes</a> are handled in this algorithm this results in a <a href="#boundary-point-node">node</a>’s <a href="#concept-attribute">attributes</a> counting as <a href="#concept-tree-preceding">preceding</a> that <a href="#boundary-point-node">node</a>’s <a href="#concept-tree-child">children</a>,
  despite <a href="#concept-attribute">attributes</a> not <a href="#concept-tree-participate">participating</a> in a <a href="#concept-tree">tree</a>. </p>
    <li>
     <p>Return <code class="idl"><a href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-node-contains"><code>contains(<var>other</var>)</code></dfn> method, when invoked, must
return true if <var>other</var> is an <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-④⑨⑦">this</a>, and false
otherwise (including when <var>other</var> is null). </p>
   <hr>
   <p>To <dfn id="locate-a-namespace-prefix">locate a namespace prefix</dfn> for an <var>element</var> using <var>namespace</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>element</var>’s <a href="#concept-element-namespace">namespace</a> is <var>namespace</var> and its <a href="#concept-element-namespace-prefix">namespace prefix</a> is non-null, then return its <a href="#concept-element-namespace-prefix">namespace prefix</a>. </p>
    <li>
     <p>If <var>element</var> <a href="#concept-element-attribute-has">has</a> an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace-prefix">namespace prefix</a> is "<code>xmlns</code>" and <a href="#concept-attribute-value">value</a> is <var>namespace</var>, then return <var>element</var>’s first such <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a>. </p>
    <li>
     <p>If <var>element</var>’s <a href="#parent-element">parent element</a> is not null, then return the result of running <a href="#locate-a-namespace-prefix">locate a namespace prefix</a> on that <a href="#concept-element">element</a> using <var>namespace</var>. </p>
    <li>
     <p>Return null. </p>
   </ol>
   <p>To <dfn id="locate-a-namespace">locate a namespace</dfn> for a <var>node</var> using <var>prefix</var>, switch on <var>node</var>: </p>
   <dl class="switch">
    <dt><code class="idl"><a href="#element">Element</a></code> 
    <dd>
     <ol>
      <li>
       <p>If its <a href="#concept-element-namespace">namespace</a> is non-null and its <a href="#concept-element-namespace-prefix">namespace prefix</a> is <var>prefix</var>, then return <a href="#concept-element-namespace">namespace</a>. </p>
      <li>
       <p>If it <a href="#concept-element-attribute-has">has</a> an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is the <a href="https://infra.spec.whatwg.org/#xmlns-namespace" id="termref-for-④⑨⑧">XMLNS namespace</a>, <a href="#concept-attribute-namespace-prefix">namespace prefix</a> is "<code>xmlns</code>", and <a href="#concept-attribute-local-name">local name</a> is <var>prefix</var>, or if <var>prefix</var> is null and it <a href="#concept-element-attribute-has">has</a> an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is the <a href="https://infra.spec.whatwg.org/#xmlns-namespace" id="termref-for-④⑨⑨">XMLNS namespace</a>, <a href="#concept-attribute-namespace-prefix">namespace prefix</a> is null, and <a href="#concept-attribute-local-name">local name</a> is "<code>xmlns</code>", then return its <a href="#concept-attribute-value">value</a> if it is not the empty string, and
   null otherwise. </p>
      <li>
       <p>If its <a href="#parent-element">parent element</a> is null, then return null. </p>
      <li>
       <p>Return the result of running <a href="#locate-a-namespace">locate a namespace</a> on its <a href="#parent-element">parent element</a> using <var>prefix</var>. </p>
     </ol>
    <dt><code class="idl"><a href="#document">Document</a></code> 
    <dd>
     <ol>
      <li>
       <p>If its <a href="#document-element">document element</a> is null, then return null. </p>
      <li>
       <p>Return the result of running <a href="#locate-a-namespace">locate a namespace</a> on its <a href="#document-element">document element</a> using <var>prefix</var>. </p>
     </ol>
    <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
    <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
    <dd>
     <p>Return null. </p>
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd>
     <ol>
      <li>
       <p>If its <a href="#concept-attribute-element">element</a> is null, then return null. </p>
      <li>
       <p>Return the result of running <a href="#locate-a-namespace">locate a namespace</a> on its <a href="#concept-attribute-element">element</a> using <var>prefix</var>. </p>
     </ol>
    <dt>Any other node 
    <dd>
     <ol>
      <li>
       <p>If its <a href="#parent-element">parent element</a> is null, then return null. </p>
      <li>
       <p>Return the result of running <a href="#locate-a-namespace">locate a namespace</a> on its <a href="#parent-element">parent element</a> using <var>prefix</var>. </p>
     </ol>
   </dl>
   <p>The <dfn class="idl-code" id="dom-node-lookupprefix"><code>lookupPrefix(<var>namespace</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>namespace</var> is null or the empty string, then return null. </p>
    <li>
     <p>Switch on <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⓪⓪">this</a>: </p>
     <dl class="switch">
      <dt><code class="idl"><a href="#element">Element</a></code> 
      <dd>
       <p>Return the result of <a href="#locate-a-namespace-prefix">locating a namespace prefix</a> for it using <var>namespace</var>. </p>
      <dt><code class="idl"><a href="#document">Document</a></code> 
      <dd>
       <p>Return the result of <a href="#locate-a-namespace-prefix">locating a namespace prefix</a> for its <a href="#document-element">document element</a>,
   if its <a href="#document-element">document element</a> is non-null, and null otherwise. </p>
      <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
      <dt><code class="idl"><a href="#documentfragment">DocumentFragment</a></code> 
      <dd>
       <p>Return null. </p>
      <dt><code class="idl"><a href="#attr">Attr</a></code> 
      <dd>
       <p>Return the result of <a href="#locate-a-namespace-prefix">locating a namespace prefix</a> for its <a href="#concept-attribute-element">element</a>,
   if its <a href="#concept-attribute-element">element</a> is non-null, and null otherwise. </p>
      <dt>Any other node 
      <dd>
       <p>Return the result of <a href="#locate-a-namespace-prefix">locating a namespace prefix</a> for its <a href="#parent-element">parent element</a>, if
   its <a href="#parent-element">parent element</a> is non-null, and null otherwise. </p>
     </dl>
   </ol>
   <p>The <dfn class="idl-code" id="dom-node-lookupnamespaceuri"><code>lookupNamespaceURI(<var>prefix</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>prefix</var> is the empty string, then set it to null. </p>
    <li>
     <p>Return the result of running <a href="#locate-a-namespace">locate a namespace</a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⓪①">this</a> using <var>prefix</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-node-isdefaultnamespace"><code>isDefaultNamespace(<var>namespace</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>namespace</var> is the empty string, then set it to null. </p>
    <li>
     <p>Let <var>defaultNamespace</var> be the result of running <a href="#locate-a-namespace">locate a namespace</a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⓪②">this</a> using null. </p>
    <li>
     <p>Return true if <var>defaultNamespace</var> is the same as <var>namespace</var>, and false
 otherwise. </p>
   </ol>
   <hr>
   <p>The <dfn class="idl-code" id="dom-node-insertbefore"><code>insertBefore(<var>node</var>, <var>child</var>)</code></dfn> method, when invoked, must return the result of <a href="#concept-node-pre-insert">pre-inserting</a> <var>node</var> into <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⓪③">this</a> before <var>child</var>. </p>
   <p>The <dfn class="idl-code" id="dom-node-appendchild"><code>appendChild(<var>node</var>)</code></dfn> method, when invoked,
must return the result of <a href="#concept-node-append">appending</a> <var>node</var> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⓪④">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-replacechild"><code>replaceChild(<var>node</var>, <var>child</var>)</code></dfn> method, when invoked, must return the result of <a href="#concept-node-replace">replacing</a> <var>child</var> with <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⓪⑤">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-node-removechild"><code>removeChild(<var>child</var>)</code></dfn> method, when invoked,
must return the result of <a href="#concept-node-pre-remove">pre-removing</a> <var>child</var> from <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⓪⑥">this</a>. </p>
   <hr>
   <p>The <dfn id="concept-getelementsbytagname">list of elements with qualified name <var>qualifiedName</var></dfn> for a <a href="#boundary-point-node">node</a> <var>root</var> is the <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> returned by the following algorithm: </p>
   <ol>
    <li>
     <p>If <var>qualifiedName</var> is "<code>*</code>" (U+002A), return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted
 at <var>root</var>, whose filter matches only <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a>. </p>
    <li>
     <p>Otherwise, if <var>root</var>’s <a href="#concept-node-document">node document</a> is an <a href="#html-document">HTML document</a>,
  return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>, whose filter matches the following <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a>: </p>
     <ul>
      <li>
       <p>Whose <a href="#concept-element-namespace">namespace</a> is the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑤⓪⑦">HTML namespace</a> and whose <a href="#concept-element-qualified-name">qualified name</a> is <var>qualifiedName</var>, in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑤⓪⑧">ASCII lowercase</a>. </p>
      <li>
       <p>Whose <a href="#concept-element-namespace">namespace</a> is <em>not</em> the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑤⓪⑨">HTML namespace</a> and whose <a href="#concept-element-qualified-name">qualified name</a> is <var>qualifiedName</var>. </p>
     </ul>
    <li>
     <p>Otherwise, return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>, whose filter matches <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-qualified-name">qualified name</a> is <var>qualifiedName</var>. </p>
   </ol>
   <p>When invoked with the same argument, and as long as <var>root</var>’s <a href="#concept-node-document">node document</a>’s <a href="#concept-document-type">type</a> has not changed, the same <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> object may be returned as returned by an earlier call. </p>
   <p>The <dfn id="concept-getelementsbytagnamens">list of elements with namespace <var>namespace</var> and local name <var>localName</var></dfn> for a <a href="#boundary-point-node">node</a> <var>root</var> is the <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> returned by the following algorithm:</p>
   <ol>
    <li>If <var>namespace</var> is the empty string, set it to null. 
    <li>If both <var>namespace</var> and <var>localName</var> are "<code>*</code>" (U+002A), return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>, whose filter matches <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a>. 
    <li>Otherwise, if <var>namespace</var> is "<code>*</code>"
 (U+002A), return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>, whose filter matches <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-local-name">local name</a> is <var>localName</var>. 
    <li>Otherwise, if <var>localName</var> is "<code>*</code>"
 (U+002A), return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>, whose filter matches <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-namespace">namespace</a> is <var>namespace</var>. 
    <li>Otherwise, return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>, whose filter matches <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-element-local-name">local name</a> is <var>localName</var>. 
   </ol>
   <p>When invoked with the same arguments, the same <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> object may be returned as returned by an earlier call.</p>
   <p>The <dfn id="concept-getelementsbyclassname">list of elements with class names <var>classNames</var></dfn> for a <a href="#boundary-point-node">node</a> <var>root</var> is the <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> returned by the following algorithm:</p>
   <ol>
    <li> Let <var>classes</var> be the result of running the <a href="#concept-ordered-set-parser">ordered set parser</a> on <var>classNames</var>. 
    <li> If <var>classes</var> is the empty set, return an empty <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code>. 
    <li>
     <p>Return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>,
  whose filter matches <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> that have all their <a href="#concept-class">classes</a> in <var>classes</var>. </p>
     <p>The comparisons for the <a href="#concept-class">classes</a> must be done in an <a href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="termref-for-⑤①⓪">ASCII case-insensitive</a> manner if <var>root</var>’s <a href="#concept-node-document">node document</a>’s <a href="#concept-document-mode">mode</a> is "<code>quirks</code>", and in an <a href="https://infra.spec.whatwg.org/#string-is" id="termref-for-⑤①①">identical to</a> manner
  otherwise. </p>
   </ol>
   <p>When invoked with the same argument, the same <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> object may be returned as returned by an earlier call.</p>
   <h3 class="heading settled" id="interface-document"><span class="secno">4.5. </span><span class="content">Interface <code class="idl"><a href="#document">Document</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑤①②">Exposed</a>=Window]
interface <dfn class="idl-code" id="document"><code>Document</code></dfn> : <a class="n" href="#node">Node</a> {
  <a class="idl-code" href="#dom-document-document">constructor</a>();

  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-⑤①③">SameObject</a>] readonly attribute <a class="n" href="#domimplementation">DOMImplementation</a> <a class="idl-code" href="#dom-document-implementation">implementation</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-USVString" id="termref-for-⑤①④">USVString</a> <a class="idl-code" href="#dom-document-url">URL</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-USVString" id="termref-for-⑤①⑤">USVString</a> <a class="idl-code" href="#dom-document-documenturi">documentURI</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤①⑥">DOMString</a> <a class="idl-code" href="#dom-document-compatmode">compatMode</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤①⑦">DOMString</a> <a class="idl-code" href="#dom-document-characterset">characterSet</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤①⑧">DOMString</a> <a class="idl-code" href="#dom-document-charset">charset</a>; // historical alias of .characterSet
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤①⑨">DOMString</a> <a class="idl-code" href="#dom-document-inputencoding">inputEncoding</a>; // historical alias of .characterSet
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤②⓪">DOMString</a> <a class="idl-code" href="#dom-document-contenttype">contentType</a>;

  readonly attribute <a class="n" href="#documenttype">DocumentType</a>? <a class="idl-code" href="#dom-document-doctype">doctype</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-document-documentelement">documentElement</a>;
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-document-getelementsbytagname">getElementsByTagName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤②①">DOMString</a> <dfn class="idl-code" id="dom-document-getelementsbytagname-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-document-getelementsbytagnamens">getElementsByTagNameNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤②②">DOMString</a>? <dfn class="idl-code" id="dom-document-getelementsbytagnamens-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤②③">DOMString</a> <dfn class="idl-code" id="dom-document-getelementsbytagnamens-namespace-localname-localname"><code>localName</code></dfn>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-document-getelementsbyclassname">getElementsByClassName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤②④">DOMString</a> <dfn class="idl-code" id="dom-document-getelementsbyclassname-classnames-classnames"><code>classNames</code></dfn>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑤②⑤">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤②⑥">NewObject</a>] <a class="n" href="#element">Element</a> <a class="idl-code" href="#dom-document-createelement">createElement</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤②⑦">DOMString</a> <dfn class="idl-code" id="dom-document-createelement-localname-options-localname"><code>localName</code></dfn>, optional (<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤②⑧">DOMString</a> or <a class="n" href="#dictdef-elementcreationoptions">ElementCreationOptions</a>) <dfn class="idl-code" id="dom-document-createelement-localname-options-options"><code>options</code></dfn> = {});
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑤②⑨">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤③⓪">NewObject</a>] <a class="n" href="#element">Element</a> <a class="idl-code" href="#dom-document-createelementns">createElementNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤③①">DOMString</a>? <dfn class="idl-code" id="dom-document-createelementns-namespace-qualifiedname-options-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤③②">DOMString</a> <dfn class="idl-code" id="dom-document-createelementns-namespace-qualifiedname-options-qualifiedname"><code>qualifiedName</code></dfn>, optional (<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤③③">DOMString</a> or <a class="n" href="#dictdef-elementcreationoptions">ElementCreationOptions</a>) <dfn class="idl-code" id="dom-document-createelementns-namespace-qualifiedname-options-options"><code>options</code></dfn> = {});
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤③④">NewObject</a>] <a class="n" href="#documentfragment">DocumentFragment</a> <a class="idl-code" href="#dom-document-createdocumentfragment">createDocumentFragment</a>();
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤③⑤">NewObject</a>] <a class="n" href="#text">Text</a> <a class="idl-code" href="#dom-document-createtextnode">createTextNode</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤③⑥">DOMString</a> <dfn class="idl-code" id="dom-document-createtextnode-data-data"><code>data</code></dfn>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤③⑦">NewObject</a>] <a class="n" href="#cdatasection">CDATASection</a> <a class="idl-code" href="#dom-document-createcdatasection">createCDATASection</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤③⑧">DOMString</a> <dfn class="idl-code" id="dom-document-createcdatasection-data-data"><code>data</code></dfn>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤③⑨">NewObject</a>] <a class="n" href="#comment">Comment</a> <a class="idl-code" href="#dom-document-createcomment">createComment</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤④⓪">DOMString</a> <dfn class="idl-code" id="dom-document-createcomment-data-data"><code>data</code></dfn>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤④①">NewObject</a>] <a class="n" href="#processinginstruction">ProcessingInstruction</a> <a class="idl-code" href="#dom-document-createprocessinginstruction">createProcessingInstruction</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤④②">DOMString</a> <dfn class="idl-code" id="dom-document-createprocessinginstruction-target-data-target"><code>target</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤④③">DOMString</a> <dfn class="idl-code" id="dom-document-createprocessinginstruction-target-data-data"><code>data</code></dfn>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑤④④">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤④⑤">NewObject</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-document-importnode">importNode</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-document-importnode-node-deep-node"><code>node</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑤④⑥">boolean</a> <dfn class="idl-code" id="dom-document-importnode-node-deep-deep"><code>deep</code></dfn> = false);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑤④⑦">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-document-adoptnode">adoptNode</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-document-adoptnode-node-node"><code>node</code></dfn>);

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤④⑧">NewObject</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-document-createattribute">createAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤④⑨">DOMString</a> <dfn class="idl-code" id="dom-document-createattribute-localname-localname"><code>localName</code></dfn>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤⑤⓪">NewObject</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-document-createattributens">createAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤⑤①">DOMString</a>? <dfn class="idl-code" id="dom-document-createattributens-namespace-qualifiedname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤⑤②">DOMString</a> <dfn class="idl-code" id="dom-document-createattributens-namespace-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤⑤③">NewObject</a>] <a class="n" href="#event">Event</a> <a class="idl-code" href="#dom-document-createevent">createEvent</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤⑤④">DOMString</a> <dfn class="idl-code" id="dom-document-createevent-interface-interface"><code>interface</code></dfn>); // historical

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤⑤⑤">NewObject</a>] <a class="n" href="#range">Range</a> <a class="idl-code" href="#dom-document-createrange">createRange</a>();

  // NodeFilter.SHOW_ALL = 0xFFFFFFFF
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤⑤⑥">NewObject</a>] <a class="n" href="#nodeiterator">NodeIterator</a> <a class="idl-code" href="#dom-document-createnodeiterator">createNodeIterator</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-document-createnodeiterator-root-whattoshow-filter-root"><code>root</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-⑤⑤⑦">unsigned long</a> <dfn class="idl-code" id="dom-document-createnodeiterator-root-whattoshow-filter-whattoshow"><code>whatToShow</code></dfn> = 0xFFFFFFFF, optional <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <dfn class="idl-code" id="dom-document-createnodeiterator-root-whattoshow-filter-filter"><code>filter</code></dfn> = null);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑤⑤⑧">NewObject</a>] <a class="n" href="#treewalker">TreeWalker</a> <a class="idl-code" href="#dom-document-createtreewalker">createTreeWalker</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-document-createtreewalker-root-whattoshow-filter-root"><code>root</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-⑤⑤⑨">unsigned long</a> <dfn class="idl-code" id="dom-document-createtreewalker-root-whattoshow-filter-whattoshow"><code>whatToShow</code></dfn> = 0xFFFFFFFF, optional <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <dfn class="idl-code" id="dom-document-createtreewalker-root-whattoshow-filter-filter"><code>filter</code></dfn> = null);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑤⑥⓪">Exposed</a>=Window]
interface <dfn class="idl-code" id="xmldocument"><code>XMLDocument</code></dfn> : <a class="n" href="#document">Document</a> {};

dictionary <dfn class="idl-code" id="dictdef-elementcreationoptions"><code>ElementCreationOptions</code></dfn> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑤⑥①">DOMString</a> <dfn class="idl-code" id="dom-elementcreationoptions-is"><code>is</code></dfn>;
};
</pre>
   <p><code class="idl"><a href="#document">Document</a></code> <a href="#concept-node">nodes</a> are simply
known as <dfn id="concept-document">documents</dfn>.</p>
   <p>Each <a href="#concept-document">document</a> has an associated <dfn id="concept-document-encoding">encoding</dfn> (an <a href="https://encoding.spec.whatwg.org/#encoding" id="termref-for-⑤⑥②">encoding</a>), <dfn id="concept-document-content-type">content type</dfn> (a string), <dfn id="concept-document-url">URL</dfn> (a <a href="https://url.spec.whatwg.org/#concept-url" id="termref-for-⑤⑥③">URL</a>), <dfn id="concept-document-origin">origin</dfn> (an <a href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin" id="termref-for-⑤⑥④">origin</a>), <dfn id="concept-document-type">type</dfn> ("<code>xml</code>" or "<code>html</code>"), and <dfn id="concept-document-mode">mode</dfn> ("<code>no-quirks</code>", "<code>quirks</code>", or "<code>limited-quirks</code>"). <a href="#biblio-encoding">[ENCODING]</a> <a href="#biblio-url">[URL]</a> <a href="#biblio-html">[HTML]</a></p>
   <p>Unless stated otherwise, a <a href="#concept-document">document</a>’s <a href="#concept-document-encoding">encoding</a> is the <a href="https://encoding.spec.whatwg.org/#utf-8" id="termref-for-⑤⑥⑤">utf-8</a> <a href="https://encoding.spec.whatwg.org/#encoding" id="termref-for-⑤⑥⑥">encoding</a>, <a href="#concept-document-content-type">content type</a> is
"<code>application/xml</code>", <a href="#concept-document-url">URL</a> is "<code>about:blank</code>", <a href="#concept-document-origin">origin</a> is an <a href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-opaque" id="termref-for-⑤⑥⑦">opaque origin</a>, <a href="#concept-document-type">type</a> is "<code>xml</code>", and its <a href="#concept-document-mode">mode</a> is "<code>no-quirks</code>".</p>
   <p>A <a href="#concept-document">document</a> is said to be an <dfn id="xml-document">XML document</dfn> if its <a href="#concept-document-type">type</a> is "<code>xml</code>", and an <dfn id="html-document">HTML document</dfn> otherwise. Whether a <a href="#concept-document">document</a> is an <a href="#html-document">HTML document</a> or an <a href="#xml-document">XML document</a> affects the behavior of certain APIs.</p>
   <p>A <a href="#concept-document">document</a> is said to be in <dfn id="concept-document-no-quirks">no-quirks mode</dfn> if its <a href="#concept-document-mode">mode</a> is "<code>no-quirks</code>", <dfn id="concept-document-quirks">quirks mode</dfn> if its <a href="#concept-document-mode">mode</a> is "<code>quirks</code>", and <dfn id="concept-document-limited-quirks">limited-quirks mode</dfn> if its <a href="#concept-document-mode">mode</a> is "<code>limited-quirks</code>".</p>
   <div class="note no-backref" role="note">
    <p>The <a href="#concept-document-mode">mode</a> is only ever changed from the default for <a href="#concept-document">documents</a> created
 by the <a href="https://html.spec.whatwg.org/multipage/parsing.html#html-parser" id="termref-for-⑤⑥⑧">HTML parser</a> based on the presence, absence, or value of the DOCTYPE string, and by a
 new <a href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context">browsing context</a> (initial "<code>about:blank</code>"). <a href="#biblio-html">[HTML]</a> </p>
    <p><a href="#concept-document-no-quirks">No-quirks mode</a> was originally known as "standards mode" and <a href="#concept-document-limited-quirks">limited-quirks mode</a> was once known as "almost standards mode". They have been renamed because their details are now
 defined by standards. (And because Ian Hickson vetoed their original names on the basis that they
 are nonsensical.) </p>
   </div>
   <p>A <a href="#concept-document">document</a>’s <a href="#get-the-parent">get the parent</a> algorithm, given an <var>event</var>, returns
null if <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute value is "<code>load</code>" or <a href="#concept-document">document</a> does not have a <a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-bc" id="termref-for-⑤⑥⑨">browsing context</a>, and the <a href="#concept-document">document</a>’s <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="termref-for-⑤⑦⓪">relevant global object</a> otherwise. </p>
   <hr>
   <dl class="domintro">
    <dt><code><var>document</var> = new <code class="idl"><a href="#dom-document-document">Document()</a></code></code> 
    <dd>Returns a new <a href="#concept-document">document</a>. 
    <dt><code><var>document</var> . <code class="idl"><a href="#dom-document-implementation">implementation</a></code></code> 
    <dd>Returns <var>document</var>’s <code class="idl"><a href="#domimplementation">DOMImplementation</a></code> object. 
    <dt><code><var>document</var> . <code class="idl"><a href="#dom-document-url">URL</a></code></code> 
    <dt><code><var>document</var> . <code class="idl"><a href="#dom-document-documenturi">documentURI</a></code></code> 
    <dd>Returns <var>document</var>’s <a href="#concept-document-url">URL</a>. 
    <dt><code><var>document</var> . <code class="idl"><a href="#dom-document-compatmode">compatMode</a></code></code> 
    <dd> Returns the string "<code>BackCompat</code>" if <var>document</var>’s <a href="#concept-document-mode">mode</a> is "<code>quirks</code>", and "<code>CSS1Compat</code>"
  otherwise. 
    <dt><code><var>document</var> . <code class="idl"><a href="#dom-document-characterset">characterSet</a></code></code> 
    <dd>Returns <var>document</var>’s <a href="#concept-document-encoding">encoding</a>. 
    <dt><code><var>document</var> . <code class="idl"><a href="#dom-document-contenttype">contentType</a></code></code> 
    <dd>Returns <var>document</var>’s <a href="#concept-document-content-type">content type</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-document-document"><code>Document()</code></dfn> constructor, when invoked, must
return a new <a href="#concept-document">document</a> whose <a href="#concept-document-origin">origin</a> is the <a href="#concept-document-origin">origin</a> of <a href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="termref-for-⑤⑦①">current global object</a>’s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="termref-for-⑤⑦②">associated <code>Document</code></a>. <a href="#biblio-html">[HTML]</a> </p>
   <p class="note no-backref" role="note">Unlike <code class="idl"><a href="#dom-domimplementation-createdocument">createDocument()</a></code>, this constructor does not
return an <code class="idl"><a href="#xmldocument">XMLDocument</a></code> object, but a <a href="#concept-document">document</a> (<code class="idl"><a href="#document">Document</a></code> object). </p>
   <p>The <dfn class="idl-code" id="dom-document-implementation"><code>implementation</code></dfn> attribute’s getter must return the <code class="idl"><a href="#domimplementation">DOMImplementation</a></code> object that is associated with the <a href="#concept-document">document</a>.</p>
   <p>The <dfn class="idl-code" id="dom-document-url"><code>URL</code></dfn> attribute’s getter and <dfn class="idl-code" id="dom-document-documenturi"><code>documentURI</code></dfn> attribute’s getter must return the <a href="#concept-document-url">URL</a>, <a href="https://url.spec.whatwg.org/#concept-url-serializer" id="termref-for-⑤⑦③">serialized</a>.</p>
   <p>The <dfn class="idl-code" id="dom-document-compatmode"><code>compatMode</code></dfn> attribute’s getter must
return "<code>BackCompat</code>" if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⑦④">this</a>’s <a href="#concept-document-mode">mode</a> is
"<code>quirks</code>", and "<code>CSS1Compat</code>" otherwise.</p>
   <p>The <dfn class="idl-code" id="dom-document-characterset"><code>characterSet</code></dfn> attribute’s getter, <dfn class="idl-code" id="dom-document-charset"><code>charset</code></dfn> attribute’s getter, and <dfn class="idl-code" id="dom-document-inputencoding"><code>inputEncoding</code></dfn> attribute’s getter, must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⑦⑤">this</a>’s <a href="#concept-document-encoding">encoding</a>’s <a href="https://encoding.spec.whatwg.org/#name" id="termref-for-⑤⑦⑥">name</a>.</p>
   <p>The <dfn class="idl-code" id="dom-document-contenttype"><code>contentType</code></dfn> attribute’s getter must return the <a href="#concept-document-content-type">content type</a>.</p>
   <hr>
   <dl class="domintro">
    <dt><var>document</var> . <code class="idl"><a href="#dom-document-doctype">doctype</a></code> 
    <dd>Returns the <a href="#concept-doctype">doctype</a> or null if
 there is none. 
    <dt><var>document</var> . <code class="idl"><a href="#dom-document-documentelement">documentElement</a></code> 
    <dd>Returns the <a href="#document-element">document element</a>. 
    <dt><var>collection</var> = <var>document</var> . <code class="idl"><a href="#dom-document-getelementsbytagname">getElementsByTagName(qualifiedName)</a></code> 
    <dd>
     <p>If <var>qualifiedName</var> is "<code>*</code>" returns a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> of all <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a>. </p>
     <p>Otherwise, returns a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> of all <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-qualified-name">qualified name</a> is <var>qualifiedName</var>. (Matches case-insensitively against <a href="#concept-element">elements</a> in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑤⑦⑦">HTML namespace</a> within an <a href="#html-document">HTML document</a>.) </p>
    <dt><var>collection</var> = <var>document</var> . <code class="idl"><a href="#dom-document-getelementsbytagnamens">getElementsByTagNameNS(namespace, localName)</a></code> 
    <dd>
      If <var>namespace</var> and <var>localName</var> are
  "<code>*</code>" returns a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> of all <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a>. 
     <p>If only <var>namespace</var> is "<code>*</code>" returns a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> of all <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-local-name">local name</a> is <var>localName</var>.</p>
     <p>If only <var>localName</var> is "<code>*</code>" returns a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> of all <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-namespace">namespace</a> is <var>namespace</var>.</p>
     <p>Otherwise, returns a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> of all <a href="#concept-tree-descendant">descendant</a> <a href="#concept-element">elements</a> whose <a href="#concept-element-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-element-local-name">local name</a> is <var>localName</var>.</p>
    <dt><var>collection</var> = <var>document</var> . <code class="idl"><a href="#dom-document-getelementsbyclassname">getElementsByClassName(classNames)</a></code> 
    <dt><var>collection</var> = <var>element</var> . <code class="idl"><a href="#dom-element-getelementsbyclassname">getElementsByClassName(classNames)</a></code> 
    <dd> Returns a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> of the <a href="#concept-element">elements</a> in the object on which
  the method was invoked (a <a href="#concept-document">document</a> or
  an <a href="#concept-element">element</a>) that have all the classes
  given by <var>classNames</var>.
  The <var>classNames</var> argument is interpreted as a
  space-separated list of classes. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-document-doctype"><code>doctype</code></dfn> attribute’s getter must return the <a href="#concept-tree-child">child</a> of the <a href="#concept-document">document</a> that is a <a href="#concept-doctype">doctype</a>, and null otherwise.</p>
   <p>The <dfn class="idl-code" id="dom-document-documentelement"><code>documentElement</code></dfn> attribute’s getter must return
the <a href="#document-element">document element</a>.</p>
   <p>The <dfn class="idl-code" id="dom-document-getelementsbytagname"><code>getElementsByTagName(<var>qualifiedName</var>)</code></dfn> method, when invoked, must return the <a href="#concept-getelementsbytagname">list of elements with qualified name <var>qualifiedName</var></a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⑦⑧">this</a>.</p>
   <p class="note no-backref" role="note">Thus, in an <a href="#html-document">HTML document</a>, <code class="lang-javascript">document.getElementsByTagName("FOO")</code> will match <code>&lt;FOO></code> elements that are not in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑤⑦⑨">HTML namespace</a>, and <code>&lt;foo></code> elements that are in
the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑤⑧⓪">HTML namespace</a>, but not <code>&lt;FOO></code> elements
that are in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑤⑧①">HTML namespace</a>. </p>
   <p>The <dfn class="idl-code" id="dom-document-getelementsbytagnamens"><code>getElementsByTagNameNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must return the <a href="#concept-getelementsbytagnamens">list of elements with namespace <var>namespace</var> and local name <var>localName</var></a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⑧②">this</a>.</p>
   <p>The <dfn class="idl-code" id="dom-document-getelementsbyclassname"><code>getElementsByClassName(<var>classNames</var>)</code></dfn> method, when invoked, must return the <a href="#concept-getelementsbyclassname">list of elements with class names <var>classNames</var></a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑤⑧③">this</a>.</p>
   <div class="example" id="example-5ffcda00">
     Given the following XHTML fragment: 
<pre><code class="lang-html">&lt;div id="example">
  &lt;p id="p1" class="aaa bbb"/>
  &lt;p id="p2" class="aaa ccc"/>
  &lt;p id="p3" class="bbb ccc"/>
&lt;/div>
</code></pre>
    <p>A call to <code class="lang-javascript">document.getElementById("example").getElementsByClassName("aaa")</code> would return a <code class="idl"><a href="#htmlcollection">HTMLCollection</a></code> with the two paragraphs <code>p1</code> and <code>p2</code> in it.</p>
    <p>A call to <code class="lang-javascript">getElementsByClassName("ccc bbb")</code> would only return one node, however, namely <code>p3</code>. A call to <code class="lang-javascript">document.getElementById("example").getElementsByClassName("bbb  ccc ")</code> would return the same thing.</p>
    <p>A call to <code class="lang-javascript">getElementsByClassName("aaa,bbb")</code> would return no nodes; none of the elements above are in the <code>aaa,bbb</code> class.</p>
   </div>
   <hr>
   <dl class="domintro">
    <dt><code><var>element</var> = <var>document</var> . <a class="idl-code" href="#dom-document-createelement">createElement(localName [, options])</a></code> 
    <dd>
     <p>Returns an <a href="#concept-element">element</a> with <var>localName</var> as <a href="#concept-element-local-name">local name</a> (if <var>document</var> is an <a href="#html-document">HTML document</a>, <var>localName</var> gets lowercased). The <a href="#concept-element">element</a>’s <a href="#concept-element-namespace">namespace</a> is the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑤⑧④">HTML namespace</a> when <var>document</var> is an <a href="#html-document">HTML document</a> or <var>document</var>’s <a href="#concept-document-content-type">content type</a> is "<code>application/xhtml+xml</code>", and null otherwise. </p>
     <p>If <var>localName</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production an
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑤⑧⑤">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑤⑧⑥">DOMException</a></code> will be thrown. </p>
     <p>When supplied, <var>options</var>’s <code class="idl"><a href="#dom-elementcreationoptions-is">is</a></code> can be used to create a <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#customized-built-in-element" id="termref-for-⑤⑧⑦">customized built-in element</a>. </p>
    <dt><code><var>element</var> = <var>document</var> . <a class="idl-code" href="#dom-document-createelementns">createElementNS(namespace, qualifiedName [, options])</a></code> 
    <dd>
     <p>Returns an <a href="#concept-element">element</a> with <a href="#concept-element-namespace">namespace</a> <var>namespace</var>. Its <a href="#concept-element-namespace-prefix">namespace prefix</a> will be everything before "<code>:</code>" (U+003E) in <var>qualifiedName</var> or null. Its <a href="#concept-element-local-name">local name</a> will be everything after
  "<code>:</code>" (U+003E) in <var>qualifiedName</var> or <var>qualifiedName</var>. </p>
     <p>If <var>localName</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production an
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑤⑧⑧">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑤⑧⑨">DOMException</a></code> will be thrown. </p>
     <p>If one of the following conditions is true a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#namespaceerror" id="termref-for-⑤⑨⓪">NamespaceError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑤⑨①">DOMException</a></code> will be thrown: </p>
     <ul>
      <li><var>localName</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml-names/#NT-QName">QName</a></code> production. 
      <li><a href="#concept-element-namespace-prefix">Namespace prefix</a> is not null and <var>namespace</var> is the empty string. 
      <li><a href="#concept-element-namespace-prefix">Namespace prefix</a> is "<code>xml</code>" and <var>namespace</var> is not the <a href="https://infra.spec.whatwg.org/#xml-namespace" id="termref-for-⑤⑨②">XML namespace</a>. 
      <li><var>qualifiedName</var> or <a href="#concept-element-namespace-prefix">namespace prefix</a> is "<code>xmlns</code>" and <var>namespace</var> is not the <a href="https://infra.spec.whatwg.org/#xmlns-namespace" id="termref-for-⑤⑨③">XMLNS namespace</a>. 
      <li><var>namespace</var> is the <a href="https://infra.spec.whatwg.org/#xmlns-namespace" id="termref-for-⑤⑨④">XMLNS namespace</a> and
   neither <var>qualifiedName</var> nor <a href="#concept-element-namespace-prefix">namespace prefix</a> is "<code>xmlns</code>". 
     </ul>
     <p>When supplied, <var>options</var>’s <code class="idl"><a href="#dom-elementcreationoptions-is">is</a></code> can be used to create a <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#customized-built-in-element" id="termref-for-⑤⑨⑤">customized built-in element</a>. </p>
    <dt><code><var>documentFragment</var> = <var>document</var> . <code class="idl"><a href="#dom-document-createdocumentfragment">createDocumentFragment()</a></code></code> 
    <dd>Returns a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>. 
    <dt><code><var>text</var> = <var>document</var> . <code class="idl"><a href="#dom-document-createtextnode">createTextNode(data)</a></code></code> 
    <dd>Returns a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var>. 
    <dt><code><var>text</var> = <var>document</var> . <code class="idl"><a href="#dom-document-createcdatasection">createCDATASection(data)</a></code></code> 
    <dd>Returns a <code class="idl"><a href="#cdatasection">CDATASection</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var>. 
    <dt><code><var>comment</var> = <var>document</var> . <code class="idl"><a href="#dom-document-createcomment">createComment(data)</a></code></code> 
    <dd>Returns a <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var>. 
    <dt><code><var>processingInstruction</var> = <var>document</var> . <code class="idl"><a href="#dom-document-createprocessinginstruction">createProcessingInstruction(target, data)</a></code></code> 
    <dd> Returns a <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-pi-target">target</a> is <var>target</var> and <a href="#concept-cd-data">data</a> is <var>data</var>.
  If <var>target</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production an
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑤⑨⑥">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑤⑨⑦">DOMException</a></code> will be thrown.
  If <var>data</var> contains "<code>?></code>" an
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑤⑨⑧">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑤⑨⑨">DOMException</a></code> will be thrown. 
   </dl>
   <p>The <dfn id="concept-element-interface">element interface</dfn> for any <var>name</var> and <var>namespace</var> is <code class="idl"><a href="#element">Element</a></code>, unless
stated otherwise.</p>
   <p class="note no-backref" role="note">The HTML Standard will e.g. define that for <code>html</code> and the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑥⓪⓪">HTML namespace</a>, the <code class="idl"><a href="https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement" id="termref-for-⑥⓪①">HTMLHtmlElement</a></code> interface is used. <a href="#biblio-html">[HTML]</a> </p>
   <p>The <dfn class="idl-code" id="dom-document-createelement"><code>createElement(<var>localName</var>, <var>options</var>)</code></dfn> method, when
invoked, must run these steps:</p>
   <ol>
    <li>
     <p>If <var>localName</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥⓪②">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑥⓪③">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥⓪④">DOMException</a></code>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⓪⑤">this</a> is an <a href="#html-document">HTML document</a>, then set <var>localName</var> to <var>localName</var> in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑥⓪⑥">ASCII lowercase</a>. </p>
    <li>
     <p>Let <var>is</var> be null. </p>
    <li>
     <p>If <var>options</var> is a <a href="https://heycam.github.io/webidl/#dfn-dictionary" id="termref-for-⑥⓪⑦">dictionary</a> and <var>options</var>’s <code class="idl"><a href="#dom-elementcreationoptions-is">is</a></code> is present, then set <var>is</var> to it. </p>
    <li>
     <p>Let <var>namespace</var> be the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑥⓪⑧">HTML namespace</a>, if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⓪⑨">this</a> is an <a href="#html-document">HTML document</a> or <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥①⓪">this</a>’s <a href="#concept-document-content-type">content type</a> is
 "<code>application/xhtml+xml</code>", and null otherwise. </p>
    <li>
     <p>Return the result of <a href="#concept-create-element">creating an element</a> given <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥①①">this</a>, <var>localName</var>, <var>namespace</var>, null, <var>is</var>, and with the <var>synchronous custom elements</var> flag
 set. </p>
   </ol>
   <p>The <dfn id="internal-createelementns-steps">internal <code>createElementNS</code> steps</dfn>, given <var>document</var>, <var>namespace</var>, <var>qualifiedName</var>, and <var>options</var>, are as follows: </p>
   <ol>
    <li>
     <p>Let <var>namespace</var>, <var>prefix</var>, and <var>localName</var> be the result of
 passing <var>namespace</var> and <var>qualifiedName</var> to <a href="#validate-and-extract">validate and extract</a>. </p>
    <li>
     <p>Let <var>is</var> be null. </p>
    <li>
     <p>If <var>options</var> is a <a href="https://heycam.github.io/webidl/#dfn-dictionary" id="termref-for-⑥①②">dictionary</a> and <var>options</var>’s <code class="idl"><a href="#dom-elementcreationoptions-is">is</a></code> is present, then set <var>is</var> to it. </p>
    <li>
     <p>Return the result of <a href="#concept-create-element">creating an element</a> given <var>document</var>, <var>localName</var>, <var>namespace</var>, <var>prefix</var>, <var>is</var>, and with the <var>synchronous custom elements</var> flag set. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-document-createelementns"><code>createElementNS(<var>namespace</var>, <var>qualifiedName</var>, <var>options</var>)</code></dfn> method, when invoked, must return the result of running the <a href="#internal-createelementns-steps">internal <code>createElementNS</code> steps</a>, given <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥①③">this</a>, <var>namespace</var>, <var>qualifiedName</var>, and <var>options</var>. </p>
   <p class="note" role="note"><code class="idl"><a href="#dom-document-createelement">createElement()</a></code> and <code class="idl"><a href="#dom-document-createelementns">createElementNS()</a></code>'s <var>options</var> parameter is allowed to be a string for web compatibility. </p>
   <p>The <dfn class="idl-code" id="dom-document-createdocumentfragment"><code>createDocumentFragment()</code></dfn> method, when invoked,
must return a new <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a> with its <a href="#concept-node-document">node document</a> set to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥①④">this</a>.</p>
   <p>The <dfn class="idl-code" id="dom-document-createtextnode"><code>createTextNode(<var>data</var>)</code></dfn> method, when
invoked, must return a new <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> with its <a href="#concept-cd-data">data</a> set to <var>data</var> and <a href="#concept-node-document">node document</a> set to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥①⑤">this</a>.</p>
   <p class="note no-backref" role="note">No check is performed that <var>data</var> consists of
characters that match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Char">Char</a></code> production. </p>
   <p>The <dfn class="idl-code" id="dom-document-createcdatasection"><code>createCDATASection(<var>data</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥①⑥">this</a> is an <a href="#html-document">HTML document</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥①⑦">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑥①⑧">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥①⑨">DOMException</a></code>. </p>
    <li>
     <p>If <var>data</var> contains the string "<code>]]></code>", then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥②⓪">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑥②①">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥②②">DOMException</a></code>. </p>
    <li>
     <p>Return a new <code class="idl"><a href="#cdatasection">CDATASection</a></code> <a href="#boundary-point-node">node</a> with its <a href="#concept-cd-data">data</a> set to <var>data</var> and <a href="#concept-node-document">node document</a> set to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥②③">this</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-document-createcomment"><code>createComment(<var>data</var>)</code></dfn> method, when invoked,
must return a new <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a> with its <a href="#concept-cd-data">data</a> set to <var>data</var> and <a href="#concept-node-document">node document</a> set to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥②④">this</a>.</p>
   <p class="note no-backref" role="note">No check is performed that <var>data</var> consists of
characters that match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Char">Char</a></code> production
or that it contains two adjacent hyphens or ends with a hyphen. </p>
   <p>The <dfn class="idl-code" id="dom-document-createprocessinginstruction"><code>createProcessingInstruction(<var>target</var>, <var>data</var>)</code></dfn> method, when invoked, must run these steps:</p>
   <ol>
    <li>If <var>target</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production,
 then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥②⑤">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑥②⑥">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥②⑦">DOMException</a></code>. 
    <li>If <var>data</var> contains the string
 "<code>?></code>", then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥②⑧">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑥②⑨">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥③⓪">DOMException</a></code>. 
    <li>Return a new <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> <a href="#boundary-point-node">node</a>, with <a href="#concept-pi-target">target</a> set to <var>target</var>, <a href="#concept-cd-data">data</a> set to <var>data</var>, and <a href="#concept-node-document">node document</a> set to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥③①">this</a>. 
   </ol>
   <p class="note no-backref" role="note">No check is performed that <var>target</var> contains
"<code>xml</code>" or "<code>:</code>", or that <var>data</var> contains characters that match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Char">Char</a></code> production. </p>
   <hr>
   <dl class="domintro">
    <dt><var>clone</var> = <var>document</var> . <a class="idl-code" href="#dom-document-importnode">importNode(<var>node</var> [, <var>deep</var> = false])</a> 
    <dd>
      Returns a copy of <var>node</var>. If <var>deep</var> is true, the copy also includes the <var>node</var>’s <a href="#concept-tree-descendant">descendants</a>. 
     <p>If <var>node</var> is a <a href="#concept-document">document</a> or a <a href="#concept-shadow-root">shadow root</a>, throws a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑥③②">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥③③">DOMException</a></code>.</p>
    <dt><var>node</var> = <var>document</var> . <code class="idl"><a href="#dom-document-adoptnode">adoptNode(node)</a></code> 
    <dd>
      Moves <var>node</var> from another <a href="#concept-document">document</a> and returns it. 
     <p>If <var>node</var> is a <a href="#concept-document">document</a>, throws a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑥③④">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥③⑤">DOMException</a></code> or, if <var>node</var> is a <a href="#concept-shadow-root">shadow root</a>, throws a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-⑥③⑥">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥③⑦">DOMException</a></code>.</p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-document-importnode"><code>importNode(<var>node</var>, <var>deep</var>)</code></dfn> method,
when invoked, must run these steps:</p>
   <ol>
    <li>
     <p>If <var>node</var> is a <a href="#concept-document">document</a> or <a href="#concept-shadow-root">shadow root</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥③⑧">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑥③⑨">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥④⓪">DOMException</a></code>. </p>
    <li>
     <p>Return a <a href="#concept-node-clone">clone</a> of <var>node</var>, with <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥④①">this</a> and the <i>clone children flag</i> set if <var>deep</var> is true. </p>
   </ol>
   <p><a href="#other-applicable-specifications">Specifications</a> may define <dfn id="concept-node-adopt-ext">adopting steps</dfn> for all or some <a href="#concept-node">nodes</a>. The
algorithm is passed <var>node</var> and <var>oldDocument</var>, as indicated in the <a href="#concept-node-adopt">adopt</a> algorithm. </p>
   <p>To <dfn id="concept-node-adopt">adopt</dfn> a <var>node</var> into a <var>document</var>, run
these steps: </p>
   <ol>
    <li>
     <p>Let <var>oldDocument</var> be <var>node</var>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p>If <var>node</var>’s <a href="#concept-tree-parent">parent</a> is non-null, then <a href="#concept-node-remove">remove</a> <var>node</var>. </p>
    <li>
     <p>If <var>document</var> is not <var>oldDocument</var>, then: </p>
     <ol>
      <li>
       <p>For each <var>inclusiveDescendant</var> in <var>node</var>’s <a href="#concept-shadow-including-inclusive-descendant">shadow-including inclusive descendants</a>: </p>
       <ol>
        <li>
         <p>Set <var>inclusiveDescendant</var>’s <a href="#concept-node-document">node document</a> to <var>document</var>. </p>
        <li>
         <p>If <var>inclusiveDescendant</var> is an <a href="#concept-element">element</a>, then set the <a href="#concept-node-document">node document</a> of each <a href="#concept-attribute">attribute</a> in <var>inclusiveDescendant</var>’s <a href="#concept-element-attribute">attribute list</a> to <var>document</var>. </p>
       </ol>
      <li>
       <p>For each <var>inclusiveDescendant</var> in <var>node</var>’s <a href="#concept-shadow-including-inclusive-descendant">shadow-including inclusive descendants</a> that is <a href="#concept-element-custom">custom</a>, <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-callback-reaction" id="termref-for-⑥④②">enqueue a custom element callback reaction</a> with <var>inclusiveDescendant</var>, callback
   name "<code>adoptedCallback</code>", and an argument list containing <var>oldDocument</var> and <var>document</var>. </p>
      <li>
       <p>For each <var>inclusiveDescendant</var> in <var>node</var>’s <a href="#concept-shadow-including-inclusive-descendant">shadow-including inclusive descendants</a>, in <a href="#concept-shadow-including-tree-order">shadow-including tree order</a>, run the <a href="#concept-node-adopt-ext">adopting steps</a> with <var>inclusiveDescendant</var> and <var>oldDocument</var>. </p>
     </ol>
   </ol>
   <p>The <dfn class="idl-code" id="dom-document-adoptnode"><code>adoptNode(<var>node</var>)</code></dfn> method, when invoked,
must run these steps:</p>
   <ol>
    <li>
     <p>If <var>node</var> is a <a href="#concept-document">document</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥④③">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑥④④">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥④⑤">DOMException</a></code>. </p>
    <li>
     <p>If <var>node</var> is a <a href="#concept-shadow-root">shadow root</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥④⑥">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-⑥④⑦">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥④⑧">DOMException</a></code>. </p>
    <li>
     <p>If <var>node</var> is a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#concept-node">node</a> whose <a href="#concept-documentfragment-host">host</a> is non-null, then return. </p>
    <li>
     <p><a href="#concept-node-adopt">Adopt</a> <var>node</var> into <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥④⑨">this</a>. </p>
    <li>
     <p>Return <var>node</var>. </p>
   </ol>
   <hr>
   <p>The <dfn class="idl-code" id="dom-document-createattribute"><code>createAttribute(<var>localName</var>)</code></dfn> method, when
invoked, must run these steps:</p>
   <ol>
    <li>
     <p>If <var>localName</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production in XML,
 then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥⑤⓪">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑥⑤①">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥⑤②">DOMException</a></code>. </p>
    <li>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑤③">this</a> is an <a href="#html-document">HTML document</a>, then set <var>localName</var> to <var>localName</var> in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑥⑤④">ASCII lowercase</a>. 
    <li>Return a new <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-local-name">local name</a> is <var>localName</var> and <a href="#concept-node-document">node document</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑤⑤">this</a>. 
   </ol>
   <p>The <dfn class="idl-code" id="dom-document-createattributens"><code>createAttributeNS(<var>namespace</var>, <var>qualifiedName</var>)</code></dfn> method, when invoked, must run these steps:</p>
   <ol>
    <li>
     <p>Let <var>namespace</var>, <var>prefix</var>, and <var>localName</var> be the result of
 passing <var>namespace</var> and <var>qualifiedName</var> to <a href="#validate-and-extract">validate and extract</a>. </p>
    <li>
     <p>Return a new <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var>, <a href="#concept-attribute-namespace-prefix">namespace prefix</a> is <var>prefix</var>, <a href="#concept-attribute-local-name">local name</a> is <var>localName</var>, and <a href="#concept-node-document">node document</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑤⑥">this</a>. </p>
   </ol>
   <hr>
   <p>The <dfn class="idl-code" id="dom-document-createevent"><code>createEvent(<var>interface</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>constructor</var> be null. </p>
    <li>
     <p>If <var>interface</var> is an <a href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="termref-for-⑥⑤⑦">ASCII case-insensitive</a> match for any of the strings in the
  first column in the following table, then set <var>constructor</var> to the interface in the
  second column on the same row as the matching string: </p>
     <table>
      <thead>
       <tr>
        <th>String
        <th>Interface
        <td>Notes 
      <tbody>
       <tr>
        <td>"<code>beforeunloadevent</code>"
        <td><code class="idl"><a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#beforeunloadevent" id="termref-for-⑥⑤⑧">BeforeUnloadEvent</a></code>
        <td><a href="#biblio-html">[HTML]</a> 
       <tr>
        <td>"<code>compositionevent</code>"
        <td><code class="idl"><a href="https://www.w3.org/TR/uievents/#compositionevent" id="termref-for-⑥⑤⑨">CompositionEvent</a></code>
        <td><a href="#biblio-uievents">[UIEVENTS]</a> 
       <tr>
        <td>"<code>customevent</code>"
        <td><code class="idl"><a href="#customevent">CustomEvent</a></code>
        <td>
       <tr>
        <td>"<code>devicemotionevent</code>"
        <td><code class="idl"><a href="https://w3c.github.io/deviceorientation/spec-source-orientation.html#devicemotion">DeviceMotionEvent</a></code>
        <td rowspan="2"><a href="#biblio-device-orientation">[DEVICE-ORIENTATION]</a> 
       <tr>
        <td>"<code>deviceorientationevent</code>"
        <td><code class="idl"><a href="https://w3c.github.io/deviceorientation/spec-source-orientation.html#devicemotion">DeviceOrientationEvent</a></code> 
       <tr>
        <td>"<code>dragevent</code>"
        <td><code class="idl"><a href="https://html.spec.whatwg.org/multipage/dnd.html#dragevent" id="termref-for-⑥⑥⓪">DragEvent</a></code>
        <td><a href="#biblio-html">[HTML]</a> 
       <tr>
        <td>"<code>event</code>"
        <td rowspan="2"><code class="idl"><a href="#event">Event</a></code>
        <td rowspan="2">
       <tr>
        <td>"<code>events</code>" 
       <tr>
        <td>"<code>focusevent</code>"
        <td><code class="idl"><a href="https://www.w3.org/TR/uievents/#focusevent" id="termref-for-⑥⑥①">FocusEvent</a></code>
        <td><a href="#biblio-uievents">[UIEVENTS]</a> 
       <tr>
        <td>"<code>hashchangeevent</code>"
        <td><code class="idl"><a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hashchangeevent" id="termref-for-⑥⑥②">HashChangeEvent</a></code>
        <td><a href="#biblio-html">[HTML]</a> 
       <tr>
        <td>"<code>htmlevents</code>"
        <td><code class="idl"><a href="#event">Event</a></code>
        <td>
       <tr>
        <td>"<code>keyboardevent</code>"
        <td><code class="idl"><a href="https://www.w3.org/TR/uievents/#keyboardevent" id="termref-for-⑥⑥③">KeyboardEvent</a></code>
        <td><a href="#biblio-uievents">[UIEVENTS]</a> 
       <tr>
        <td>"<code>messageevent</code>"
        <td><code class="idl"><a href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="termref-for-⑥⑥④">MessageEvent</a></code>
        <td><a href="#biblio-html">[HTML]</a> 
       <tr>
        <td>"<code>mouseevent</code>"
        <td rowspan="2"><code class="idl"><a href="https://www.w3.org/TR/uievents/#mouseevent" id="termref-for-⑥⑥⑤">MouseEvent</a></code>
        <td rowspan="2"><a href="#biblio-uievents">[UIEVENTS]</a> 
       <tr>
        <td>"<code>mouseevents</code>" 
       <tr>
        <td>"<code>storageevent</code>"
        <td><code class="idl"><a href="https://html.spec.whatwg.org/multipage/webstorage.html#storageevent" id="termref-for-⑥⑥⑥">StorageEvent</a></code>
        <td><a href="#biblio-html">[HTML]</a> 
       <tr>
        <td>"<code>svgevents</code>"
        <td><code class="idl"><a href="#event">Event</a></code>
        <td>
       <tr>
        <td>"<code>textevent</code>"
        <td><code class="idl"><a href="https://www.w3.org/TR/uievents/#compositionevent" id="termref-for-⑥⑥⑦">CompositionEvent</a></code>
        <td><a href="#biblio-uievents">[UIEVENTS]</a> 
       <tr>
        <td>"<code>touchevent</code>"
        <td><code class="idl"><a href="https://w3c.github.io/touch-events/#idl-def-touchevent">TouchEvent</a></code>
        <td><a href="#biblio-touch-events">[TOUCH-EVENTS]</a> 
       <tr>
        <td>"<code>uievent</code>"
        <td rowspan="2"><code class="idl"><a href="https://www.w3.org/TR/uievents/#uievent" id="termref-for-⑥⑥⑧">UIEvent</a></code>
        <td rowspan="2"><a href="#biblio-uievents">[UIEVENTS]</a> 
       <tr>
        <td>"<code>uievents</code>" 
     </table>
    <li>
     <p>If <var>constructor</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥⑥⑨">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑥⑦⓪">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥⑦①">DOMException</a></code>. </p>
    <li>
     <p>If the interface indicated by <var>constructor</var> is not exposed on the <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="termref-for-⑥⑦②">relevant global object</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑦③">this</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑥⑦④">throw</a> a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑥⑦⑤">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥⑦⑥">DOMException</a></code>. </p>
     <p class="note" role="note">Typically user agents disable support for touch events in some configurations, in
  which case this clause would be triggered for the interface <code class="idl"><a href="https://w3c.github.io/touch-events/#idl-def-touchevent">TouchEvent</a></code>. </p>
    <li>
     <p>Let <var>event</var> be the result of <a href="#concept-event-create">creating an event</a> given <var>constructor</var>. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-type">type</a></code> attribute to the empty string. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-timestamp">timeStamp</a></code> attribute to a <code class="idl"><a href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="termref-for-⑥⑦⑦">DOMHighResTimeStamp</a></code> representing the high resolution time from the <a href="https://w3c.github.io/hr-time/#dfn-time-origin" id="termref-for-⑥⑦⑧">time origin</a> to now. </p>
    <li>
     <p>Initialize <var>event</var>’s <code class="idl"><a href="#dom-event-istrusted">isTrusted</a></code> attribute to false. </p>
    <li>
     <p>Unset <var>event</var>’s <a href="#initialized-flag">initialized flag</a>. </p>
    <li>
     <p>Return <var>event</var>. </p>
   </ol>
   <p class="note" role="note"><a href="#concept-event">Event</a> constructors ought to be used instead. </p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-document-createrange"><code>createRange()</code></dfn> method, when invoked, must return a
new <a href="#concept-live-range">live range</a> with (<a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑦⑨">this</a>, 0) as its <a href="#concept-range-start">start</a> an <a href="#concept-range-end">end</a>. </p>
   <p class="note" role="note">The <code class="idl"><a href="#dom-range-range">Range()</a></code> constructor can be used instead. </p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-document-createnodeiterator"><code>createNodeIterator(<var>root</var>, <var>whatToShow</var>, <var>filter</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>iterator</var> be a new <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> object. </p>
    <li>
     <p>Set <var>iterator</var>’s <a href="#concept-traversal-root">root</a> and <var>iterator</var>’s <a href="#nodeiterator-reference">reference</a> to <var>root</var>. </p>
    <li>
     <p>Set <var>iterator</var>’s <a href="#nodeiterator-pointer-before-reference">pointer before reference</a> to true. </p>
    <li>
     <p>Set <var>iterator</var>’s <a href="#concept-traversal-whattoshow">whatToShow</a> to <var>whatToShow</var>. </p>
    <li>
     <p>Set <var>iterator</var>’s <a href="#concept-traversal-filter">filter</a> to <var>filter</var>. </p>
    <li>
     <p>Return <var>iterator</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-document-createtreewalker"><code>createTreeWalker(<var>root</var>, <var>whatToShow</var>, <var>filter</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>walker</var> be a new <code class="idl"><a href="#treewalker">TreeWalker</a></code> object. </p>
    <li>
     <p>Set <var>walker</var>’s <a href="#concept-traversal-root">root</a> and <var>walker</var>’s <a href="#treewalker-current">current</a> to <var>root</var>. </p>
    <li>
     <p>Set <var>walker</var>’s <a href="#concept-traversal-whattoshow">whatToShow</a> to <var>whatToShow</var>. </p>
    <li>
     <p>Set <var>walker</var>’s <a href="#concept-traversal-filter">filter</a> to <var>filter</var>. </p>
    <li>Return <var>walker</var>. 
   </ol>
   <h4 class="heading settled" id="interface-domimplementation"><span class="secno">4.5.1. </span><span class="content">Interface <code class="idl"><a href="#domimplementation">DOMImplementation</a></code></span></h4>
   <p>User agents must create a <code class="idl"><a href="#domimplementation">DOMImplementation</a></code> object whenever
a <a href="#concept-document">document</a> is created and associate it
with that <a href="#concept-document">document</a>.</p>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑥⑧⓪">Exposed</a>=Window]
interface <dfn class="idl-code" id="domimplementation"><code>DOMImplementation</code></dfn> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑥⑧①">NewObject</a>] <a class="n" href="#documenttype">DocumentType</a> <a class="idl-code" href="#dom-domimplementation-createdocumenttype">createDocumentType</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑥⑧②">DOMString</a> <dfn class="idl-code" id="dom-domimplementation-createdocumenttype-qualifiedname-publicid-systemid-qualifiedname"><code>qualifiedName</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑥⑧③">DOMString</a> <dfn class="idl-code" id="dom-domimplementation-createdocumenttype-qualifiedname-publicid-systemid-publicid"><code>publicId</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑥⑧④">DOMString</a> <dfn class="idl-code" id="dom-domimplementation-createdocumenttype-qualifiedname-publicid-systemid-systemid"><code>systemId</code></dfn>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑥⑧⑤">NewObject</a>] <a class="n" href="#xmldocument">XMLDocument</a> <a class="idl-code" href="#dom-domimplementation-createdocument">createDocument</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑥⑧⑥">DOMString</a>? <dfn class="idl-code" id="dom-domimplementation-createdocument-namespace-qualifiedname-doctype-namespace"><code>namespace</code></dfn>, [<a class="idl-code" href="https://heycam.github.io/webidl/#LegacyNullToEmptyString" id="termref-for-⑥⑧⑦">LegacyNullToEmptyString</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑥⑧⑧">DOMString</a> <dfn class="idl-code" id="dom-domimplementation-createdocument-namespace-qualifiedname-doctype-qualifiedname"><code>qualifiedName</code></dfn>, optional <a class="n" href="#documenttype">DocumentType</a>? <dfn class="idl-code" id="dom-domimplementation-createdocument-namespace-qualifiedname-doctype-doctype"><code>doctype</code></dfn> = null);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-⑥⑧⑨">NewObject</a>] <a class="n" href="#document">Document</a> <a class="idl-code" href="#dom-domimplementation-createhtmldocument">createHTMLDocument</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑥⑨⓪">DOMString</a> <dfn class="idl-code" id="dom-domimplementation-createhtmldocument-title-title"><code>title</code></dfn>);

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑥⑨①">boolean</a> <a class="idl-code" href="#dom-domimplementation-hasfeature">hasFeature</a>(); // useless; always returns true
};
</pre>
   <dl class="domintro">
    <dt><code><var>doctype</var> = <var>document</var> . <code class="idl"><a href="#dom-document-implementation">implementation</a></code> . <code class="idl"><a href="#dom-domimplementation-createdocumenttype">createDocumentType(qualifiedName, publicId, systemId)</a></code></code> 
    <dd> Returns a <a href="#concept-doctype">doctype</a>, with the given <var>qualifiedName</var>, <var>publicId</var>, and <var>systemId</var>. If <var>qualifiedName</var> does not
  match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production, an
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑥⑨②">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥⑨③">DOMException</a></code> is thrown, and if it does not match the <code><a class="css" href="https://www.w3.org/TR/xml-names/#NT-QName">QName</a></code> production, a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#namespaceerror" id="termref-for-⑥⑨④">NamespaceError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑥⑨⑤">DOMException</a></code> is thrown. 
    <dt><code><var>doc</var> = <var>document</var> . <code class="idl"><a href="#dom-document-implementation">implementation</a></code> . <a class="idl-code" href="#dom-domimplementation-createdocument">createDocument(<var>namespace</var>, <var>qualifiedName</var> [, <var>doctype</var> = null])</a></code> 
    <dd>
      Returns an <code class="idl"><a href="#xmldocument">XMLDocument</a></code>, with a <a href="#document-element">document element</a> whose <a href="#concept-element-local-name">local name</a> is <var>qualifiedName</var> and whose <a href="#concept-element-namespace">namespace</a> is <var>namespace</var> (unless <var>qualifiedName</var> is the
  empty string), and with <var>doctype</var>, if it is given, as its <a href="#concept-doctype">doctype</a>. 
     <p>This method throws the same exceptions as the <code class="idl"><a href="#dom-document-createelementns">createElementNS()</a></code> method, when
  invoked with <var>namespace</var> and <var>qualifiedName</var>.</p>
    <dt><code><var>doc</var> = <var>document</var> . <code class="idl"><a href="#dom-document-implementation">implementation</a></code> . <a class="idl-code" href="#dom-domimplementation-createhtmldocument">createHTMLDocument([<var>title</var>])</a></code> 
    <dd> Returns a <a href="#concept-document">document</a>, with a basic <a href="#concept-tree">tree</a> already constructed including a <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element" id="termref-for-⑥⑨⑥">title</a></code> element, unless the <var>title</var> argument is omitted. 
   </dl>
   <div class="impl">
    <p>The <dfn class="idl-code" id="dom-domimplementation-createdocumenttype"><code>createDocumentType(<var>qualifiedName</var>, <var>publicId</var>, <var>systemId</var>)</code></dfn> method, when invoked, must run these steps:</p>
    <ol>
     <li>
      <p><a href="#validate">Validate</a> <var>qualifiedName</var>. </p>
     <li>
      <p>Return a new <a href="#concept-doctype">doctype</a>, with <var>qualifiedName</var> as its <a href="#concept-doctype-name">name</a>, <var>publicId</var> as its <a href="#concept-doctype-publicid">public ID</a>, and <var>systemId</var> as its <a href="#concept-doctype-systemid">system ID</a>, and with its <a href="#concept-node-document">node document</a> set to the associated <a href="#concept-document">document</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑨⑦">this</a>. </p>
    </ol>
    <p class="note" role="note">No check is performed that <var>publicId</var> code points match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-PubidChar">PubidChar</a></code> production or that <var>systemId</var> does not contain both a
'<code>"</code>' and a "<code>'</code>". </p>
    <p>The <dfn class="idl-code" id="dom-domimplementation-createdocument"><code>createDocument(<var>namespace</var>, <var>qualifiedName</var>, <var>doctype</var>)</code></dfn> method, when invoked, must run these steps: </p>
    <ol>
     <li>
      <p>Let <var>document</var> be a new <code class="idl"><a href="#xmldocument">XMLDocument</a></code>. </p>
     <li>
      <p>Let <var>element</var> be null. </p>
     <li>
      <p>If <var>qualifiedName</var> is not the empty string, then set <var>element</var> to the
 result of running the <a href="#internal-createelementns-steps">internal <code>createElementNS</code> steps</a>, given <var>document</var>, <var>namespace</var>, <var>qualifiedName</var>, and an empty dictionary. </p>
     <li>
      <p>If <var>doctype</var> is non-null, <a href="#concept-node-append">append</a> <var>doctype</var> to <var>document</var>. </p>
     <li>
      <p>If <var>element</var> is non-null, <a href="#concept-node-append">append</a> <var>element</var> to <var>document</var>. </p>
     <li>
      <p><var>document</var>’s <a href="#concept-document-origin">origin</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑥⑨⑧">this</a>’s associated <a href="#concept-document">document</a>’s <a href="#concept-document-origin">origin</a>. </p>
     <li>
      <p><var>document</var>’s <a href="#concept-document-content-type">content type</a> is determined by <var>namespace</var>: </p>
      <dl class="switch">
       <dt><a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑥⑨⑨">HTML namespace</a> 
       <dd><code>application/xhtml+xml</code> 
       <dt><a href="https://infra.spec.whatwg.org/#svg-namespace" id="termref-for-⑦⓪⓪">SVG namespace</a> 
       <dd><code>image/svg+xml</code> 
       <dt>Any other namespace 
       <dd><code>application/xml</code> 
      </dl>
     <li>
      <p>Return <var>document</var>. </p>
    </ol>
    <p>The <dfn class="idl-code" id="dom-domimplementation-createhtmldocument"><code>createHTMLDocument(<var>title</var>)</code></dfn> method, when invoked, must run these steps:</p>
    <ol>
     <li>
      <p>Let <var>doc</var> be a new <a href="#concept-document">document</a> that is an <a href="#html-document">HTML document</a>. </p>
     <li>
      <p>Set <var>doc</var>’s <a href="#concept-document-content-type">content type</a> to "<code>text/html</code>". </p>
     <li>
      <p><a href="#concept-node-append">Append</a> a new <a href="#concept-doctype">doctype</a>, with "<code>html</code>" as its <a href="#concept-doctype-name">name</a> and with its <a href="#concept-node-document">node document</a> set to <var>doc</var>, to <var>doc</var>. </p>
     <li>
      <p><a href="#concept-node-append">Append</a> the result of <a href="#concept-create-element">creating an element</a> given <var>doc</var>, <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element" id="termref-for-⑦⓪①">html</a></code>, and
 the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑦⓪②">HTML namespace</a>, to <var>doc</var>. </p>
     <li>
      <p><a href="#concept-node-append">Append</a> the result of <a href="#concept-create-element">creating an element</a> given <var>doc</var>, <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-head-element" id="termref-for-⑦⓪③">head</a></code>, and
 the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑦⓪④">HTML namespace</a>, to the <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element" id="termref-for-⑦⓪⑤">html</a></code> element created earlier. </p>
     <li>
      <p>If <var>title</var> is given: </p>
      <ol>
       <li>
        <p><a href="#concept-node-append">Append</a> the result of <a href="#concept-create-element">creating an element</a> given <var>doc</var>, <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element" id="termref-for-⑦⓪⑥">title</a></code>,
   and the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑦⓪⑦">HTML namespace</a>, to the <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-head-element" id="termref-for-⑦⓪⑧">head</a></code> element created earlier. </p>
       <li>
        <p><a href="#concept-node-append">Append</a> a new <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, with its <a href="#concept-cd-data">data</a> set to <var>title</var> (which could be the empty string) and its <a href="#concept-node-document">node document</a> set to <var>doc</var>, to the <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element" id="termref-for-⑦⓪⑨">title</a></code> element created earlier. </p>
      </ol>
     <li>
      <p><a href="#concept-node-append">Append</a> the result of <a href="#concept-create-element">creating an element</a> given <var>doc</var>, <code><a href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element" id="termref-for-⑦①⓪">body</a></code>, and
 the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑦①①">HTML namespace</a>, to the <code><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element" id="termref-for-⑦①②">html</a></code> element created earlier.</p>
     <li>
      <p><var>doc</var>’s <a href="#concept-document-origin">origin</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦①③">this</a>’s associated <a href="#concept-document">document</a>’s <a href="#concept-document-origin">origin</a>. </p>
     <li>
      <p>Return <var>doc</var>. </p>
    </ol>
    <p>The <dfn class="idl-code" id="dom-domimplementation-hasfeature"><code>hasFeature()</code></dfn> method, when
invoked, must return true.</p>
    <p class="note no-backref" role="note"><code class="idl"><a href="#dom-domimplementation-hasfeature">hasFeature()</a></code> originally would report whether the user agent
claimed to support a given DOM feature, but experience proved it was not nearly as
reliable or granular as simply checking whether the desired objects, attributes, or
methods existed. As such, it is no longer to be used, but continues to exist (and simply
returns true) so that old pages don’t stop working. </p>
   </div>
   <h3 class="heading settled" id="interface-documenttype"><span class="secno">4.6. </span><span class="content">Interface <code class="idl"><a href="#documenttype">DocumentType</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑦①④">Exposed</a>=Window]
interface <dfn class="idl-code" id="documenttype"><code>DocumentType</code></dfn> : <a class="n" href="#node">Node</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦①⑤">DOMString</a> <a class="idl-code" href="#dom-documenttype-name">name</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦①⑥">DOMString</a> <a class="idl-code" href="#dom-documenttype-publicid">publicId</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦①⑦">DOMString</a> <a class="idl-code" href="#dom-documenttype-systemid">systemId</a>;
};
</pre>
   <p><code class="idl"><a href="#documenttype">DocumentType</a></code> <a href="#concept-node">nodes</a> are simply known as <dfn id="concept-doctype">doctypes</dfn>. </p>
   <p><a href="#concept-doctype">Doctypes</a> have an associated <dfn id="concept-doctype-name">name</dfn>, <dfn id="concept-doctype-publicid">public ID</dfn>, and <dfn id="concept-doctype-systemid">system ID</dfn>. </p>
   <p>When a <a href="#concept-doctype">doctype</a> is created, its <a href="#concept-doctype-name">name</a> is always given. Unless
explicitly given when a <a href="#concept-doctype">doctype</a> is created, its <a href="#concept-doctype-publicid">public ID</a> and <a href="#concept-doctype-systemid">system ID</a> are the
empty string. </p>
   <p>The <dfn class="idl-code" id="dom-documenttype-name"><code>name</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦①⑧">this</a>’s <a href="#concept-doctype-name">name</a>. </p>
   <p>The <dfn class="idl-code" id="dom-documenttype-publicid"><code>publicId</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦①⑨">this</a>’s <a href="#concept-doctype-publicid">public ID</a>. </p>
   <p>The <dfn class="idl-code" id="dom-documenttype-systemid"><code>systemId</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦②⓪">this</a>’s <a href="#concept-doctype-systemid">system ID</a>. </p>
   <h3 class="heading settled" id="interface-documentfragment"><span class="secno">4.7. </span><span class="content">Interface <code class="idl"><a href="#documentfragment">DocumentFragment</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑦②①">Exposed</a>=Window]
interface <dfn class="idl-code" id="documentfragment"><code>DocumentFragment</code></dfn> : <a class="n" href="#node">Node</a> {
  <a class="idl-code" href="#dom-documentfragment-documentfragment">constructor</a>();
};
</pre>
   <p>A <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a> has an associated <dfn id="concept-documentfragment-host">host</dfn> (null or an <a href="#concept-element">element</a> in a different <a href="#concept-node-tree">node tree</a>). It is null unless otherwise stated. </p>
   <p>An object <var>A</var> is a <dfn id="concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</dfn> of an object <var>B</var>, if either <var>A</var> is an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>B</var>,
or if <var>B</var>’s <a href="#concept-tree-root">root</a> has a non-null <a href="#concept-documentfragment-host">host</a> and <var>A</var> is a <a href="#concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</a> of <var>B</var>’s <a href="#concept-tree-root">root</a>’s <a href="#concept-documentfragment-host">host</a>. </p>
   <p class="note no-backref" role="note">The <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>’s <a href="#concept-documentfragment-host">host</a> concept is useful for HTML’s <code><a href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element" id="termref-for-⑦②②">template</a></code> element and for <a href="#concept-shadow-root">shadow roots</a>, and impacts the <a href="#concept-node-pre-insert">pre-insert</a> and <a href="#concept-node-replace">replace</a> algorithms. </p>
   <dl class="domintro">
    <dt><code><var>tree</var> = new <code class="idl"><a href="#dom-documentfragment-documentfragment">DocumentFragment()</a></code></code> 
    <dd>Returns a new <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-documentfragment-documentfragment"><code>DocumentFragment()</code></dfn> constructor, when
invoked, must return a new <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-node-document">node document</a> is <a href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="termref-for-⑦②③">current global object</a>’s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="termref-for-⑦②④">associated <code>Document</code></a>. </p>
   <h3 class="heading settled" id="interface-shadowroot"><span class="secno">4.8. </span><span class="content">Interface <code class="idl"><a href="#shadowroot">ShadowRoot</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑦②⑤">Exposed</a>=Window]
interface <dfn class="idl-code" id="shadowroot"><code>ShadowRoot</code></dfn> : <a class="n" href="#documentfragment">DocumentFragment</a> {
  readonly attribute <a class="n" href="#enumdef-shadowrootmode">ShadowRootMode</a> <a class="idl-code" href="#dom-shadowroot-mode">mode</a>;
  readonly attribute <a class="n" href="#element">Element</a> <a class="idl-code" href="#dom-shadowroot-host">host</a>;
  attribute <a class="n" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="termref-for-⑦②⑥">EventHandler</a> <a class="idl-code" href="#dom-shadowroot-onslotchange">onslotchange</a>;
};

enum <dfn class="idl-code" id="enumdef-shadowrootmode"><code>ShadowRootMode</code></dfn> { <dfn class="idl-code" id="dom-shadowrootmode-open"><code>"open"</code></dfn>, <dfn class="idl-code" id="dom-shadowrootmode-closed"><code>"closed"</code></dfn> };
</pre>
   <p><code class="idl"><a href="#shadowroot">ShadowRoot</a></code> <a href="#concept-node">nodes</a> are simply known as <dfn id="concept-shadow-root">shadow roots</dfn>. </p>
   <p><a href="#concept-shadow-root">Shadow roots</a> have an associated <dfn id="shadowroot-mode">mode</dfn> ("<code>open</code>"
or "<code>closed</code>").</p>
   <p><a href="#concept-shadow-root">Shadow roots</a> have an associated <dfn id="shadowroot-delegates-focus">delegates focus</dfn>.
It is initially set to false.</p>
   <p><a href="#concept-shadow-root">Shadow roots</a>’s associated <a href="#concept-documentfragment-host">host</a> is never null.</p>
   <p>A <a href="#concept-shadow-root">shadow root</a>’s <a href="#get-the-parent">get the parent</a> algorithm, given an <var>event</var>, returns
null if <var>event</var>’s <a href="#composed-flag">composed flag</a> is unset and <a href="#concept-shadow-root">shadow root</a> is the <a href="#concept-tree-root">root</a> of <var>event</var>’s <a href="#event-path">path</a>’s first struct’s <a href="#event-path-invocation-target">invocation target</a>, and <a href="#concept-shadow-root">shadow root</a>’s <a href="#concept-documentfragment-host">host</a> otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-shadowroot-mode"><code>mode</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦②⑦">this</a>’s <a href="#shadowroot-mode">mode</a>.</p>
   <p>The <dfn class="idl-code" id="dom-shadowroot-host"><code>host</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦②⑧">this</a>’s <a href="#concept-documentfragment-host">host</a>. </p>
   <p>The <dfn class="idl-code" id="dom-shadowroot-onslotchange"><code>onslotchange</code></dfn> attribute is an <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="termref-for-⑦②⑨">event handler IDL attribute</a> for the <dfn id="shadowroot-onslotchange"><code>onslotchange</code></dfn> <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="termref-for-⑦③⓪">event handler</a>, whose <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="termref-for-⑦③①">event handler event type</a> is <code class="idl"><a href="https://html.spec.whatwg.org/multipage/indices.html#event-slotchange" id="termref-for-⑦③②">slotchange</a></code>. </p>
   <hr>
   <p>In <dfn id="concept-shadow-including-tree-order">shadow-including tree order</dfn> is <a href="#shadow-including-preorder-depth-first-traversal">shadow-including preorder, depth-first traversal</a> of a <a href="#concept-node-tree">node tree</a>. <dfn id="shadow-including-preorder-depth-first-traversal">Shadow-including preorder, depth-first traversal</dfn> of a <a href="#concept-node-tree">node tree</a> <var>tree</var> is preorder, depth-first traversal of <var>tree</var>, with for each <a href="#element-shadow-host">shadow host</a> encountered in <var>tree</var>, <a href="#shadow-including-preorder-depth-first-traversal">shadow-including preorder, depth-first traversal</a> of that <a href="#concept-element">element</a>’s <a href="#concept-element-shadow-root">shadow root</a>’s <a href="#concept-node-tree">node tree</a> just after it is encountered. </p>
   <p>The <dfn id="concept-shadow-including-root">shadow-including root</dfn> of an object is its <a href="#concept-tree-root">root</a>’s <a href="#concept-documentfragment-host">host</a>’s <a href="#concept-shadow-including-root">shadow-including root</a>, if the
object’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>, and its <a href="#concept-tree-root">root</a> otherwise.</p>
   <p>An object <var>A</var> is a <dfn id="concept-shadow-including-descendant">shadow-including descendant</dfn> of an object <var>B</var>, if <var>A</var> is a <a href="#concept-tree-descendant">descendant</a> of <var>B</var>, or <var>A</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a> and <var>A</var>’s <a href="#concept-tree-root">root</a>’s <a href="#concept-documentfragment-host">host</a> is a <a href="#concept-shadow-including-inclusive-descendant">shadow-including inclusive descendant</a> of <var>B</var>. </p>
   <p>A <dfn id="concept-shadow-including-inclusive-descendant">shadow-including inclusive descendant</dfn> is an object or one of its <a href="#concept-shadow-including-descendant">shadow-including descendants</a>. </p>
   <p>An object <var>A</var> is a <dfn id="concept-shadow-including-ancestor">shadow-including ancestor</dfn> of an object <var>B</var>, if and only if <var>B</var> is a <a href="#concept-shadow-including-descendant">shadow-including descendant</a> of <var>A</var>. </p>
   <p>A <dfn id="concept-shadow-including-inclusive-ancestor">shadow-including inclusive ancestor</dfn> is an object or one of its <a href="#concept-shadow-including-ancestor">shadow-including ancestors</a>. </p>
   <p>A <a href="#boundary-point-node">node</a> <var>A</var> is <dfn id="concept-closed-shadow-hidden">closed-shadow-hidden</dfn> from a <a href="#boundary-point-node">node</a> <var>B</var> if all of the following conditions are true: </p>
   <ul>
    <li>
     <p><var>A</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a>. </p>
    <li>
     <p><var>A</var>’s <a href="#concept-tree-root">root</a> is not a <a href="#concept-shadow-including-inclusive-ancestor">shadow-including inclusive ancestor</a> of <var>B</var>. </p>
    <li>
     <p><var>A</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-root">shadow root</a> whose <a href="#shadowroot-mode">mode</a> is "<code>closed</code>" or <var>A</var>’s <a href="#concept-tree-root">root</a>’s <a href="#concept-documentfragment-host">host</a> is <a href="#concept-closed-shadow-hidden">closed-shadow-hidden</a> from <var>B</var>. </p>
   </ul>
   <p>To <dfn id="retarget">retarget</dfn> an object <var>A</var> against an object <var>B</var>, repeat these steps until they return an object:</p>
   <ol>
    <li>
     <p>If one of the following is true </p>
     <ul class="brief">
      <li><var>A</var> is not a <a href="#boundary-point-node">node</a> 
      <li><var>A</var>’s <a href="#concept-tree-root">root</a> is not a <a href="#concept-shadow-root">shadow root</a> 
      <li><var>B</var> is a <a href="#boundary-point-node">node</a> and <var>A</var>’s <a href="#concept-tree-root">root</a> is a <a href="#concept-shadow-including-inclusive-ancestor">shadow-including inclusive ancestor</a> of <var>B</var> 
     </ul>
     <p>then return <var>A</var>. </p>
    <li>
     <p>Set <var>A</var> to <var>A</var>’s <a href="#concept-tree-root">root</a>’s <a href="#concept-documentfragment-host">host</a>. </p>
   </ol>
   <p class="note" role="note">The <a href="#retarget">retargeting</a> algorithm is used by <a href="#concept-event-dispatch">event dispatch</a> as well
as other specifications, such as <cite>Fullscreen</cite>. <a href="#biblio-fullscreen">[FULLSCREEN]</a> </p>
   <h3 class="heading settled" id="interface-element"><span class="secno">4.9. </span><span class="content">Interface <code class="idl"><a href="#element">Element</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑦③③">Exposed</a>=Window]
interface <dfn class="idl-code" id="element"><code>Element</code></dfn> : <a class="n" href="#node">Node</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦③④">DOMString</a>? <a class="idl-code" href="#dom-element-namespaceuri">namespaceURI</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦③⑤">DOMString</a>? <a class="idl-code" href="#dom-element-prefix">prefix</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦③⑥">DOMString</a> <a class="idl-code" href="#dom-element-localname">localName</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦③⑦">DOMString</a> <a class="idl-code" href="#dom-element-tagname">tagName</a>;

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦③⑧">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦③⑨">DOMString</a> <a class="idl-code" href="#dom-element-id">id</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦④⓪">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦④①">DOMString</a> <a class="idl-code" href="#dom-element-classname">className</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-⑦④②">SameObject</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#PutForwards" id="termref-for-⑦④③">PutForwards</a>=<a class="idl-code" href="#dom-domtokenlist-value">value</a>] readonly attribute <a class="n" href="#domtokenlist">DOMTokenList</a> <a class="idl-code" href="#dom-element-classlist">classList</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦④④">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable" id="termref-for-⑦④⑤">Unscopable</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦④⑥">DOMString</a> <a class="idl-code" href="#dom-element-slot">slot</a>;

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦④⑦">boolean</a> <a class="idl-code" href="#dom-element-hasattributes">hasAttributes</a>();
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-⑦④⑧">SameObject</a>] readonly attribute <a class="n" href="#namednodemap">NamedNodeMap</a> <a class="idl-code" href="#dom-element-attributes">attributes</a>;
  sequence&lt;<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦④⑨">DOMString</a>> <a class="idl-code" href="#dom-element-getattributenames">getAttributeNames</a>();
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤⓪">DOMString</a>? <a class="idl-code" href="#dom-element-getattribute">getAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤①">DOMString</a> <dfn class="idl-code" id="dom-element-getattribute-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤②">DOMString</a>? <a class="idl-code" href="#dom-element-getattributens">getAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤③">DOMString</a>? <dfn class="idl-code" id="dom-element-getattributens-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤④">DOMString</a> <dfn class="idl-code" id="dom-element-getattributens-namespace-localname-localname"><code>localName</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑤⑤">CEReactions</a>] void <a class="idl-code" href="#dom-element-setattribute">setAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤⑥">DOMString</a> <dfn class="idl-code" id="dom-element-setattribute-qualifiedname-value-qualifiedname"><code>qualifiedName</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤⑦">DOMString</a> <dfn class="idl-code" id="dom-element-setattribute-qualifiedname-value-value"><code>value</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑤⑧">CEReactions</a>] void <a class="idl-code" href="#dom-element-setattributens">setAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑤⑨">DOMString</a>? <dfn class="idl-code" id="dom-element-setattributens-namespace-qualifiedname-value-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑥⓪">DOMString</a> <dfn class="idl-code" id="dom-element-setattributens-namespace-qualifiedname-value-qualifiedname"><code>qualifiedName</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑥①">DOMString</a> <dfn class="idl-code" id="dom-element-setattributens-namespace-qualifiedname-value-value"><code>value</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑥②">CEReactions</a>] void <a class="idl-code" href="#dom-element-removeattribute">removeAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑥③">DOMString</a> <dfn class="idl-code" id="dom-element-removeattribute-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑥④">CEReactions</a>] void <a class="idl-code" href="#dom-element-removeattributens">removeAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑥⑤">DOMString</a>? <dfn class="idl-code" id="dom-element-removeattributens-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑥⑥">DOMString</a> <dfn class="idl-code" id="dom-element-removeattributens-namespace-localname-localname"><code>localName</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑥⑦">CEReactions</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦⑥⑧">boolean</a> <a class="idl-code" href="#dom-element-toggleattribute">toggleAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑥⑨">DOMString</a> <dfn class="idl-code" id="dom-element-toggleattribute-qualifiedname-force-qualifiedname"><code>qualifiedName</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦⑦⓪">boolean</a> <dfn class="idl-code" id="dom-element-toggleattribute-qualifiedname-force-force"><code>force</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦⑦①">boolean</a> <a class="idl-code" href="#dom-element-hasattribute">hasAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑦②">DOMString</a> <dfn class="idl-code" id="dom-element-hasattribute-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦⑦③">boolean</a> <a class="idl-code" href="#dom-element-hasattributens">hasAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑦④">DOMString</a>? <dfn class="idl-code" id="dom-element-hasattributens-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑦⑤">DOMString</a> <dfn class="idl-code" id="dom-element-hasattributens-namespace-localname-localname"><code>localName</code></dfn>);

  <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-getattributenode">getAttributeNode</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑦⑥">DOMString</a> <dfn class="idl-code" id="dom-element-getattributenode-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-getattributenodens">getAttributeNodeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑦⑦">DOMString</a>? <dfn class="idl-code" id="dom-element-getattributenodens-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑦⑧">DOMString</a> <dfn class="idl-code" id="dom-element-getattributenodens-namespace-localname-localname"><code>localName</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑦⑨">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-setattributenode">setAttributeNode</a>(<a class="n" href="#attr">Attr</a> <dfn class="idl-code" id="dom-element-setattributenode-attr-attr"><code>attr</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑧⓪">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-setattributenodens">setAttributeNodeNS</a>(<a class="n" href="#attr">Attr</a> <dfn class="idl-code" id="dom-element-setattributenodens-attr-attr"><code>attr</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑧①">CEReactions</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-element-removeattributenode">removeAttributeNode</a>(<a class="n" href="#attr">Attr</a> <dfn class="idl-code" id="dom-element-removeattributenode-attr-attr"><code>attr</code></dfn>);

  <a class="n" href="#shadowroot">ShadowRoot</a> <a class="idl-code" href="#dom-element-attachshadow">attachShadow</a>(<a class="n" href="#dictdef-shadowrootinit">ShadowRootInit</a> <dfn class="idl-code" id="dom-element-attachshadow-init-init"><code>init</code></dfn>);
  readonly attribute <a class="n" href="#shadowroot">ShadowRoot</a>? <a class="idl-code" href="#dom-element-shadowroot">shadowRoot</a>;

  <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-element-closest">closest</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑧②">DOMString</a> <dfn class="idl-code" id="dom-element-closest-selectors-selectors"><code>selectors</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦⑧③">boolean</a> <a class="idl-code" href="#dom-element-matches">matches</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑧④">DOMString</a> <dfn class="idl-code" id="dom-element-matches-selectors-selectors"><code>selectors</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦⑧⑤">boolean</a> <a class="idl-code" href="#dom-element-webkitmatchesselector">webkitMatchesSelector</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑧⑥">DOMString</a> <dfn class="idl-code" id="dom-element-webkitmatchesselector-selectors-selectors"><code>selectors</code></dfn>); // historical alias of .matches

  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-element-getelementsbytagname">getElementsByTagName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑧⑦">DOMString</a> <dfn class="idl-code" id="dom-element-getelementsbytagname-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-element-getelementsbytagnamens">getElementsByTagNameNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑧⑧">DOMString</a>? <dfn class="idl-code" id="dom-element-getelementsbytagnamens-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑧⑨">DOMString</a> <dfn class="idl-code" id="dom-element-getelementsbytagnamens-namespace-localname-localname"><code>localName</code></dfn>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-element-getelementsbyclassname">getElementsByClassName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑨⓪">DOMString</a> <dfn class="idl-code" id="dom-element-getelementsbyclassname-classnames-classnames"><code>classNames</code></dfn>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑦⑨①">CEReactions</a>] <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-element-insertadjacentelement">insertAdjacentElement</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑨②">DOMString</a> <dfn class="idl-code" id="dom-element-insertadjacentelement-where-element-where"><code>where</code></dfn>, <a class="n" href="#element">Element</a> <dfn class="idl-code" id="dom-element-insertadjacentelement-where-element-element"><code>element</code></dfn>); // historical
  void <a class="idl-code" href="#dom-element-insertadjacenttext">insertAdjacentText</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑨③">DOMString</a> <dfn class="idl-code" id="dom-element-insertadjacenttext-where-data-where"><code>where</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑦⑨④">DOMString</a> <dfn class="idl-code" id="dom-element-insertadjacenttext-where-data-data"><code>data</code></dfn>); // historical
};

dictionary <dfn class="idl-code" id="dictdef-shadowrootinit"><code>ShadowRootInit</code></dfn> {
  required <a class="n" href="#enumdef-shadowrootmode">ShadowRootMode</a> <dfn class="idl-code" id="dom-shadowrootinit-mode"><code>mode</code></dfn>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑦⑨⑤">boolean</a> <dfn class="idl-code" id="dom-shadowrootinit-delegatesfocus"><code>delegatesFocus</code></dfn> = false;
};
</pre>
   <p><code class="idl"><a href="#element">Element</a></code> <a href="#concept-node">nodes</a> are simply known as <dfn id="concept-element">elements</dfn>. </p>
   <p><a href="#concept-element">Elements</a> have an associated <dfn id="concept-element-namespace">namespace</dfn>, <dfn id="concept-element-namespace-prefix">namespace prefix</dfn>, <dfn id="concept-element-local-name">local name</dfn>, <dfn id="concept-element-custom-element-state">custom element state</dfn>, <dfn id="concept-element-custom-element-definition">custom element definition</dfn>, <dfn id="concept-element-is-value"><code>is</code> value</dfn>. When an <a href="#concept-element">element</a> is <a href="#concept-create-element">created</a>, all of these values are
initialized. </p>
   <p>An <a href="#concept-element">element</a>’s <a href="#concept-element-custom-element-state">custom element state</a> is one of
"<code>undefined</code>", "<code>failed</code>", "<code>uncustomized</code>", or
"<code>custom</code>". An <a href="#concept-element">element</a> whose <a href="#concept-element-custom-element-state">custom element state</a> is
"<code>uncustomized</code>" or "<code>custom</code>" is said to be <dfn id="concept-element-defined">defined</dfn>. An <a href="#concept-element">element</a> whose <a href="#concept-element-custom-element-state">custom element state</a> is "<code>custom</code>" is said to be <dfn id="concept-element-custom">custom</dfn>. </p>
   <p class="note" role="note">Whether or not an element is <a href="#concept-element-defined">defined</a> is used to determine the
behavior of the <a class="css" href="https://drafts.csswg.org/selectors-4/#defined-pseudo" id="termref-for-⑦⑨⑥">:defined</a> pseudo-class. Whether or not an element is <a href="#concept-element-custom">custom</a> is
used to determine the behavior of the <a href="#mutation-algorithms">mutation algorithms</a>. The
"<code>failed</code>" state is used to ensure that if a <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element-constructor" id="termref-for-⑦⑨⑦">custom element constructor</a> fails to
execute correctly the first time, it is not executed again by an <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-upgrade-an-element" id="termref-for-⑦⑨⑧">upgrade</a>.</p>
   <div class="example" id="example-c5b21302">
    <p>The following code illustrates elements in each of these four states:</p>
<pre><code class="lang-html">&lt;!DOCTYPE html>
&lt;script>
  window.customElements.define("sw-rey", class extends HTMLElement {})
  window.customElements.define("sw-finn", class extends HTMLElement {}, { extends: "p" })
  window.customElements.define("sw-kylo", class extends HTMLElement {
    constructor() {
      // super() intentionally omitted for this example
    }
  })
&lt;/script>

&lt;!-- "undefined" (not defined, not custom) -->
&lt;sw-han>&lt;/sw-han>
&lt;p is="sw-luke">&lt;/p>
&lt;p is="asdf">&lt;/p>

&lt;!-- "failed" (not defined, not custom) -->
&lt;sw-kylo>&lt;/sw-kylo>

&lt;!-- "uncustomized" (defined, not custom) -->
&lt;p>&lt;/p>
&lt;asdf>&lt;/asdf>

&lt;!-- "custom" (defined, custom) -->
&lt;sw-rey>&lt;/sw-rey>
&lt;p is="sw-finn">&lt;/p>
</code></pre>
   </div>
   <p><a href="#concept-element">Elements</a> also have an associated <dfn id="concept-element-shadow-root">shadow root</dfn> (null or a <a href="#concept-shadow-root">shadow root</a>). It is null unless otherwise stated. An <a href="#concept-element">element</a> is a <dfn id="element-shadow-host">shadow host</dfn> if its <a href="#concept-element-shadow-root">shadow root</a> is non-null. </p>
   <p>An <a href="#concept-element">element</a>’s <dfn id="concept-element-qualified-name">qualified name</dfn> is its <a href="#concept-element-local-name">local name</a> if its <a href="#concept-element-namespace-prefix">namespace prefix</a> is null, and its <a href="#concept-element-namespace-prefix">namespace prefix</a>, followed by "<code>:</code>", followed by its <a href="#concept-element-local-name">local name</a>, otherwise. </p>
   <p>An <a href="#concept-element">element</a>’s <dfn id="element-html-uppercased-qualified-name">HTML-uppercased qualified name</dfn> is the return
value of these steps: </p>
   <ol>
    <li>
     <p>Let <var>qualifiedName</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑦⑨⑨">this</a>’s <a href="#concept-element-qualified-name">qualified name</a>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⓪⓪">this</a> is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧⓪①">HTML namespace</a> and its <a href="#concept-node-document">node document</a> is an <a href="#html-document">HTML document</a>, then set <var>qualifiedName</var> to <var>qualifiedName</var> in <a href="https://infra.spec.whatwg.org/#ascii-uppercase" id="termref-for-⑧⓪②">ASCII uppercase</a>. </p>
    <li>Return <var>qualifiedName</var>. 
   </ol>
   <p class="note" role="note">User agents could optimize <a href="#concept-element-qualified-name">qualified name</a> and <a href="#element-html-uppercased-qualified-name">HTML-uppercased qualified name</a> by storing them in internal slots. </p>
   <p>To <dfn id="concept-create-element">create an element</dfn>,
given a <var>document</var>, <var>localName</var>, <var>namespace</var>, and optional <var>prefix</var>, <var>is</var>, and <var>synchronous custom elements flag</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>prefix</var> was not given, let <var>prefix</var> be null. </p>
    <li>
     <p>If <var>is</var> was not given, let <var>is</var> be null. </p>
    <li>
     <p>Let <var>result</var> be null. </p>
    <li>
     <p>Let <var>definition</var> be the result of <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#look-up-a-custom-element-definition" id="termref-for-⑧⓪③">looking up a custom element definition</a> given <var>document</var>, <var>namespace</var>, <var>localName</var>, and <var>is</var>. </p>
    <li>
     <p>If <var>definition</var> is non-null, and <var>definition</var>’s <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-name" id="termref-for-⑧⓪④">name</a> is not equal to its <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-local-name" id="termref-for-⑧⓪⑤">local name</a> (i.e., <var>definition</var> represents a <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#customized-built-in-element" id="termref-for-⑧⓪⑥">customized built-in element</a>), then: </p>
     <ol>
      <li>
       <p>Let <var>interface</var> be the <a href="#concept-element-interface">element interface</a> for <var>localName</var> and the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧⓪⑦">HTML namespace</a>. </p>
      <li>
       <p>Set <var>result</var> to a new <a href="#concept-element">element</a> that implements <var>interface</var>,
   with no attributes, <a href="#concept-element-namespace">namespace</a> set to the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧⓪⑧">HTML namespace</a>, <a href="#concept-element-namespace-prefix">namespace prefix</a> set to <var>prefix</var>, <a href="#concept-element-local-name">local name</a> set
   to <var>localName</var>, <a href="#concept-element-custom-element-state">custom element state</a> set to "<code>undefined</code>", <a href="#concept-element-custom-element-definition">custom element definition</a> set to null, <a href="#concept-element-is-value"><code>is</code> value</a> set to <var>is</var>, and <a href="#concept-node-document">node document</a> set to <var>document</var>. </p>
      <li>
       <p>If the <var>synchronous custom elements flag</var> is set, then run this step while
    catching any exceptions: </p>
       <ol>
        <li>
         <p><a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-upgrade-an-element" id="termref-for-⑧⓪⑨">Upgrade</a> <var>element</var> using <var>definition</var>. </p>
       </ol>
       <p>If this step threw an exception, then:</p>
       <ol>
        <li>
         <p><a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="termref-for-⑧①⓪">Report the exception</a>. </p>
        <li>
         <p>Set <var>result</var>’s <a href="#concept-element-custom-element-state">custom element state</a> to
     "<code>failed</code>". </p>
       </ol>
      <li>
       <p>Otherwise, <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-upgrade-reaction" id="termref-for-⑧①①">enqueue a custom element upgrade reaction</a> given <var>result</var> and <var>definition</var>. </p>
     </ol>
    <li>
     <p>Otherwise, if <var>definition</var> is non-null, then: </p>
     <ol>
      <li>
       <p>If the <var>synchronous custom elements flag</var> is set, then run these steps while
    catching any exceptions: </p>
       <ol>
        <li>
         <p>Let <var>C</var> be <var>definition</var>’s <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-constructor" id="termref-for-⑧①②">constructor</a>. </p>
        <li>
         <p>Set <var>result</var> to the result of <a href="https://heycam.github.io/webidl/#construct-a-callback-function" id="termref-for-⑧①③">constructing</a> <var>C</var>, with no
     arguments. </p>
        <li>
         <p>Assert: <var>result</var>’s <a href="#concept-element-custom-element-state">custom element state</a> and <a href="#concept-element-custom-element-definition">custom element definition</a> are initialized. </p>
        <li>
         <p>Assert: <var>result</var>’s <a href="#concept-element-namespace">namespace</a> is the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧①④">HTML namespace</a>. </p>
         <p class="note" role="note">IDL enforces that <var>result</var> is an <code class="idl"><a href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement" id="termref-for-⑧①⑤">HTMLElement</a></code> object, which all use
      the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧①⑥">HTML namespace</a>. </p>
        <li>
         <p>If <var>result</var>’s <a href="#concept-element-attribute">attribute list</a> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-⑧①⑦">is not empty</a>,
     then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧①⑧">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑧①⑨">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧②⓪">DOMException</a></code>. </p>
        <li>
         <p>If <var>result</var> has <a href="#concept-tree-child">children</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧②①">throw</a> a
     "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑧②②">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧②③">DOMException</a></code>. </p>
        <li>
         <p>If <var>result</var>’s <a href="#concept-tree-parent">parent</a> is not null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧②④">throw</a> a
     "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑧②⑤">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧②⑥">DOMException</a></code>. </p>
        <li>
         <p>If <var>result</var>’s <a href="#concept-node-document">node document</a> is not <var>document</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧②⑦">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑧②⑧">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧②⑨">DOMException</a></code>. </p>
        <li>
         <p>If <var>result</var>’s <a href="#concept-element-local-name">local name</a> is not equal to <var>localName</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧③⓪">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑧③①">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧③②">DOMException</a></code>. </p>
        <li>
         <p>Set <var>result</var>’s <a href="#concept-element-namespace-prefix">namespace prefix</a> to <var>prefix</var>. </p>
        <li>
         <p>Set <var>result</var>’s <a href="#concept-element-is-value"><code>is</code> value</a> to null. </p>
       </ol>
       <p>If any of these steps threw an exception, then:</p>
       <ol>
        <li>
         <p><a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="termref-for-⑧③③">Report the exception</a>. </p>
        <li>
         <p>Set <var>result</var> to a new <a href="#concept-element">element</a> that implements the <code class="idl"><a href="https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement" id="termref-for-⑧③④">HTMLUnknownElement</a></code> interface, with no attributes, <a href="#concept-element-namespace">namespace</a> set to the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧③⑤">HTML namespace</a>, <a href="#concept-element-namespace-prefix">namespace prefix</a> set to <var>prefix</var>, <a href="#concept-element-local-name">local name</a> set to <var>localName</var>, <a href="#concept-element-custom-element-state">custom element state</a> set to "<code>failed</code>", <a href="#concept-element-custom-element-definition">custom element definition</a> set to null, <a href="#concept-element-is-value"><code>is</code> value</a> set to null, and <a href="#concept-node-document">node document</a> set to <var>document</var>. </p>
       </ol>
      <li>
       <p>Otherwise: </p>
       <ol>
        <li>
         <p>Set <var>result</var> to a new <a href="#concept-element">element</a> that implements the <code class="idl"><a href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement" id="termref-for-⑧③⑥">HTMLElement</a></code> interface, with no attributes, <a href="#concept-element-namespace">namespace</a> set to the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧③⑦">HTML namespace</a>, <a href="#concept-element-namespace-prefix">namespace prefix</a> set to <var>prefix</var>, <a href="#concept-element-local-name">local name</a> set
     to <var>localName</var>, <a href="#concept-element-custom-element-state">custom element state</a> set to
     "<code>undefined</code>", <a href="#concept-element-custom-element-definition">custom element definition</a> set to null, <a href="#concept-element-is-value"><code>is</code> value</a> set to null, and <a href="#concept-node-document">node document</a> set to <var>document</var>. </p>
        <li>
         <p><a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-upgrade-reaction" id="termref-for-⑧③⑧">Enqueue a custom element upgrade reaction</a> given <var>result</var> and <var>definition</var>. </p>
       </ol>
     </ol>
    <li>
     <p>Otherwise: </p>
     <ol>
      <li>
       <p>Let <var>interface</var> be the <a href="#concept-element-interface">element interface</a> for <var>localName</var> and <var>namespace</var>. </p>
      <li>
       <p>Set <var>result</var> to a new <a href="#concept-element">element</a> that implements <var>interface</var>,
   with no attributes, <a href="#concept-element-namespace">namespace</a> set to <var>namespace</var>, <a href="#concept-element-namespace-prefix">namespace prefix</a> set to <var>prefix</var>, <a href="#concept-element-local-name">local name</a> set
   to <var>localName</var>, <a href="#concept-element-custom-element-state">custom element state</a> set to
   "<code>uncustomized</code>", <a href="#concept-element-custom-element-definition">custom element definition</a> set to null, <a href="#concept-element-is-value"><code>is</code> value</a> set to <var>is</var>, and <a href="#concept-node-document">node document</a> set to <var>document</var>. </p>
      <li>
       <p>If <var>namespace</var> is the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧③⑨">HTML namespace</a>, and either <var>localName</var> is a <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name" id="termref-for-⑧④⓪">valid custom element name</a> or <var>is</var> is non-null, then set <var>result</var>’s <a href="#concept-element-custom-element-state">custom element state</a> to "<code>undefined</code>". </p>
     </ol>
    <li>
     <p>Return <var>result</var>. </p>
   </ol>
   <p><a href="#concept-element">Elements</a> also have an <dfn id="concept-element-attribute">attribute list</dfn>, which is a <a href="https://infra.spec.whatwg.org/#list" id="termref-for-⑧④①">list</a> exposed through a <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code>. Unless explicitly given when an <a href="#concept-element">element</a> is created,
its <a href="#concept-element-attribute">attribute list</a> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-⑧④②">is empty</a>. </p>
   <p>An <a href="#concept-element">element</a> <dfn id="concept-element-attribute-has">has</dfn> an <a href="#concept-attribute">attribute</a> <var>A</var> if its <a href="#concept-element-attribute">attribute list</a> <a href="https://infra.spec.whatwg.org/#list-contain" id="termref-for-⑧④③">contains</a> <var>A</var>. </p>
   <p>This and <a href="#other-applicable-specifications">other specifications</a> may define <dfn id="concept-element-attributes-change-ext">attribute change steps</dfn> for <a href="#concept-element">elements</a>. The algorithm is passed <var>element</var>, <var>localName</var>, <var>oldValue</var>, <var>value</var>, and <var>namespace</var>. </p>
   <p>To <dfn id="handle-attribute-changes">handle attribute changes</dfn> for an <a href="#concept-attribute">attribute</a> <var>attribute</var> with <var>element</var>, <var>oldValue</var>, and <var>newValue</var>, run these steps: </p>
   <ol>
    <li>
     <p><a href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>attributes</code>" for <var>element</var> with <var>attribute</var>’s <a href="#concept-attribute-local-name">local name</a>, <var>attribute</var>’s <a href="#concept-attribute-namespace">namespace</a>, <var>oldValue</var>, « », « », null, and null. </p>
    <li>
     <p>If <var>element</var> is <a href="#concept-element-custom">custom</a>, then <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-callback-reaction" id="termref-for-⑧④④">enqueue a custom element callback reaction</a> with <var>element</var>, callback name
 "<code>attributeChangedCallback</code>", and an argument list containing <var>attribute</var>’s <a href="#concept-attribute-local-name">local name</a>, <var>oldValue</var>, <var>newValue</var>, and <var>attribute</var>’s <a href="#concept-attribute-namespace">namespace</a>. </p>
    <li>
     <p>Run the <a href="#concept-element-attributes-change-ext">attribute change steps</a> with <var>element</var>, <var>attribute</var>’s <a href="#concept-attribute-local-name">local name</a>, <var>oldValue</var>, <var>newValue</var>, and <var>attribute</var>’s <a href="#concept-attribute-namespace">namespace</a>. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-change">change</dfn> an <a href="#concept-attribute">attribute</a> <var>attribute</var> to <var>value</var>, run these steps: </p>
   <ol>
    <li>
     <p><a href="#handle-attribute-changes">Handle attribute changes</a> for <var>attribute</var> with <var>attribute</var>’s <a href="#concept-attribute-element">element</a>, <var>attribute</var>’s <a href="#concept-attribute-value">value</a>, and <var>value</var>. </p>
    <li>
     <p>Set <var>attribute</var>’s <a href="#concept-attribute-value">value</a> to <var>value</var>. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-append">append</dfn> an <a href="#concept-attribute">attribute</a> <var>attribute</var> to an <a href="#concept-element">element</a> <var>element</var>, run these
steps: </p>
   <ol>
    <li>
     <p><a href="#handle-attribute-changes">Handle attribute changes</a> for <var>attribute</var> with <var>element</var>, null, and <var>attribute</var>’s <a href="#concept-attribute-value">value</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-append">Append</a> <var>attribute</var> to <var>element</var>’s <a href="#concept-element-attribute">attribute list</a>. </p>
    <li>
     <p>Set <var>attribute</var>’s <a href="#concept-attribute-element">element</a> to <var>element</var>. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-remove">remove</dfn> an <a href="#concept-attribute">attribute</a> <var>attribute</var>, run these steps: </p>
   <ol>
    <li>
     <p><a href="#handle-attribute-changes">Handle attribute changes</a> for <var>attribute</var> with <var>attribute</var>’s <a href="#concept-attribute-element">element</a>, <var>attribute</var>’s <a href="#concept-attribute-value">value</a>, and null. </p>
    <li><a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-⑧④⑤">Remove</a> <var>attribute</var> from <var>attribute</var>’s <a href="#concept-attribute-element">element</a>’s <a href="#concept-element-attribute">attribute list</a>. 
    <li>
     <p>Set <var>attribute</var>’s <a href="#concept-attribute-element">element</a> to null. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-replace">replace</dfn> an <a href="#concept-attribute">attribute</a> <var>oldAttr</var> with an <a href="#concept-attribute">attribute</a> <var>newAttr</var>, run these steps: </p>
   <ol>
    <li>
     <p><a href="#handle-attribute-changes">Handle attribute changes</a> for <var>oldAttr</var> with <var>oldAttr</var>’s <a href="#concept-attribute-element">element</a>, <var>oldAttr</var>’s <a href="#concept-attribute-value">value</a>, and <var>newAttr</var>’s <a href="#concept-attribute-value">value</a>. </p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-replace">Replace</a> <var>oldAttr</var> by <var>newAttr</var> in <var>oldAttr</var>’s <a href="#concept-attribute-element">element</a>’s <a href="#concept-element-attribute">attribute list</a>. </p>
    <li>
     <p>Set <var>newAttr</var>’s <a href="#concept-attribute-element">element</a> to <var>oldAttr</var>’s <a href="#concept-attribute-element">element</a>. </p>
    <li>
     <p>Set <var>oldAttr</var>’s <a href="#concept-attribute-element">element</a> to null. </p>
   </ol>
   <hr>
   <p>To <dfn id="concept-element-attributes-get-by-name">get an attribute by name</dfn> given a <var>qualifiedName</var> and <a href="#concept-element">element</a> <var>element</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>element</var> is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧④⑥">HTML namespace</a> and its <a href="#concept-node-document">node document</a> is an <a href="#html-document">HTML document</a>, then set <var>qualifiedName</var> to <var>qualifiedName</var> in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑧④⑦">ASCII lowercase</a>. </p>
    <li>
     <p>Return the first <a href="#concept-attribute">attribute</a> in <var>element</var>’s <a href="#concept-element-attribute">attribute list</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var>, and null otherwise. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-get-by-namespace">get an attribute by namespace and local name</dfn> given a <var>namespace</var>, <var>localName</var>, and <a href="#concept-element">element</a> <var>element</var>,
run these steps: </p>
   <ol>
    <li>If <var>namespace</var> is the empty string, set it to null. 
    <li>Return the <a href="#concept-attribute">attribute</a> in <var>element</var>’s <a href="#concept-element-attribute">attribute list</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-attribute-local-name">local name</a> is <var>localName</var>, if any, and null otherwise. 
   </ol>
   <p>To <dfn id="concept-element-attributes-get-value">get an attribute value</dfn> given an <a href="#concept-element">element</a> <var>element</var>, <var>localName</var>, and optionally a <var>namespace</var> (null unless stated otherwise), run these steps:</p>
   <ol>
    <li>
     <p>Let <var>attr</var> be the result of <a href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given <var>namespace</var>, <var>localName</var>, and <var>element</var>.</p>
    <li>
     <p>If <var>attr</var> is null, then return the empty string.</p>
    <li>
     <p>Return <var>attr</var>’s <a href="#concept-attribute-value">value</a>.</p>
   </ol>
   <p>To <dfn id="concept-element-attributes-set">set an attribute</dfn> given an <var>attr</var> and <var>element</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>attr</var>’s <a href="#concept-attribute-element">element</a> is neither null nor <var>element</var>, <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧④⑧">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#inuseattributeerror" id="termref-for-⑧④⑨">InUseAttributeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧⑤⓪">DOMException</a></code>. </p>
    <li>
     <p>Let <var>oldAttr</var> be the result of <a href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given <var>attr</var>’s <a href="#concept-attribute-namespace">namespace</a>, <var>attr</var>’s <a href="#concept-attribute-local-name">local name</a>, and <var>element</var>. </p>
    <li>
     <p>If <var>oldAttr</var> is <var>attr</var>, return <var>attr</var>. </p>
    <li>
     <p>If <var>oldAttr</var> is non-null, then <a href="#concept-element-attributes-replace">replace</a> <var>oldAttr</var> with <var>attr</var>. </p>
    <li>
     <p>Otherwise, <a href="#concept-element-attributes-append">append</a> <var>attr</var> to <var>element</var>. </p>
    <li>
     <p>Return <var>oldAttr</var>. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-set-value">set an attribute value</dfn> for an <a href="#concept-element">element</a> <var>element</var>, using a <var>localName</var> and <var>value</var>, and an
optional <var>prefix</var>, and <var>namespace</var>, run these steps: </p>
   <ol>
    <li>If <var>prefix</var> is not given, set it to null. 
    <li>If <var>namespace</var> is not given, set it to null. 
    <li>Let <var>attribute</var> be the result of <a href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given <var>namespace</var>, <var>localName</var>, and <var>element</var>. 
    <li>If <var>attribute</var> is null, create an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var>, <a href="#concept-attribute-namespace-prefix">namespace prefix</a> is <var>prefix</var>, <a href="#concept-attribute-local-name">local name</a> is <var>localName</var>, <a href="#concept-attribute-value">value</a> is <var>value</var>, and <a href="#concept-node-document">node document</a> is <var>element</var>’s <a href="#concept-node-document">node document</a>, then <a href="#concept-element-attributes-append">append</a> this <a href="#concept-attribute">attribute</a> to <var>element</var>, and then
 return. 
    <li>
     <p><a href="#concept-element-attributes-change">Change</a> <var>attribute</var> to <var>value</var>. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-remove-by-name">remove an attribute by name</dfn> given a <var>qualifiedName</var> and <a href="#concept-element">element</a> <var>element</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>attr</var> be the result of <a href="#concept-element-attributes-get-by-name">getting an attribute</a> given <var>qualifiedName</var> and <var>element</var>. </p>
    <li>
     <p>If <var>attr</var> is non-null, then <a href="#concept-element-attributes-remove">remove</a> <var>attr</var>. </p>
    <li>
     <p>Return <var>attr</var>. </p>
   </ol>
   <p>To <dfn id="concept-element-attributes-remove-by-namespace">remove an attribute by namespace and local name</dfn> given a <var>namespace</var>, <var>localName</var>, and <a href="#concept-element">element</a> <var>element</var>,
run these steps: </p>
   <ol>
    <li>
     <p>Let <var>attr</var> be the result of <a href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given <var>namespace</var>, <var>localName</var>, and <var>element</var>. </p>
    <li>
     <p>If <var>attr</var> is non-null, then <a href="#concept-element-attributes-remove">remove</a> <var>attr</var>. </p>
    <li>
     <p>Return <var>attr</var>. </p>
   </ol>
   <hr>
   <p>An <a href="#concept-element">element</a> can have an associated <dfn id="concept-id">unique identifier (ID)</dfn> </p>
   <p class="note" role="note">Historically <a href="#concept-element">elements</a> could have multiple identifiers e.g., by using
the HTML <code>id</code> <a href="#concept-attribute">attribute</a> and a DTD. This specification makes <a href="#concept-id">ID</a> a concept of the DOM and allows for only one per <a href="#concept-element">element</a>, given by an <a href="#concept-named-attribute"><code>id</code> attribute</a>. </p>
   <p>Use these <a href="#concept-element-attributes-change-ext">attribute change steps</a> to update an <a href="#concept-element">element</a>’s <a href="#concept-id">ID</a>: </p>
   <ol>
    <li>
     <p>If <var>localName</var> is <code>id</code>, <var>namespace</var> is null, and <var>value</var> is null or the empty string, then unset <var>element</var>’s <a href="#concept-id">ID</a>. </p>
    <li>
     <p>Otherwise, if <var>localName</var> is <code>id</code>, <var>namespace</var> is null, then
 set <var>element</var>’s <a href="#concept-id">ID</a> to <var>value</var>. </p>
   </ol>
   <p class="note no-backref" role="note">While this specification defines requirements for <code>class</code>, <code>id</code>, and <code>slot</code> <a href="#concept-attribute">attributes</a> on any <a href="#concept-element">element</a>, it makes no
claims as to whether using them is conforming or not. </p>
   <hr>
   <p>A <a href="#boundary-point-node">node</a>’s <a href="#concept-tree-parent">parent</a> of type <code class="idl"><a href="#element">Element</a></code> is known as a <dfn id="parent-element">parent element</dfn>. If the <a href="#boundary-point-node">node</a> has a <a href="#concept-tree-parent">parent</a> of a different type, its <a href="#parent-element">parent element</a> is null.</p>
   <hr>
   <dl class="domintro">
    <dt><var>namespace</var> = <var>element</var> . <code class="idl"><a href="#dom-element-namespaceuri">namespaceURI</a></code> 
    <dd>Returns the <a href="#concept-element-namespace">namespace</a>. 
    <dt><var>prefix</var> = <var>element</var> . <code class="idl"><a href="#dom-element-prefix">prefix</a></code> 
    <dd>Returns the <a href="#concept-element-namespace-prefix">namespace prefix</a>. 
    <dt><var>localName</var> = <var>element</var> . <code class="idl"><a href="#dom-element-localname">localName</a></code> 
    <dd>Returns the <a href="#concept-element-local-name">local name</a>. 
    <dt><var>qualifiedName</var> = <var>element</var> . <code class="idl"><a href="#dom-element-tagname">tagName</a></code> 
    <dd>Returns the <a href="#element-html-uppercased-qualified-name">HTML-uppercased qualified name</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-element-namespaceuri"><code>namespaceURI</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤①">this</a>’s <a href="#concept-element-namespace">namespace</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-prefix"><code>prefix</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤②">this</a>’s <a href="#concept-element-namespace-prefix">namespace prefix</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-localname"><code>localName</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤③">this</a>’s <a href="#concept-element-local-name">local name</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-tagname"><code>tagName</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤④">this</a>’s <a href="#element-html-uppercased-qualified-name">HTML-uppercased qualified name</a>. </p>
   <hr>
   <dl class="domintro">
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-id">id</a> [ = <var>value</var> ]</code> 
    <dd>
     <p>Returns the value of <var>element</var>’s <code>id</code> content attribute. Can be set to
 change it. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-classname">className</a> [ = <var>value</var> ]</code> 
    <dd>
     <p>Returns the value of <var>element</var>’s <code>class</code> content attribute. Can be set
 to change it. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-classlist">classList</a></code> 
    <dd>
     <p>Allows for manipulation of <var>element</var>’s <code>class</code> content attribute as a
 set of whitespace-separated tokens through a <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-slot">slot</a> [ = <var>value</var> ]</code> 
    <dd>
     <p>Returns the value of <var>element</var>’s <code>slot</code> content attribute. Can be set to
 change it. </p>
   </dl>
   <p>IDL attributes that are defined to <dfn id="concept-reflect">reflect</dfn> a
content <a href="#concept-attribute">attribute</a> of a given <var>name</var>, must have a getter and setter that follow these
steps:</p>
   <dl>
    <dt>getter 
    <dd>
     <p>Return the result of running <a href="#concept-element-attributes-get-value">get an attribute value</a> given <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤⑤">this</a> and <var>name</var>.</p>
    <dt>setter 
    <dd>
     <p><a href="#concept-element-attributes-set-value">Set an attribute value</a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤⑥">this</a> using <var>name</var> and the given value. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-element-id"><code>id</code></dfn> attribute must <a href="#concept-reflect">reflect</a> the
"<code>id</code>" content attribute. </p>
   <p>The <dfn class="idl-code" id="dom-element-classname"><code>className</code></dfn> attribute must <a href="#concept-reflect">reflect</a> the "<code>class</code>" content attribute. </p>
   <p>The <dfn class="idl-code" id="dom-element-classlist"><code>classList</code></dfn> attribute’s getter must return a <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object whose associated <a href="#concept-element">element</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤⑦">this</a> and whose associated <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a> is <code>class</code>. The <a href="#concept-dtl-tokens">token set</a> of this
particular <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object are also known as the <a href="#concept-element">element</a>’s <dfn id="concept-class">classes</dfn>. </p>
   <p>The <dfn class="idl-code" id="dom-element-slot"><code>slot</code></dfn> attribute must <a href="#concept-reflect">reflect</a> the
"<code>slot</code>" content attribute. </p>
   <p class="note" role="note"><code>id</code>, <code>class</code>, and <code>slot</code> are effectively
superglobal attributes as they can appear on any element, regardless of that element’s
namespace.</p>
   <hr>
   <dl class="domintro">
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-hasattributes">hasAttributes</a>()</code> 
    <dd>
     <p>Returns true if <var>element</var> has attributes, and false otherwise. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-getattributenames">getAttributeNames</a>()</code> 
    <dd>
     <p>Returns the <a href="#concept-attribute-qualified-name">qualified names</a> of all <var>element</var>’s <a href="#concept-attribute">attributes</a>.
 Can contain duplicates. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-getattribute">getAttribute</a>(<var>qualifiedName</var>)</code> 
    <dd>
     <p>Returns <var>element</var>’s first <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var>, and null if there is no such <a href="#concept-attribute">attribute</a> otherwise. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-getattributens">getAttributeNS</a>(<var>namespace</var>, <var>localName</var>)</code> 
    <dd>
     <p>Returns <var>element</var>’s <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-attribute-local-name">local name</a> is <var>localName</var>, and null if there is
 no such <a href="#concept-attribute">attribute</a> otherwise. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-setattribute">setAttribute</a>(<var>qualifiedName</var>, <var>value</var>)</code> 
    <dd>
     <p>Sets the <a href="#concept-attribute-value">value</a> of <var>element</var>’s first <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var> to <var>value</var>. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-setattributens">setAttributeNS</a>(<var>namespace</var>, <var>localName</var>, <var>value</var>)</code> 
    <dd>
     <p>Sets the <a href="#concept-attribute-value">value</a> of <var>element</var>’s <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-attribute-local-name">local name</a> is <var>localName</var> to <var>value</var>. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-removeattribute">removeAttribute</a>(<var>qualifiedName</var>)</code> 
    <dd>
     <p>Removes <var>element</var>’s first <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var>. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-removeattributens">removeAttributeNS</a>(<var>namespace</var>, <var>localName</var>)</code> 
    <dd>
     <p>Removes <var>element</var>’s <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-attribute-local-name">local name</a> is <var>localName</var>. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-toggleattribute">toggleAttribute</a>(<var>qualifiedName</var> [, <var>force</var>])</code> 
    <dd>
     <p>If <var>force</var> is not given, "toggles" <var>qualifiedName</var>, removing it if it is
  present and adding it if it is not present. If <var>force</var> is true, adds <var>qualifiedName</var>. If <var>force</var> is false, removes <var>qualifiedName</var>. </p>
     <p>Returns true if <var>qualifiedName</var> is now present, and false otherwise. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-hasattribute">hasAttribute</a>(<var>qualifiedName</var>)</code> 
    <dd>
     <p>Returns true if <var>element</var> has an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var>, and false otherwise. </p>
    <dt><code><var>element</var> . <a class="idl-code" href="#dom-element-hasattributens">hasAttributeNS</a>(<var>namespace</var>, <var>localName</var>)</code> 
    <dd>
     <p>Returns true if <var>element</var> has an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-attribute-local-name">local name</a> is <var>localName</var>. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-element-hasattributes"><code>hasAttributes()</code></dfn> method, when invoked, must return
false if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑤⑧">this</a>’s <a href="#concept-element-attribute">attribute list</a> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-⑧⑤⑨">is empty</a>, and true
otherwise. </p>
   <p>The <dfn class="idl-code" id="dom-element-attributes"><code>attributes</code></dfn> attribute’s getter must return the
associated <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code>. </p>
   <p>The <dfn class="idl-code" id="dom-element-getattributenames"><code>getAttributeNames()</code></dfn> method, when invoked, must
return the <a href="#concept-attribute-qualified-name">qualified names</a> of the <a href="#concept-attribute">attributes</a> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑥⓪">this</a>’s <a href="#concept-element-attribute">attribute list</a>, in order, and a new <a href="https://infra.spec.whatwg.org/#list" id="termref-for-⑧⑥①">list</a> otherwise. </p>
   <p class="note" role="note">These are not guaranteed to be unique. </p>
   <p>The <dfn class="idl-code" id="dom-element-getattribute"><code>getAttribute(<var>qualifiedName</var>)</code></dfn> method,
when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>attr</var> be the result of <a href="#concept-element-attributes-get-by-name">getting an attribute</a> given <var>qualifiedName</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑥②">this</a>. </p>
    <li>
     <p>If <var>attr</var> is null, return null. </p>
    <li>
     <p>Return <var>attr</var>’s <a href="#concept-attribute-value">value</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-getattributens"><code>getAttributeNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must these steps: </p>
   <ol>
    <li>
     <p>Let <var>attr</var> be the result of <a href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given <var>namespace</var>, <var>localName</var>, and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑥③">this</a>. </p>
    <li>
     <p>If <var>attr</var> is null, return null. </p>
    <li>
     <p>Return <var>attr</var>’s <a href="#concept-attribute-value">value</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-setattribute"><code>setAttribute(<var>qualifiedName</var>, <var>value</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>qualifiedName</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production in
 XML, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧⑥④">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑧⑥⑤">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧⑥⑥">DOMException</a></code>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑥⑦">this</a> is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧⑥⑧">HTML namespace</a> and its <a href="#concept-node-document">node document</a> is an <a href="#html-document">HTML document</a>, then set <var>qualifiedName</var> to <var>qualifiedName</var> in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑧⑥⑨">ASCII lowercase</a>. </p>
    <li>
     <p>Let <var>attribute</var> be the first <a href="#concept-attribute">attribute</a> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦⓪">this</a>’s <a href="#concept-element-attribute">attribute list</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var>,
 and null otherwise. </p>
    <li>
     <p>If <var>attribute</var> is null, create an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-local-name">local name</a> is <var>qualifiedName</var>, <a href="#concept-attribute-value">value</a> is <var>value</var>, and <a href="#concept-node-document">node document</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦①">this</a>’s <a href="#concept-node-document">node document</a>,
 then <a href="#concept-element-attributes-append">append</a> this <a href="#concept-attribute">attribute</a> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦②">this</a>, and then return. </p>
    <li>
     <p><a href="#concept-element-attributes-change">Change</a> <var>attribute</var> to <var>value</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-setattributens"><code>setAttributeNS(<var>namespace</var>, <var>qualifiedName</var>, <var>value</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>namespace</var>, <var>prefix</var>, and <var>localName</var> be the result of
 passing <var>namespace</var> and <var>qualifiedName</var> to <a href="#validate-and-extract">validate and extract</a>. </p>
    <li>
     <p><a href="#concept-element-attributes-set-value">Set an attribute value</a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦③">this</a> using <var>localName</var>, <var>value</var>,
 and also <var>prefix</var> and <var>namespace</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-removeattribute"><code>removeAttribute(<var>qualifiedName</var>)</code></dfn> method, when invoked, must <a href="#concept-element-attributes-remove-by-name">remove an attribute</a> given <var>qualifiedName</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦④">this</a>, and then return undefined. </p>
   <p>The <dfn class="idl-code" id="dom-element-removeattributens"><code>removeAttributeNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must <a href="#concept-element-attributes-remove-by-namespace">remove an attribute</a> given <var>namespace</var>, <var>localName</var>, and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦⑤">this</a>, and then return undefined. </p>
   <p>The <dfn class="idl-code" id="dom-element-hasattribute"><code>hasAttribute(<var>qualifiedName</var>)</code></dfn> method,
when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦⑥">this</a> is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧⑦⑦">HTML namespace</a> and its <a href="#concept-node-document">node document</a> is an <a href="#html-document">HTML document</a>, then set <var>qualifiedName</var> to <var>qualifiedName</var> in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑧⑦⑧">ASCII lowercase</a>. </p>
    <li>
     <p>Return true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑦⑨">this</a> <a href="#concept-element-attribute-has">has</a> an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var>, and false otherwise. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-toggleattribute"><code>toggleAttribute(<var>qualifiedName</var>, <var>force</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>qualifiedName</var> does not match the <code><a class="css" href="https://www.w3.org/TR/xml/#NT-Name">Name</a></code> production in
 XML, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧⑧⓪">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-⑧⑧①">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧⑧②">DOMException</a></code>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑧③">this</a> is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑧⑧④">HTML namespace</a> and its <a href="#concept-node-document">node document</a> is an <a href="#html-document">HTML document</a>, then set <var>qualifiedName</var> to <var>qualifiedName</var> in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑧⑧⑤">ASCII lowercase</a>. </p>
    <li>
     <p>Let <var>attribute</var> be the first <a href="#concept-attribute">attribute</a> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑧⑥">this</a>’s <a href="#concept-element-attribute">attribute list</a> whose <a href="#concept-attribute-qualified-name">qualified name</a> is <var>qualifiedName</var>,
 and null otherwise. </p>
    <li>
     <p>If <var>attribute</var> is null, then: </p>
     <ol>
      <li>
       <p>If <var>force</var> is not given or is true, create an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-local-name">local name</a> is <var>qualifiedName</var>, <a href="#concept-attribute-value">value</a> is the empty
   string, and <a href="#concept-node-document">node document</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑧⑦">this</a>’s <a href="#concept-node-document">node document</a>, then <a href="#concept-element-attributes-append">append</a> this <a href="#concept-attribute">attribute</a> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑧⑧">this</a>, and then return
   true. </p>
      <li>
       <p>Return false. </p>
     </ol>
    <li>
     <p>Otherwise, if <var>force</var> is not given or is false, <a href="#concept-element-attributes-remove-by-name">remove an attribute</a> given <var>qualifiedName</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑧⑨">this</a>, and then return false. </p>
    <li>
     <p>Return true. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-hasattributens"><code>hasAttributeNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>If <var>namespace</var> is the empty string, set it to null. 
    <li>Return true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑨⓪">this</a> <a href="#concept-element-attribute-has">has</a> an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-namespace">namespace</a> is <var>namespace</var> and <a href="#concept-attribute-local-name">local name</a> is <var>localName</var>, and false otherwise. 
   </ol>
   <hr>
   <p>The <dfn class="idl-code" id="dom-element-getattributenode"><code>getAttributeNode(<var>qualifiedName</var>)</code></dfn> method, when invoked, must return the result of <a href="#concept-element-attributes-get-by-name">getting an attribute</a> given <var>qualifiedName</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑨①">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-getattributenodens"><code>getAttributeNodeNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must return the result of <a href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given <var>namespace</var>, <var>localName</var>, and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑨②">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-setattributenode"><code>setAttributeNode(<var>attr</var>)</code></dfn> and <dfn class="idl-code" id="dom-element-setattributenodens"><code>setAttributeNodeNS(<var>attr</var>)</code></dfn> methods, when
invoked, must return the result of <a href="#concept-element-attributes-set">setting an attribute</a> given <var>attr</var> and <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑨③">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-removeattributenode"><code>removeAttributeNode(<var>attr</var>)</code></dfn> method,
when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑨④">this</a>’s <a href="#concept-element-attribute">attribute list</a> does not <a href="https://infra.spec.whatwg.org/#list-contain" id="termref-for-⑧⑨⑤">contain</a> <var>attr</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑧⑨⑥">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notfounderror" id="termref-for-⑧⑨⑦">NotFoundError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑧⑨⑧">DOMException</a></code>. </p>
    <li>
     <p><a href="#concept-element-attributes-remove">Remove</a> <var>attr</var>. </p>
    <li>
     <p>Return <var>attr</var>. </p>
   </ol>
   <hr>
   <dl class="domintro">
    <dt><code>var shadow = <var>element</var> . <code class="idl"><a href="#dom-element-attachshadow">attachShadow(init)</a></code></code> 
    <dd>
     <p>Creates a <a href="#concept-shadow-root">shadow root</a> for <var>element</var> and returns it. </p>
    <dt><code>var shadow = <var>element</var> . <code class="idl"><a href="#dom-element-shadowroot">shadowRoot</a></code></code> 
    <dd>
     <p>Returns <var>element</var>’s <a href="#concept-element-shadow-root">shadow root</a>, if any, and if <a href="#concept-shadow-root">shadow root</a>’s <a href="#shadowroot-mode">mode</a> is "<code>open</code>", and null otherwise. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-element-attachshadow"><code>attachShadow(<var>init</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑧⑨⑨">this</a>’s <a href="#concept-element-namespace">namespace</a> is not the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑨⓪⓪">HTML namespace</a>,
 then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨⓪①">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑨⓪②">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨⓪③">DOMException</a></code>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⓪④">this</a>’s <a href="#concept-element-local-name">local name</a> is not one of the following: </p>
     <ul class="brief">
      <li>a <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name" id="termref-for-⑨⓪⑤">valid custom element name</a> 
      <li>"<code>article</code>",
   "<code>aside</code>",
   "<code>blockquote</code>",
   "<code>body</code>",
   "<code>div</code>",
   "<code>footer</code>",
   "<code>h1</code>",
   "<code>h2</code>",
   "<code>h3</code>",
   "<code>h4</code>",
   "<code>h5</code>",
   "<code>h6</code>",
   "<code>header</code>",
   "<code>main</code>",
   "<code>nav</code>",
   "<code>p</code>",
   "<code>section</code>", or
   "<code>span</code>" 
     </ul>
     <p>then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨⓪⑥">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑨⓪⑦">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨⓪⑧">DOMException</a></code>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⓪⑨">this</a>’s <a href="#concept-element-local-name">local name</a> is a <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name" id="termref-for-⑨①⓪">valid custom element name</a>, or <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨①①">this</a>’s <a href="#concept-element-is-value"><code>is</code> value</a> is not null, then: </p>
     <ol>
      <li>
       <p>Let <var>definition</var> be the result of <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#look-up-a-custom-element-definition" id="termref-for-⑨①②">looking up a custom element definition</a> given <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨①③">this</a>’s <a href="#concept-node-document">node document</a>, its <a href="#concept-element-namespace">namespace</a>, its <a href="#concept-element-local-name">local name</a>, and its <a href="#concept-element-is-value"><code>is</code> value</a>. </p>
      <li>
       <p>If <var>definition</var> is not null and <var>definition</var>’s <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-disable-shadow" id="termref-for-⑨①④">disable shadow</a> is true, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨①⑤">throw</a> a
   "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑨①⑥">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨①⑦">DOMException</a></code>. </p>
     </ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨①⑧">this</a> is a <a href="#element-shadow-host">shadow host</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨①⑨">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-⑨②⓪">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨②①">DOMException</a></code>. </p>
    <li>
     <p>Let <var>shadow</var> be a new <a href="#concept-shadow-root">shadow root</a> whose <a href="#concept-node-document">node document</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨②②">this</a>’s <a href="#concept-node-document">node document</a>, <a href="#concept-documentfragment-host">host</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨②③">this</a>,
 and <a href="#shadowroot-mode">mode</a> is <var>init</var>’s <code class="idl"><a href="#dom-shadowrootinit-mode">mode</a></code>. </p>
    <li>
     <p>Set <var>shadow</var>’s <a href="#shadowroot-delegates-focus">delegates focus</a> to <var>init</var>’s <code class="idl"><a href="#dom-shadowrootinit-delegatesfocus">delegatesFocus</a></code>. </p>
    <li>
     <p>Set <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨②④">this</a>’s <a href="#concept-element-shadow-root">shadow root</a> to <var>shadow</var>. </p>
    <li>
     <p>Return <var>shadow</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-shadowroot"><code>shadowRoot</code></dfn> attribute’s getter must run these
steps: </p>
   <ol>
    <li>
     <p>Let <var>shadow</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨②⑤">this</a>’s <a href="#concept-element-shadow-root">shadow root</a>. </p>
    <li>
     <p>If <var>shadow</var> is null or its <a href="#shadowroot-mode">mode</a> is "<code>closed</code>",
 then return null.</p>
    <li>
     <p>Return <var>shadow</var>. </p>
   </ol>
   <hr>
   <dl class="domintro">
    <dt><code><var>element</var> . <code class="idl"><a href="#dom-element-closest">closest(selectors)</a></code></code> 
    <dd>Returns the first (starting at <var>element</var>) <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> that matches <var>selectors</var>, and null otherwise. 
    <dt><code><var>element</var> . <code class="idl"><a href="#dom-element-matches">matches(selectors)</a></code></code> 
    <dd>Returns true if matching <var>selectors</var> against <var>element</var>’s <a href="#concept-tree-root">root</a> yields <var>element</var>, and false otherwise. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-element-closest"><code>closest(<var>selectors</var>)</code></dfn> method, when invoked, must run these steps:</p>
   <ol>
    <li>Let <var>s</var> be the result of <a href="https://drafts.csswg.org/selectors-4/#parse-a-selector" id="termref-for-⑨②⑥">parse a selector</a> from <var>selectors</var>. <a href="#biblio-selectors4">[SELECTORS4]</a> 
    <li>If <var>s</var> is failure, <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨②⑦">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-⑨②⑧">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨②⑨">DOMException</a></code>. 
    <li>Let <var>elements</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨③⓪">this</a>’s <a href="#concept-tree-inclusive-ancestor">inclusive ancestors</a> that are <a href="#concept-element">elements</a>, in reverse <a href="#concept-tree-order">tree order</a>. 
    <li>For each <var>element</var> in <var>elements</var>, if <a href="https://drafts.csswg.org/selectors-4/#match-a-selector-against-an-element" id="termref-for-⑨③①">match a selector against an element</a>, using <var>s</var>, <var>element</var>, and <a href="https://drafts.csswg.org/selectors-4/#scope-element" id="termref-for-⑨③②">:scope element</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨③③">this</a>,
 returns success, return <var>element</var>. <a href="#biblio-selectors4">[SELECTORS4]</a> 
    <li>Return null. 
   </ol>
   <p>The <dfn class="idl-code" id="dom-element-matches"><code>matches(<var>selectors</var>)</code></dfn> and <dfn class="idl-code" id="dom-element-webkitmatchesselector"><code>webkitMatchesSelector(<var>selectors</var>)</code></dfn> methods, when
invoked, must run these steps:</p>
   <ol>
    <li>Let <var>s</var> be the result of <a href="https://drafts.csswg.org/selectors-4/#parse-a-selector" id="termref-for-⑨③④">parse a selector</a> from <var>selectors</var>. <a href="#biblio-selectors4">[SELECTORS4]</a> 
    <li>If <var>s</var> is failure, <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨③⑤">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-⑨③⑥">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨③⑦">DOMException</a></code>. 
    <li>Return true if the result of <a href="https://drafts.csswg.org/selectors-4/#match-a-selector-against-an-element" id="termref-for-⑨③⑧">match a selector against an element</a>, using <var>s</var>, <var>element</var>, and <a href="https://drafts.csswg.org/selectors-4/#scope-element" id="termref-for-⑨③⑨">:scope element</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨④⓪">this</a>,
 returns success, and false otherwise. <a href="#biblio-selectors4">[SELECTORS4]</a> 
   </ol>
   <hr>
   <p>The <dfn class="idl-code" id="dom-element-getelementsbytagname"><code>getElementsByTagName(<var>qualifiedName</var>)</code></dfn> method, when invoked, must return the <a href="#concept-getelementsbytagname">list of elements with qualified name <var>qualifiedName</var></a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨④①">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-getelementsbytagnamens"><code>getElementsByTagNameNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must return the <a href="#concept-getelementsbytagnamens">list of elements with namespace <var>namespace</var> and local name <var>localName</var></a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨④②">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-element-getelementsbyclassname"><code>getElementsByClassName(<var>classNames</var>)</code></dfn> method, when invoked, must return the <a href="#concept-getelementsbyclassname">list of elements with class names <var>classNames</var></a> for <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨④③">this</a>. </p>
   <hr>
   <p>To <dfn id="insert-adjacent">insert adjacent</dfn>, given an <a href="#concept-element">element</a> <var>element</var>, string <var>where</var>, and a <a href="#boundary-point-node">node</a> <var>node</var>, run the steps associated with the first <a href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="termref-for-⑨④④">ASCII case-insensitive</a> match for <var>where</var>: </p>
   <dl class="switch">
    <dt>"<code>beforebegin</code>" 
    <dd>
     <p>If <var>element</var>’s <a href="#concept-tree-parent">parent</a> is null, return null. </p>
     <p>Return the result of <a href="#concept-node-pre-insert">pre-inserting</a> <var>node</var> into <var>element</var>’s <a href="#concept-tree-parent">parent</a> before <var>element</var>. </p>
    <dt>"<code>afterbegin</code>" 
    <dd>
     <p>Return the result of <a href="#concept-node-pre-insert">pre-inserting</a> <var>node</var> into <var>element</var> before <var>element</var>’s <a href="#concept-tree-first-child">first child</a>. </p>
    <dt>"<code>beforeend</code>" 
    <dd>
     <p>Return the result of <a href="#concept-node-pre-insert">pre-inserting</a> <var>node</var> into <var>element</var> before
 null. </p>
    <dt>"<code>afterend</code>" 
    <dd>
     <p>If <var>element</var>’s <a href="#concept-tree-parent">parent</a> is null, return null. </p>
     <p>Return the result of <a href="#concept-node-pre-insert">pre-inserting</a> <var>node</var> into <var>element</var>’s <a href="#concept-tree-parent">parent</a> before <var>element</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
    <dt>Otherwise
    <dd>
     <p><a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨④⑤">Throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-⑨④⑥">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨④⑦">DOMException</a></code>. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-element-insertadjacentelement"><code>insertAdjacentElement(<var>where</var>, <var>element</var>)</code></dfn> method, when invoked, must return the result of running <a href="#insert-adjacent">insert adjacent</a>, give <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨④⑧">this</a>, <var>where</var>, and <var>element</var>. </p>
   <p>The <dfn class="idl-code" id="dom-element-insertadjacenttext"><code>insertAdjacentText(<var>where</var>, <var>data</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>text</var> be a new <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var> and <a href="#concept-node-document">node document</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨④⑨">this</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p>Run <a href="#insert-adjacent">insert adjacent</a>, given <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⑤⓪">this</a>, <var>where</var>, and <var>text</var>. </p>
   </ol>
   <p class="note" role="note">This method returns nothing because it existed before we had a chance to design it. </p>
   <h4 class="heading settled" id="interface-namednodemap"><span class="secno">4.9.1. </span><span class="content">Interface <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code></span></h4>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑨⑤①">Exposed</a>=Window,
 <a class="idl-code" href="https://heycam.github.io/webidl/#LegacyUnenumerableNamedProperties" id="termref-for-⑨⑤②">LegacyUnenumerableNamedProperties</a>]
interface <dfn class="idl-code" id="namednodemap"><code>NamedNodeMap</code></dfn> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-⑨⑤③">unsigned long</a> <a class="idl-code" href="#dom-namednodemap-length">length</a>;
  getter <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-⑨⑤④">unsigned long</a> <dfn class="idl-code" id="dom-namednodemap-item-index-index"><code>index</code></dfn>);
  getter <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-getnameditem">getNamedItem</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑤⑤">DOMString</a> <dfn class="idl-code" id="dom-namednodemap-getnameditem-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-getnameditemns">getNamedItemNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑤⑥">DOMString</a>? <dfn class="idl-code" id="dom-namednodemap-getnameditemns-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑤⑦">DOMString</a> <dfn class="idl-code" id="dom-namednodemap-getnameditemns-namespace-localname-localname"><code>localName</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑨⑤⑧">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-setnameditem">setNamedItem</a>(<a class="n" href="#attr">Attr</a> <dfn class="idl-code" id="dom-namednodemap-setnameditem-attr-attr"><code>attr</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑨⑤⑨">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-setnameditemns">setNamedItemNS</a>(<a class="n" href="#attr">Attr</a> <dfn class="idl-code" id="dom-namednodemap-setnameditemns-attr-attr"><code>attr</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑨⑥⓪">CEReactions</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-namednodemap-removenameditem">removeNamedItem</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑥①">DOMString</a> <dfn class="idl-code" id="dom-namednodemap-removenameditem-qualifiedname-qualifiedname"><code>qualifiedName</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑨⑥②">CEReactions</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-namednodemap-removenameditemns">removeNamedItemNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑥③">DOMString</a>? <dfn class="idl-code" id="dom-namednodemap-removenameditemns-namespace-localname-namespace"><code>namespace</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑥④">DOMString</a> <dfn class="idl-code" id="dom-namednodemap-removenameditemns-namespace-localname-localname"><code>localName</code></dfn>);
};
</pre>
   <p>A <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code> has an associated <dfn id="concept-namednodemap-element">element</dfn> (an <a href="#concept-element">element</a>).</p>
   <p>A <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code> object’s <dfn id="concept-namednodemap-attribute">attribute list</dfn> is its <a href="#concept-namednodemap-element">element</a>’s <a href="#concept-element-attribute">attribute list</a>.</p>
   <hr>
   <p>A <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code> object’s <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-⑨⑥⑤">supported property indices</a> are the numbers in the
range zero to its <a href="#concept-namednodemap-attribute">attribute list</a>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-⑨⑥⑥">size</a> minus one, unless
the <a href="#concept-namednodemap-attribute">attribute list</a> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-⑨⑥⑦">is empty</a>, in which case there are no <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-⑨⑥⑧">supported property indices</a>. </p>
   <p>The <dfn class="idl-code" id="dom-namednodemap-length"><code>length</code></dfn> attribute’s getter must return
the <a href="#concept-namednodemap-attribute">attribute list</a>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-⑨⑥⑨">size</a>. </p>
   <p>The <dfn class="idl-code" id="dom-namednodemap-item"><code>item(<var>index</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>index</var> is equal to or greater than <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⑦⓪">this</a>’s <a href="#concept-namednodemap-attribute">attribute list</a>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-⑨⑦①">size</a>, then return null. </p>
    <li>
     <p>Otherwise, return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⑦②">this</a>’s <a href="#concept-namednodemap-attribute">attribute list</a>[<var>index</var>]. </p>
   </ol>
   <p>A <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code> object’s <a href="https://heycam.github.io/webidl/#dfn-supported-property-names" id="termref-for-⑨⑦③">supported property names</a> are the return value of running these
steps: </p>
   <ol>
    <li>
     <p>Let <var>names</var> be the <a href="#concept-attribute-qualified-name">qualified names</a> of the <a href="#concept-attribute">attributes</a> in this <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code> object’s <a href="#concept-namednodemap-attribute">attribute list</a>, with duplicates omitted, in
 order. </p>
    <li>
     <p>If this <code class="idl"><a href="#namednodemap">NamedNodeMap</a></code> object’s <a href="#concept-namednodemap-element">element</a> is in the <a href="https://infra.spec.whatwg.org/#html-namespace" id="termref-for-⑨⑦④">HTML namespace</a> and its <a href="#concept-node-document">node document</a> is an <a href="#html-document">HTML document</a>, then <a href="https://infra.spec.whatwg.org/#list-iterate">for each</a> <var>name</var> in <var>names</var>: </p>
     <ol>
      <li>
       <p>Let <var>lowercaseName</var> be <var>name</var>, in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-⑨⑦⑤">ASCII lowercase</a>. </p>
      <li>
       <p>If <var>lowercaseName</var> is not equal to <var>name</var>, remove <var>name</var> from <var>names</var>. </p>
     </ol>
    <li>
     <p>Return <var>names</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-namednodemap-getnameditem"><code>getNamedItem(<var>qualifiedName</var>)</code></dfn> method, when invoked, must return the result of <a href="#concept-element-attributes-get-by-name">getting an attribute</a> given <var>qualifiedName</var> and <a href="#concept-namednodemap-element">element</a>. </p>
   <p>The <dfn class="idl-code" id="dom-namednodemap-getnameditemns"><code>getNamedItemNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must return the result of <a href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given <var>namespace</var>, <var>localName</var>, and <a href="#concept-namednodemap-element">element</a>. </p>
   <p>The <dfn class="idl-code" id="dom-namednodemap-setnameditem"><code>setNamedItem(<var>attr</var>)</code></dfn> and <dfn class="idl-code" id="dom-namednodemap-setnameditemns"><code>setNamedItemNS(<var>attr</var>)</code></dfn> methods, when invoked, must return the result of <a href="#concept-element-attributes-set">setting an attribute</a> given <var>attr</var> and <a href="#concept-namednodemap-element">element</a>. </p>
   <p>The <dfn class="idl-code" id="dom-namednodemap-removenameditem"><code>removeNamedItem(<var>qualifiedName</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>attr</var> be the result of <a href="#concept-element-attributes-remove-by-name">removing an attribute</a> given <var>qualifiedName</var> and <a href="#concept-namednodemap-element">element</a>. </p>
    <li>
     <p>If <var>attr</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨⑦⑥">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notfounderror" id="termref-for-⑨⑦⑦">NotFoundError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨⑦⑧">DOMException</a></code>. </p>
    <li>
     <p>Return <var>attr</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-namednodemap-removenameditemns"><code>removeNamedItemNS(<var>namespace</var>, <var>localName</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>attr</var> be the result of <a href="#concept-element-attributes-remove-by-namespace">removing an attribute</a> given <var>namespace</var>, <var>localName</var>, and <a href="#concept-namednodemap-element">element</a>. </p>
    <li>
     <p>If <var>attr</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-⑨⑦⑨">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notfounderror" id="termref-for-⑨⑧⓪">NotFoundError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-⑨⑧①">DOMException</a></code>. </p>
    <li>
     <p>Return <var>attr</var>. </p>
   </ol>
   <h4 class="heading settled" id="interface-attr"><span class="secno">4.9.2. </span><span class="content">Interface <code class="idl"><a href="#attr">Attr</a></code></span></h4>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑨⑧②">Exposed</a>=Window]
interface <dfn class="idl-code" id="attr"><code>Attr</code></dfn> : <a class="n" href="#node">Node</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑧③">DOMString</a>? <a class="idl-code" href="#dom-attr-namespaceuri">namespaceURI</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑧④">DOMString</a>? <a class="idl-code" href="#dom-attr-prefix">prefix</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑧⑤">DOMString</a> <a class="idl-code" href="#dom-attr-localname">localName</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑧⑥">DOMString</a> <a class="idl-code" href="#dom-attr-name">name</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-⑨⑧⑦">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑧⑧">DOMString</a> <a class="idl-code" href="#dom-attr-value">value</a>;

  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-attr-ownerelement">ownerElement</a>;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-⑨⑧⑨">boolean</a> <a class="idl-code" href="#dom-attr-specified">specified</a>; // useless; always returns true
};</pre>
   <p><code class="idl"><a href="#attr">Attr</a></code> <a href="#concept-node">nodes</a> are simply known as <dfn id="concept-attribute">attributes</dfn>. They are sometimes referred
to as <em>content attributes</em> to avoid confusion with IDL attributes. </p>
   <p><a href="#concept-attribute">Attributes</a> have a <dfn id="concept-attribute-namespace">namespace</dfn> (null or a non-empty string), <dfn id="concept-attribute-namespace-prefix">namespace prefix</dfn> (null or a non-empty string), <dfn id="concept-attribute-local-name">local name</dfn> (a non-empty string), <dfn id="concept-attribute-value">value</dfn> (a string), and <dfn id="concept-attribute-element">element</dfn> (null or an <a href="#concept-element">element</a>).</p>
   <p class="note no-backref" role="note">If designed today they would just have a name and value. ☹ </p>
   <p>An <a href="#concept-attribute">attribute</a>’s <dfn id="concept-attribute-qualified-name">qualified name</dfn> is its <a href="#concept-attribute-local-name">local name</a> if its <a href="#concept-attribute-namespace-prefix">namespace prefix</a> is null, and its <a href="#concept-attribute-namespace-prefix">namespace prefix</a>, followed by "<code>:</code>", followed by its <a href="#concept-attribute-local-name">local name</a>, otherwise. </p>
   <p class="note" role="note">User agents could have this as an internal slot as an optimization. </p>
   <p>When an <a href="#concept-attribute">attribute</a> is created, its <a href="#concept-attribute-local-name">local name</a> is given. Unless explicitly
given when an <a href="#concept-attribute">attribute</a> is created, its <a href="#concept-attribute-namespace">namespace</a>, <a href="#concept-attribute-namespace-prefix">namespace prefix</a>, and <a href="#concept-attribute-element">element</a> are set to null, and its <a href="#concept-attribute-value">value</a> is set to the empty string.</p>
   <p>An <dfn id="concept-named-attribute"><code><var>A</var></code> attribute</dfn> is an <a href="#concept-attribute">attribute</a> whose <a href="#concept-attribute-local-name">local name</a> is <code><var>A</var></code> and whose <a href="#concept-attribute-namespace">namespace</a> and <a href="#concept-attribute-namespace-prefix">namespace prefix</a> are
null.</p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-attr-namespaceuri"><code>namespaceURI</code></dfn> attribute’s getter must return the <a href="#concept-attribute-namespace">namespace</a>. </p>
   <p>The <dfn class="idl-code" id="dom-attr-prefix"><code>prefix</code></dfn> attribute’s getter must return the <a href="#concept-attribute-namespace-prefix">namespace prefix</a>. </p>
   <p>The <dfn class="idl-code" id="dom-attr-localname"><code>localName</code></dfn> attribute’s getter must return the <a href="#concept-attribute-local-name">local name</a>. </p>
   <p>The <dfn class="idl-code" id="dom-attr-name"><code>name</code></dfn> attribute’s getter must return the <a href="#concept-attribute-qualified-name">qualified name</a>. </p>
   <p>The <dfn class="idl-code" id="dom-attr-value"><code>value</code></dfn> attribute’s getter must return the <a href="#concept-attribute-value">value</a>. </p>
   <p>To <dfn id="set-an-existing-attribute-value">set an existing attribute value</dfn>, given an <a href="#concept-attribute">attribute</a> <var>attribute</var> and
string <var>value</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>attribute</var>’s <a href="#concept-attribute-element">element</a> is null, then set <var>attribute</var>’s <a href="#concept-attribute-value">value</a> to <var>value</var>. </p>
    <li>
     <p>Otherwise, <a href="#concept-element-attributes-change">change</a> <var>attribute</var> to <var>value</var>. </p>
   </ol>
   <p>The <code class="idl"><a href="#dom-attr-value">value</a></code> attribute’s setter must <a href="#set-an-existing-attribute-value">set an existing attribute value</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⑨⓪">this</a> and the given value. </p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-attr-ownerelement"><code>ownerElement</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-⑨⑨①">this</a>’s <a href="#concept-attribute-element">element</a>. </p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-attr-specified"><code>specified</code></dfn> attribute’s getter must return true. </p>
   <h3 class="heading settled" id="interface-characterdata"><span class="secno">4.10. </span><span class="content">Interface <code class="idl"><a href="#characterdata">CharacterData</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-⑨⑨②">Exposed</a>=Window]
interface <dfn class="idl-code" id="characterdata"><code>CharacterData</code></dfn> : <a class="n" href="#node">Node</a> {
  attribute [<a class="idl-code" href="https://heycam.github.io/webidl/#LegacyNullToEmptyString" id="termref-for-⑨⑨③">LegacyNullToEmptyString</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑨④">DOMString</a> <a class="idl-code" href="#dom-characterdata-data">data</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-⑨⑨⑤">unsigned long</a> <a class="idl-code" href="#dom-characterdata-length">length</a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑨⑥">DOMString</a> <a class="idl-code" href="#dom-characterdata-substringdata">substringData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-⑨⑨⑦">unsigned long</a> <dfn class="idl-code" id="dom-characterdata-substringdata-offset-count-offset"><code>offset</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-⑨⑨⑧">unsigned long</a> <dfn class="idl-code" id="dom-characterdata-substringdata-offset-count-count"><code>count</code></dfn>);
  void <a class="idl-code" href="#dom-characterdata-appenddata">appendData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-⑨⑨⑨">DOMString</a> <dfn class="idl-code" id="dom-characterdata-appenddata-data-data"><code>data</code></dfn>);
  void <a class="idl-code" href="#dom-characterdata-insertdata">insertData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⓪⓪">unsigned long</a> <dfn class="idl-code" id="dom-characterdata-insertdata-offset-data-offset"><code>offset</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪⓪①">DOMString</a> <dfn class="idl-code" id="dom-characterdata-insertdata-offset-data-data"><code>data</code></dfn>);
  void <a class="idl-code" href="#dom-characterdata-deletedata">deleteData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⓪②">unsigned long</a> <dfn class="idl-code" id="dom-characterdata-deletedata-offset-count-offset"><code>offset</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⓪③">unsigned long</a> <dfn class="idl-code" id="dom-characterdata-deletedata-offset-count-count"><code>count</code></dfn>);
  void <a class="idl-code" href="#dom-characterdata-replacedata">replaceData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⓪④">unsigned long</a> <dfn class="idl-code" id="dom-characterdata-replacedata-offset-count-data-offset"><code>offset</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⓪⑤">unsigned long</a> <dfn class="idl-code" id="dom-characterdata-replacedata-offset-count-data-count"><code>count</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪⓪⑥">DOMString</a> <dfn class="idl-code" id="dom-characterdata-replacedata-offset-count-data-data"><code>data</code></dfn>);
};
</pre>
   <p class="note no-backref" role="note"><code class="idl"><a href="#characterdata">CharacterData</a></code> is an abstract interface and does not exist as <a href="#boundary-point-node">node</a>. It is used by <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, and <code class="idl"><a href="#comment">Comment</a></code> <a href="#concept-node">nodes</a>. </p>
   <p>Each <a href="#boundary-point-node">node</a> inheriting from the <code class="idl"><a href="#characterdata">CharacterData</a></code> interface has an associated mutable string
called <dfn id="concept-cd-data">data</dfn>.</p>
   <p>To <dfn id="concept-cd-replace">replace data</dfn> of node <var>node</var> with offset <var>offset</var>, count <var>count</var>, and data <var>data</var>, run these steps:</p>
   <ol>
    <li>Let <var>length</var> be <var>node</var>’s <a href="#concept-node-length">length</a>. 
    <li>If <var>offset</var> is greater than <var>length</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⓪⓪⑦">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#indexsizeerror" id="termref-for-①⓪⓪⑧">IndexSizeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⓪⓪⑨">DOMException</a></code>. 
    <li>If <var>offset</var> plus <var>count</var> is greater than <var>length</var>, then set <var>count</var> to <var>length</var> minus <var>offset</var>. 
    <li>
     <p><a href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>characterData</code>" for <var>node</var> with
 null, null, <var>node</var>’s <a href="#concept-cd-data">data</a>, « », « », null, and null. </p>
    <li>Insert <var>data</var> into <var>node</var>’s <a href="#concept-cd-data">data</a> after <var>offset</var> <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪①⓪">code units</a>. 
    <li>Let <var>delete offset</var> be <var>offset</var> + <var>data</var>’s <a href="https://infra.spec.whatwg.org/#string-length" id="termref-for-①⓪①①">length</a>. 
    <li>Starting from <var>delete offset</var> <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪①②">code units</a>, remove <var>count</var> <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪①③">code units</a> from <var>node</var>’s <a href="#concept-cd-data">data</a>. 
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>node</var> and <a href="#concept-range-start-offset">start offset</a> is greater than <var>offset</var> but less than or equal to <var>offset</var> plus <var>count</var>, set its <a href="#concept-range-start-offset">start offset</a> to <var>offset</var>. </p>
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>node</var> and <a href="#concept-range-end-offset">end offset</a> is greater than <var>offset</var> but less than or equal to <var>offset</var> plus <var>count</var>, set its <a href="#concept-range-end-offset">end offset</a> to <var>offset</var>. </p>
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>node</var> and <a href="#concept-range-start-offset">start offset</a> is greater than <var>offset</var> plus <var>count</var>, increase its <a href="#concept-range-start-offset">start offset</a> by <var>data</var>’s <a href="https://infra.spec.whatwg.org/#string-length" id="termref-for-①⓪①④">length</a> and decrease it by <var>count</var>. </p>
    <li>
     <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>node</var> and <a href="#concept-range-end-offset">end offset</a> is greater than <var>offset</var> plus <var>count</var>, increase its <a href="#concept-range-end-offset">end offset</a> by <var>data</var>’s <a href="https://infra.spec.whatwg.org/#string-length" id="termref-for-①⓪①⑤">length</a> and decrease it by <var>count</var>. </p>
    <li>If <var>node</var>’s <a href="#concept-tree-parent">parent</a> is non-null, then run the <a href="#concept-node-children-changed-ext">children changed steps</a> for <var>node</var>’s <a href="#concept-tree-parent">parent</a>. 
   </ol>
   <p>To <dfn id="concept-cd-substring">substring data</dfn> with node <var>node</var>, offset <var>offset</var>, and count <var>count</var>, run these steps:</p>
   <ol>
    <li>Let <var>length</var> be <var>node</var>’s <a href="#concept-node-length">length</a>. 
    <li>If <var>offset</var> is greater than <var>length</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⓪①⑥">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#indexsizeerror" id="termref-for-①⓪①⑦">IndexSizeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⓪①⑧">DOMException</a></code>. 
    <li>If <var>offset</var> plus <var>count</var> is
 greater than <var>length</var>, return a string whose value is the <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪①⑨">code units</a> from the <var>offset</var><sup>th</sup> <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪②⓪">code unit</a> to the end of <var>node</var>’s <a href="#concept-cd-data">data</a>, and then
 return. 
    <li>Return a string whose value is the <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪②①">code units</a> from the <var>offset</var><sup>th</sup> <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪②②">code unit</a> to the <var>offset</var>+<var>count</var><sup>th</sup> <a href="https://infra.spec.whatwg.org/#code-unit" id="termref-for-①⓪②③">code unit</a> in <var>node</var>’s <a href="#concept-cd-data">data</a>. 
   </ol>
   <p>The <dfn class="idl-code" id="dom-characterdata-data"><code>data</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪②④">this</a>’s <a href="#concept-cd-data">data</a>. Its setter must <a href="#concept-cd-replace">replace data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪②⑤">this</a>, offset 0, count <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪②⑥">this</a>’s <a href="#concept-node-length">length</a>, and data new value. </p>
   <p>The <dfn class="idl-code" id="dom-characterdata-length"><code>length</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪②⑦">this</a>’s <a href="#concept-node-length">length</a>. </p>
   <p>The <dfn class="idl-code" id="dom-characterdata-substringdata"><code>substringData(<var>offset</var>, <var>count</var>)</code></dfn> method, when invoked, must return the result of running <a href="#concept-cd-substring">substring data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪②⑧">this</a>,
offset <var>offset</var>, and count <var>count</var>. </p>
   <p>The <dfn class="idl-code" id="dom-characterdata-appenddata"><code>appendData(<var>data</var>)</code></dfn> method, when
invoked, must <a href="#concept-cd-replace">replace data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪②⑨">this</a>, offset <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪③⓪">this</a>’s <a href="#concept-node-length">length</a>, count 0, and data <var>data</var>. </p>
   <p>The <dfn class="idl-code" id="dom-characterdata-insertdata"><code>insertData(<var>offset</var>, <var>data</var>)</code></dfn> method, when invoked, must <a href="#concept-cd-replace">replace data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪③①">this</a>, offset <var>offset</var>,
count 0, and data <var>data</var>. </p>
   <p>The <dfn class="idl-code" id="dom-characterdata-deletedata"><code>deleteData(<var>offset</var>, <var>count</var>)</code></dfn> method, when invoked, must <a href="#concept-cd-replace">replace data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪③②">this</a>, offset <var>offset</var>,
count <var>count</var>, and data the empty string. </p>
   <p>The <dfn class="idl-code" id="dom-characterdata-replacedata"><code>replaceData(<var>offset</var>, <var>count</var>, <var>data</var>)</code></dfn> method, when invoked, must <a href="#concept-cd-replace">replace data</a> with node <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪③③">this</a>, offset <var>offset</var>,
count <var>count</var>, and data <var>data</var>. </p>
   <h3 class="heading settled" id="interface-text"><span class="secno">4.11. </span><span class="content">Interface <code class="idl"><a href="#text">Text</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪③④">Exposed</a>=Window]
interface <dfn class="idl-code" id="text"><code>Text</code></dfn> : <a class="n" href="#characterdata">CharacterData</a> {
  <a class="idl-code" href="#dom-text-text">constructor</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪③⑤">DOMString</a> <dfn class="idl-code" id="dom-text-text-data-data"><code>data</code></dfn> = "");

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-①⓪③⑥">NewObject</a>] <a class="n" href="#text">Text</a> <a class="idl-code" href="#dom-text-splittext">splitText</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪③⑦">unsigned long</a> <dfn class="idl-code" id="dom-text-splittext-offset-offset"><code>offset</code></dfn>);
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪③⑧">DOMString</a> <a class="idl-code" href="#dom-text-wholetext">wholeText</a>;
};
</pre>
   <dl class="domintro">
    <dt><code><var>text</var> = new <a class="idl-code" href="#dom-text-text">Text([<var>data</var> = ""])</a></code> 
    <dd>Returns a new <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var>. 
    <dt><code><var>text</var> . <code class="idl"><a href="#dom-text-splittext">splitText(offset)</a></code></code> 
    <dd>Splits <a href="#concept-cd-data">data</a> at the given <var>offset</var> and returns the remainder as <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>. 
    <dt><code><var>text</var> . <code class="idl"><a href="#dom-text-wholetext">wholeText</a></code></code> 
    <dd>Returns the combined <a href="#concept-cd-data">data</a> of all direct <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> <a href="#concept-tree-sibling">siblings</a>. 
   </dl>
   <hr>
   <p>An <dfn id="exclusive-text-node">exclusive <code class="idl"><a href="#text">Text</a></code> node</dfn> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> that is not a <code class="idl"><a href="#cdatasection">CDATASection</a></code> <a href="#boundary-point-node">node</a>. </p>
   <p>The <dfn id="contiguous-text-nodes">contiguous <code class="idl"><a href="#text">Text</a></code> nodes</dfn> of a <a href="#boundary-point-node">node</a> <var>node</var> are <var>node</var>, <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, if any, and its <a href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a>, and <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a> <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, if any, and its <a href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a>, avoiding any duplicates. </p>
   <p>The <dfn id="contiguous-exclusive-text-nodes">contiguous exclusive <code class="idl"><a href="#text">Text</a></code> nodes</dfn> of a <a href="#boundary-point-node">node</a> <var>node</var> are <var>node</var>, <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> <a href="#exclusive-text-node">exclusive <code>Text</code> node</a>,
if any, and its <a href="#contiguous-exclusive-text-nodes">contiguous exclusive <code>Text</code> nodes</a>, and <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a> <a href="#exclusive-text-node">exclusive <code>Text</code> node</a>, if any, and its <a href="#contiguous-exclusive-text-nodes">contiguous exclusive <code>Text</code> nodes</a>, avoiding any duplicates. </p>
   <p>The <dfn id="concept-child-text-content">child text content</dfn> of a <a href="#concept-node">node</a> <var>node</var> is the <a href="https://infra.spec.whatwg.org/#string-concatenate" id="termref-for-①⓪③⑨">concatenation</a> of the <a href="#concept-cd-data">data</a> of all
the <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">node</a> <a href="#concept-tree-child">children</a> of <var>node</var>, in <a href="#concept-tree-order">tree order</a>. </p>
   <p>The <dfn id="concept-descendant-text-content">descendant text content</dfn> of a <a href="#concept-node">node</a> <var>node</var> is the <a href="https://infra.spec.whatwg.org/#string-concatenate" id="termref-for-①⓪④⓪">concatenation</a> of the <a href="#concept-cd-data">data</a> of all the <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">node</a> <a href="#concept-tree-descendant">descendants</a> of <var>node</var>, in <a href="#concept-tree-order">tree order</a>. </p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-text-text"><code>Text(<var>data</var>)</code></dfn> constructor, when invoked,
must return a new <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var> and <a href="#concept-node-document">node document</a> is <a href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="termref-for-①⓪④①">current global object</a>’s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="termref-for-①⓪④②">associated <code>Document</code></a>. </p>
   <p>To <dfn id="concept-text-split">split</dfn> a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> <var>node</var> with offset <var>offset</var>, run these steps:</p>
   <ol>
    <li>Let <var>length</var> be <var>node</var>’s <a href="#concept-node-length">length</a>. 
    <li>If <var>offset</var> is greater than <var>length</var>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⓪④③">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#indexsizeerror" id="termref-for-①⓪④④">IndexSizeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⓪④⑤">DOMException</a></code>. 
    <li>Let <var>count</var> be <var>length</var> minus <var>offset</var>. 
    <li>Let <var>new data</var> be the result of <a href="#concept-cd-substring">substringing data</a> with node <var>node</var>, offset <var>offset</var>, and count <var>count</var>. 
    <li>Let <var>new node</var> be a new <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, with the same <a href="#concept-node-document">node document</a> as <var>node</var>. Set <var>new node</var>’s <a href="#concept-cd-data">data</a> to <var>new data</var>. 
    <li>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. 
    <li>
     <p>If <var>parent</var> is not null, then: </p>
     <ol>
      <li>
       <p><a href="#concept-node-insert">Insert</a> <var>new node</var> into <var>parent</var> before <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>node</var> and <a href="#concept-range-start-offset">start offset</a> is greater than <var>offset</var>, set its <a href="#concept-range-start-node">start node</a> to <var>new node</var> and decrease its <a href="#concept-range-start-offset">start offset</a> by <var>offset</var>. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>node</var> and <a href="#concept-range-end-offset">end offset</a> is greater than <var>offset</var>, set its <a href="#concept-range-end-node">end node</a> to <var>new node</var> and decrease its <a href="#concept-range-end-offset">end offset</a> by <var>offset</var>. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start-node">start node</a> is <var>parent</var> and <a href="#concept-range-start-offset">start offset</a> is equal to the <a href="#concept-tree-index">index</a> of <var>node</var> plus 1,
   increase its <a href="#concept-range-start-offset">start offset</a> by 1. </p>
      <li>
       <p>For each <a href="#concept-live-range">live range</a> whose <a href="#concept-range-end-node">end node</a> is <var>parent</var> and <a href="#concept-range-end-offset">end offset</a> is equal to the <a href="#concept-tree-index">index</a> of <var>node</var> plus 1,
   increase its <a href="#concept-range-end-offset">end offset</a> by 1. </p>
     </ol>
    <li><a href="#concept-cd-replace">Replace data</a> with node <var>node</var>, offset <var>offset</var>, count <var>count</var>, and data the empty string. 
    <li>Return <var>new node</var>. 
   </ol>
   <p>The <dfn class="idl-code" id="dom-text-splittext"><code>splitText(<var>offset</var>)</code></dfn> method, when invoked,
must <a href="#concept-text-split">split</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪④⑥">this</a> with offset <var>offset</var>. </p>
   <p>The <dfn class="idl-code" id="dom-text-wholetext"><code>wholeText</code></dfn> attribute’s getter must return the <a href="https://infra.spec.whatwg.org/#string-concatenate" id="termref-for-①⓪④⑦">concatenation</a> of the <a href="#concept-cd-data">data</a> of the <a href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪④⑧">this</a>, in <a href="#concept-tree-order">tree order</a>. </p>
   <h3 class="heading settled" id="interface-cdatasection"><span class="secno">4.12. </span><span class="content">Interface <code class="idl"><a href="#cdatasection">CDATASection</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪④⑨">Exposed</a>=Window]
interface <dfn class="idl-code" id="cdatasection"><code>CDATASection</code></dfn> : <a class="n" href="#text">Text</a> {
};</pre>
   <h3 class="heading settled" id="interface-processinginstruction"><span class="secno">4.13. </span><span class="content">Interface <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪⑤⓪">Exposed</a>=Window]
interface <dfn class="idl-code" id="processinginstruction"><code>ProcessingInstruction</code></dfn> : <a class="n" href="#characterdata">CharacterData</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪⑤①">DOMString</a> <a class="idl-code" href="#dom-processinginstruction-target">target</a>;
};</pre>
   <p><code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> <a href="#concept-node">nodes</a> have an associated <dfn id="concept-pi-target">target</dfn>.</p>
   <p>The <dfn class="idl-code" id="dom-processinginstruction-target"><code>target</code></dfn> attribute must return the <a href="#concept-pi-target">target</a>.</p>
   <h3 class="heading settled" id="interface-comment"><span class="secno">4.14. </span><span class="content">Interface <code class="idl"><a href="#comment">Comment</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪⑤②">Exposed</a>=Window]
interface <dfn class="idl-code" id="comment"><code>Comment</code></dfn> : <a class="n" href="#characterdata">CharacterData</a> {
  <a class="idl-code" href="#dom-comment-comment">constructor</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①⓪⑤③">DOMString</a> <dfn class="idl-code" id="dom-comment-comment-data-data"><code>data</code></dfn> = "");
};
</pre>
   <dl class="domintro">
    <dt><code><var>comment</var> = new <a class="idl-code" href="#dom-comment-comment">Comment([<var>data</var> = ""])</a></code> 
    <dd>Returns a new <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-comment-comment"><code>Comment(<var>data</var>)</code></dfn> constructor, when
invoked, must return a new <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-cd-data">data</a> is <var>data</var> and <a href="#concept-node-document">node document</a> is <a href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="termref-for-①⓪⑤④">current global object</a>’s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="termref-for-①⓪⑤⑤">associated <code>Document</code></a>. </p>
   <h2 class="heading settled" id="ranges"><span class="secno">5. </span><span class="content">Ranges</span></h2>
   <h3 class="heading settled" id="introduction-to-dom-ranges"><span class="secno">5.1. </span><span class="content">Introduction to "DOM Ranges"</span></h3>
   <p><code class="idl"><a href="#staticrange">StaticRange</a></code> and <code class="idl"><a href="#range">Range</a></code> objects (<a href="#concept-range">ranges</a>) represent a sequence of content within a <a href="#concept-node-tree">node tree</a>. Each <a href="#concept-range">range</a> has a <a href="#concept-range-start">start</a> and an <a href="#concept-range-end">end</a> which
are <a href="#concept-range-bp">boundary points</a>. A <a href="#concept-range-bp">boundary point</a> is a <a href="https://infra.spec.whatwg.org/#tuple" id="termref-for-①⓪⑤⑥">tuple</a> consisting of a <a href="#boundary-point-node">node</a> and an <a href="#concept-range-bp-offset">offset</a>. So in other words, a <a href="#concept-range">range</a> represents a piece of content within a <a href="#concept-node-tree">node tree</a> between two <a href="#concept-range-bp">boundary points</a>. </p>
   <p><a href="#concept-range">Ranges</a> are frequently used in editing for selecting and copying content. </p>
   <ul class="domTree">
    <li class="t1">
     <code class="idl"><a href="#element">Element</a></code>: <code>p</code> 
     <ul>
      <li class="t1"><code class="idl"><a href="#element">Element</a></code>: <code class="lang-markup">&lt;img src="insanity-wolf" alt="Little-endian BOM; decode as big-endian!"></code> 
      <li class="t3"><code class="idl"><a href="#text">Text</a></code>: <span> CSS 2.1 syndata is </span> 
      <li class="t1">
       <code class="idl"><a href="#element">Element</a></code>: <code class="lang-markup">&lt;em></code> 
       <ul>
        <li class="t3"><code class="idl"><a href="#text">Text</a></code>: <span>awesome</span> 
       </ul>
      <li class="t3"><code class="idl"><a href="#text">Text</a></code>: <span>!</span> 
     </ul>
   </ul>
   <p>In the <a href="#concept-node-tree">node tree</a> above, a <a href="#concept-range">range</a> can be used to represent the sequence
“syndata is awes”. Assuming <var>p</var> is assigned to the <code>p</code> <a href="#concept-element">element</a>, and <var>em</var> to the <code>em</code> <a href="#concept-element">element</a>, this would be done as follows: </p>
<pre class="lang-javascript"><code>var range = new Range(),
    firstText = p.childNodes[1],
    secondText = em.firstChild
range.setStart(firstText, 9) // do not forget the leading space
range.setEnd(secondText, 4)
// range now stringifies to the aforementioned quote
</code></pre>
   <p class="note no-backref" role="note"><a href="#concept-attribute">Attributes</a> such as <code>src</code> and <code>alt</code> in the <a href="#concept-node-tree">node tree</a> above cannot be represented by a <a href="#concept-range">range</a>. <a href="#concept-range">Ranges</a> are only useful for <a href="#concept-node">nodes</a>. </p>
   <p><code class="idl"><a href="#range">Range</a></code> objects, unlike <code class="idl"><a href="#staticrange">StaticRange</a></code> objects, are affected by mutations to the <a href="#concept-node-tree">node tree</a>. Therefore they are also known as <a href="#concept-live-range">live ranges</a>. Such mutations will not
invalidate them and will try to ensure that it still represents the same piece of content.
Necessarily, a <a href="#concept-live-range">live range</a> might itself be modified as part of the mutation to the <a href="#concept-node-tree">node tree</a> when, e.g., part of the content it represents is mutated. </p>
   <p class="note no-backref" role="note">See the <a href="#concept-node-insert">insert</a> and <a href="#concept-node-remove">remove</a> algorithms, the <code class="idl"><a href="#dom-node-normalize">normalize()</a></code> method, and the <a href="#concept-cd-replace">replace data</a> and <a href="#concept-text-split">split</a> algorithms for details. </p>
   <p>Updating <a href="#concept-live-range">live ranges</a> in response to <a href="#concept-node-tree">node tree</a> mutations can be expensive. For every <a href="#concept-node-tree">node tree</a> change, all affected <code class="idl"><a href="#range">Range</a></code> objects need to be updated. Even if the application
is uninterested in some <a href="#concept-live-range">live ranges</a>, it still has to pay the cost of keeping them up-to-date
when a mutation occurs. </p>
   <p>A <code class="idl"><a href="#staticrange">StaticRange</a></code> object is a lightweight <a href="#concept-range">range</a> that does not update when the <a href="#concept-node-tree">node tree</a> mutates. It is therefore not subject to the same maintenance cost as <a href="#concept-live-range">live ranges</a>. </p>
   <h3 class="heading settled" id="boundary-points"><span class="secno">5.2. </span><span class="content">Boundary points</span></h3>
   <p>A <dfn id="concept-range-bp">boundary point</dfn> is a <a href="https://infra.spec.whatwg.org/#tuple" id="termref-for-①⓪⑤⑦">tuple</a> consisting of a <dfn id="boundary-point-node">node</dfn> (a <a href="#concept-node">node</a>) and an <dfn id="concept-range-bp-offset">offset</dfn> (a non-negative integer). </p>
   <p class="note no-backref" role="note">A correct <a href="#concept-range-bp">boundary point</a>’s <a href="#concept-range-bp-offset">offset</a> will
be between 0 and the <a href="#concept-range-bp">boundary point</a>’s <a href="#boundary-point-node">node</a>’s <a href="#concept-node-length">length</a>, inclusive. </p>
   <p>The <dfn id="concept-range-bp-position">position</dfn> of a <a href="#concept-range-bp">boundary point</a> (<var>nodeA</var>, <var>offsetA</var>) relative to a <a href="#concept-range-bp">boundary point</a> (<var>nodeB</var>, <var>offsetB</var>) is <dfn id="concept-range-bp-before">before</dfn>, <dfn id="concept-range-bp-equal">equal</dfn>, or <dfn id="concept-range-bp-after">after</dfn>, as returned by these steps: </p>
   <ol>
    <li>
     <p>Assert: <var>nodeA</var> and <var>nodeB</var> have the same <a href="#concept-tree-root">root</a>. </p>
    <li>If <var>nodeA</var> is <var>nodeB</var>, then return <a href="#concept-range-bp-equal">equal</a> if <var>offsetA</var> is <var>offsetB</var>, <a href="#concept-range-bp-before">before</a> if <var>offsetA</var> is less than <var>offsetB</var>, and <a href="#concept-range-bp-after">after</a> if <var>offsetA</var> is
 greater than <var>offsetB</var>. 
    <li>
     <p>If <var>nodeA</var> is <a href="#concept-tree-following">following</a> <var>nodeB</var>, then if the <a href="#concept-range-bp-position">position</a> of (<var>nodeB</var>, <var>offsetB</var>) relative to
 (<var>nodeA</var>, <var>offsetA</var>) is <a href="#concept-range-bp-before">before</a>, return <a href="#concept-range-bp-after">after</a>, and if it is <a href="#concept-range-bp-after">after</a>, return <a href="#concept-range-bp-before">before</a>. </p>
    <li>
     <p>If <var>nodeA</var> is an <a href="#concept-tree-ancestor">ancestor</a> of <var>nodeB</var>: </p>
     <ol>
      <li>
       <p>Let <var>child</var> be <var>nodeB</var>. </p>
      <li>
       <p>While <var>child</var> is not a <a href="#concept-tree-child">child</a> of <var>nodeA</var>, set <var>child</var> to its <a href="#concept-tree-parent">parent</a>. </p>
      <li>
       <p>If <var>child</var>’s <a href="#concept-tree-index">index</a> is less than <var>offsetA</var>, then return <a href="#concept-range-bp-after">after</a>. </p>
     </ol>
    <li>
     <p>Return <a href="#concept-range-bp-before">before</a>. </p>
   </ol>
   <h3 class="heading settled" id="interface-abstractrange"><span class="secno">5.3. </span><span class="content">Interface <code class="idl"><a href="#abstractrange">AbstractRange</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪⑤⑧">Exposed</a>=Window]
interface <dfn class="idl-code" id="abstractrange"><code>AbstractRange</code></dfn> {
  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-range-startcontainer">startContainer</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑤⑨">unsigned long</a> <a class="idl-code" href="#dom-range-startoffset">startOffset</a>;
  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-range-endcontainer">endContainer</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑥⓪">unsigned long</a> <a class="idl-code" href="#dom-range-endoffset">endOffset</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑥①">boolean</a> <a class="idl-code" href="#dom-range-collapsed">collapsed</a>;
};
</pre>
   <p>Objects implementing the <code class="idl"><a href="#abstractrange">AbstractRange</a></code> interface are known as <dfn id="concept-range">ranges</dfn>. </p>
   <p>A <a href="#concept-range">range</a> has two associated <a href="#concept-range-bp">boundary points</a> — a <dfn id="concept-range-start">start</dfn> and <dfn id="concept-range-end">end</dfn>. </p>
   <p>For convenience, a <a href="#concept-range">range</a>’s <dfn id="concept-range-start-node">start node</dfn> is its <a href="#concept-range-start">start</a>’s <a href="#boundary-point-node">node</a>, its <dfn id="concept-range-start-offset">start offset</dfn> is its <a href="#concept-range-start">start</a>’s <a href="#concept-range-bp-offset">offset</a>, its <dfn id="concept-range-end-node">end node</dfn> is its <a href="#concept-range-end">end</a>’s <a href="#boundary-point-node">node</a>,  and its <dfn id="concept-range-end-offset">end offset</dfn> is its <a href="#concept-range-end">end</a>’s <a href="#concept-range-bp-offset">offset</a>. </p>
   <p>A <a href="#concept-range">range</a> is <dfn id="range-collapsed">collapsed</dfn> if its <a href="#concept-range-start-node">start node</a> is its <a href="#concept-range-end-node">end node</a> and its <a href="#concept-range-start-offset">start offset</a> is its <a href="#concept-range-end-offset">end offset</a>. </p>
   <dl class="domintro">
    <dt><code><var>node</var> = <var>range</var> . <a class="idl-code" href="#dom-range-startcontainer">startContainer</a></code> 
    <dd>Returns <var>range</var>’s <a href="#concept-range-start-node">start node</a>. 
    <dt><code><var>offset</var> = <var>range</var> . <a class="idl-code" href="#dom-range-startoffset">startOffset</a></code> 
    <dd>Returns <var>range</var>’s <a href="#concept-range-start-offset">start offset</a>. 
    <dt><code><var>node</var> = <var>range</var> . <a class="idl-code" href="#dom-range-endcontainer">endContainer</a></code> 
    <dd>Returns <var>range</var>’s <a href="#concept-range-end-node">end node</a>. 
    <dt><code><var>offset</var> = <var>range</var> . <a class="idl-code" href="#dom-range-endoffset">endOffset</a></code> 
    <dd>Returns <var>range</var>’s <a href="#concept-range-end-offset">end offset</a>. 
    <dt><code><var>collapsed</var> = <var>range</var> . <a class="idl-code" href="#dom-range-collapsed">collapsed</a></code> 
    <dd>Returns true if <var>range</var> is <a href="#range-collapsed">collapsed</a>, and false otherwise. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-range-startcontainer"><code>startContainer</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪⑥②">this</a>’s <a href="#concept-range-start-node">start node</a>. </p>
   <p>The <dfn class="idl-code" id="dom-range-startoffset"><code>startOffset</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪⑥③">this</a>’s <a href="#concept-range-start-offset">start offset</a>. </p>
   <p>The <dfn class="idl-code" id="dom-range-endcontainer"><code>endContainer</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪⑥④">this</a>’s <a href="#concept-range-end-node">end node</a>. </p>
   <p>The <dfn class="idl-code" id="dom-range-endoffset"><code>endOffset</code></dfn> attribute’s getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪⑥⑤">this</a>’s <a href="#concept-range-end-offset">end offset</a>. </p>
   <p>The <dfn class="idl-code" id="dom-range-collapsed"><code>collapsed</code></dfn> attribute’s getter must return true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-①⓪⑥⑥">this</a> is <a href="#range-collapsed">collapsed</a>, and false
otherwise. </p>
   <h3 class="heading settled" id="interface-staticrange"><span class="secno">5.4. </span><span class="content">Interface <code class="idl"><a href="#staticrange">StaticRange</a></code></span></h3>
<pre class="idl highlight def">dictionary <dfn class="idl-code" id="dictdef-staticrangeinit"><code>StaticRangeInit</code></dfn> {
  required <a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-staticrangeinit-startcontainer"><code>startContainer</code></dfn>;
  required <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑥⑦">unsigned long</a> <dfn class="idl-code" id="dom-staticrangeinit-startoffset"><code>startOffset</code></dfn>;
  required <a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-staticrangeinit-endcontainer"><code>endContainer</code></dfn>;
  required <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑥⑧">unsigned long</a> <dfn class="idl-code" id="dom-staticrangeinit-endoffset"><code>endOffset</code></dfn>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪⑥⑨">Exposed</a>=Window]
interface <dfn class="idl-code" id="staticrange"><code>StaticRange</code></dfn> : <a class="n" href="#abstractrange">AbstractRange</a> {
  <a class="idl-code" href="#dom-staticrange-staticrange">constructor</a>(<a class="n" href="#dictdef-staticrangeinit">StaticRangeInit</a> <dfn class="idl-code" id="dom-staticrange-staticrange-init-init"><code>init</code></dfn>);
};
</pre>
   <dl class="domintro">
    <dt><code><var>staticRange</var> = new <a class="idl-code" href="#dom-staticrange-staticrange">StaticRange</a>(init)</code> 
    <dd>
     <p>Returns a new <a href="#concept-range">range</a> object that does not update when the <a href="#concept-node-tree">node tree</a> mutates. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-staticrange-staticrange"><code>StaticRange(<var>init</var>)</code></dfn> constructor,
when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>init</var>’s <code class="idl"><a href="#dom-staticrangeinit-startcontainer">startContainer</a></code> or <code class="idl"><a href="#dom-staticrangeinit-endcontainer">endContainer</a></code> is a <code class="idl"><a href="#documenttype">DocumentType</a></code> or <code class="idl"><a href="#attr">Attr</a></code> <a href="#concept-node">node</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⓪⑦⓪">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①⓪⑦①">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①⓪⑦②">DOMException</a></code>. </p>
    <li>
     <p>Let <var>staticRange</var> be a new <code class="idl"><a href="#staticrange">StaticRange</a></code> object. </p>
    <li>
     <p>Set <var>staticRange</var>’s <a href="#concept-range-start">start</a> to (<var>init</var>’s <code class="idl"><a href="#dom-staticrangeinit-startcontainer">startContainer</a></code>, <var>init</var>’s <code class="idl"><a href="#dom-staticrangeinit-startoffset">startOffset</a></code>) and <a href="#concept-range-end">end</a> to (<var>init</var>’s <code class="idl"><a href="#dom-staticrangeinit-endcontainer">endContainer</a></code>, <var>init</var>’s <code class="idl"><a href="#dom-staticrangeinit-endoffset">endOffset</a></code>). </p>
    <li>
     <p>Return <var>staticRange</var>. </p>
   </ol>
   <h3 class="heading settled" id="interface-range"><span class="secno">5.5. </span><span class="content">Interface <code class="idl"><a href="#range">Range</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①⓪⑦③">Exposed</a>=Window]
interface <dfn class="idl-code" id="range"><code>Range</code></dfn> : <a class="n" href="#abstractrange">AbstractRange</a> {
  <a class="idl-code" href="#dom-range-range">constructor</a>();

  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-range-commonancestorcontainer">commonAncestorContainer</a>;

  void <a class="idl-code" href="#dom-range-setstart">setStart</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-setstart-node-offset-node"><code>node</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑦④">unsigned long</a> <dfn class="idl-code" id="dom-range-setstart-node-offset-offset"><code>offset</code></dfn>);
  void <a class="idl-code" href="#dom-range-setend">setEnd</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-setend-node-offset-node"><code>node</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑦⑤">unsigned long</a> <dfn class="idl-code" id="dom-range-setend-node-offset-offset"><code>offset</code></dfn>);
  void <a class="idl-code" href="#dom-range-setstartbefore">setStartBefore</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-setstartbefore-node-node"><code>node</code></dfn>);
  void <a class="idl-code" href="#dom-range-setstartafter">setStartAfter</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-setstartafter-node-node"><code>node</code></dfn>);
  void <a class="idl-code" href="#dom-range-setendbefore">setEndBefore</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-setendbefore-node-node"><code>node</code></dfn>);
  void <a class="idl-code" href="#dom-range-setendafter">setEndAfter</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-setendafter-node-node"><code>node</code></dfn>);
  void <a class="idl-code" href="#dom-range-collapse">collapse</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑦⑥">boolean</a> <dfn class="idl-code" id="dom-range-collapse-tostart-tostart"><code>toStart</code></dfn> = false);
  void <a class="idl-code" href="#dom-range-selectnode">selectNode</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-selectnode-node-node"><code>node</code></dfn>);
  void <a class="idl-code" href="#dom-range-selectnodecontents">selectNodeContents</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-selectnodecontents-node-node"><code>node</code></dfn>);

  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①⓪⑦⑦">unsigned short</a> <dfn class="idl-code" id="dom-range-start_to_start"><code>START_TO_START</code></dfn> = 0;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①⓪⑦⑧">unsigned short</a> <dfn class="idl-code" id="dom-range-start_to_end"><code>START_TO_END</code></dfn> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①⓪⑦⑨">unsigned short</a> <dfn class="idl-code" id="dom-range-end_to_end"><code>END_TO_END</code></dfn> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①⓪⑧⓪">unsigned short</a> <dfn class="idl-code" id="dom-range-end_to_start"><code>END_TO_START</code></dfn> = 3;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-short" id="termref-for-①⓪⑧①">short</a> <a class="idl-code" href="#dom-range-compareboundarypoints">compareBoundaryPoints</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①⓪⑧②">unsigned short</a> <dfn class="idl-code" id="dom-range-compareboundarypoints-how-sourcerange-how"><code>how</code></dfn>, <a class="n" href="#range">Range</a> <dfn class="idl-code" id="dom-range-compareboundarypoints-how-sourcerange-sourcerange"><code>sourceRange</code></dfn>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①⓪⑧③">CEReactions</a>] void <a class="idl-code" href="#dom-range-deletecontents">deleteContents</a>();
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①⓪⑧④">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-①⓪⑧⑤">NewObject</a>] <a class="n" href="#documentfragment">DocumentFragment</a> <a class="idl-code" href="#dom-range-extractcontents">extractContents</a>();
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①⓪⑧⑥">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-①⓪⑧⑦">NewObject</a>] <a class="n" href="#documentfragment">DocumentFragment</a> <a class="idl-code" href="#dom-range-clonecontents">cloneContents</a>();
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①⓪⑧⑧">CEReactions</a>] void <a class="idl-code" href="#dom-range-insertnode">insertNode</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-insertnode-node-node"><code>node</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①⓪⑧⑨">CEReactions</a>] void <a class="idl-code" href="#dom-range-surroundcontents">surroundContents</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-surroundcontents-newparent-newparent"><code>newParent</code></dfn>);

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-①⓪⑨⓪">NewObject</a>] <a class="n" href="#range">Range</a> <a class="idl-code" href="#dom-range-clonerange">cloneRange</a>();
  void <a class="idl-code" href="#dom-range-detach">detach</a>();

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑨①">boolean</a> <a class="idl-code" href="#dom-range-ispointinrange">isPointInRange</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-ispointinrange-node-offset-node"><code>node</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑨②">unsigned long</a> <dfn class="idl-code" id="dom-range-ispointinrange-node-offset-offset"><code>offset</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-short" id="termref-for-①⓪⑨③">short</a> <a class="idl-code" href="#dom-range-comparepoint">comparePoint</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-comparepoint-node-offset-node"><code>node</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①⓪⑨④">unsigned long</a> <dfn class="idl-code" id="dom-range-comparepoint-node-offset-offset"><code>offset</code></dfn>);

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①⓪⑨⑤">boolean</a> <a class="idl-code" href="#dom-range-intersectsnode">intersectsNode</a>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-range-intersectsnode-node-node"><code>node</code></dfn>);

  <a href="#dom-range-stringifier">stringifier</a>;
};
</pre>
   <p>Objects implementing the <code class="idl"><a href="#range">Range</a></code> interface are known as <dfn id="concept-live-range">live ranges</dfn>. </p>
   <p class="note" role="note">Algorithms that modify a <a href="#concept-tree">tree</a> (in particular the <a href="#concept-node-insert">insert</a>, <a href="#concept-node-remove">remove</a>, <a href="#concept-cd-replace">replace data</a>, and <a href="#concept-text-split">split</a> algorithms) modify <a href="#concept-live-range">live ranges</a> associated with that <a href="#concept-tree">tree</a>. </p>
   <p>The <dfn id="concept-range-root">root</dfn> of a <a href="#concept-live-range">live range</a> is the <a href="#concept-tree-root">root</a> of its <a href="#concept-range-start-node">start node</a>. </p>
   <p>A <a href="#concept-node">node</a> <var>node</var> is <dfn id="contained">contained</dfn> in a <a href="#concept-live-range">live range</a> <var>range</var> if <var>node</var>’s <a href="#concept-tree-root">root</a> is <var>range</var>’s <a href="#concept-range-root">root</a>, and (<var>node</var>, 0) is <a href="#concept-range-bp-after">after</a> <var>range</var>’s <a href="#concept-range-start">start</a>, and
(<var>node</var>, <var>node</var>’s <a href="#concept-node-length">length</a>) is <a href="#concept-range-bp-before">before</a> <var>range</var>’s <a href="#concept-range-end">end</a>. </p>
   <p>A <a href="#concept-node">node</a> is <dfn id="partially-contained">partially contained</dfn> in a <a href="#concept-live-range">live range</a> if it’s an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of the <a href="#concept-live-range">live range</a>’s <a href="#concept-range-start-node">start node</a> but not its <a href="#concept-range-end-node">end node</a>, or vice versa. </p>
   <div class="note no-backref" role="note">
    <p>Some facts to better understand these definitions: </p>
    <ul>
     <li>
      <p>The content that one would think of as being within the <a href="#concept-live-range">live range</a> consists of all <a href="#contained">contained</a> <a href="#concept-node">nodes</a>, plus possibly some of the contents of the <a href="#concept-range-start-node">start node</a> and <a href="#concept-range-end-node">end node</a> if those are <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#concept-node">nodes</a>. </p>
     <li>
      <p>The <a href="#concept-node">nodes</a> that are contained in a <a href="#concept-live-range">live range</a> will generally not be
  contiguous, because the <a href="#concept-tree-parent">parent</a> of a <a href="#contained">contained</a> <a href="#concept-node">node</a> will not always be <a href="#contained">contained</a>. </p>
     <li>
      <p>However, the <a href="#concept-tree-descendant">descendants</a> of a <a href="#contained">contained</a> <a href="#concept-node">node</a> are <a href="#contained">contained</a>, and if two <a href="#concept-tree-sibling">siblings</a> are <a href="#contained">contained</a>, so are any <a href="#concept-tree-sibling">siblings</a> that lie between them. </p>
     <li>
      <p>The <a href="#concept-range-start-node">start node</a> and <a href="#concept-range-end-node">end node</a> of a <a href="#concept-live-range">live range</a> are
  never <a href="#contained">contained</a> within it. </p>
     <li>
      <p>The first <a href="#contained">contained</a> <a href="#concept-node">node</a> (if there are any) will
  always be after the <a href="#concept-range-start-node">start node</a>, and the last <a href="#contained">contained</a> <a href="#concept-node">node</a> will always be equal to or before the <a href="#concept-range-end-node">end node</a>’s last <a href="#concept-tree-descendant">descendant</a>. </p>
     <li>
      <p>There exists a <a href="#partially-contained">partially contained</a> <a href="#concept-node">node</a> if and only if
  the <a href="#concept-range-start-node">start node</a> and <a href="#concept-range-end-node">end node</a> are different. </p>
     <li>
      <p>The <code class="idl"><a href="#dom-range-commonancestorcontainer">commonAncestorContainer</a></code> attribute value is neither <a href="#contained">contained</a> nor <a href="#partially-contained">partially contained</a>. </p>
     <li>
      <p>If the <a href="#concept-range-start-node">start node</a> is an <a href="#concept-tree-ancestor">ancestor</a> of the <a href="#concept-range-end-node">end node</a>,
  the common <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> will be the <a href="#concept-range-start-node">start node</a>. Exactly one
  of its <a href="#concept-tree-child">children</a> will be <a href="#partially-contained">partially contained</a>, and a <a href="#concept-tree-child">child</a> will be <a href="#contained">contained</a> if and only if it <a href="#concept-tree-preceding">precedes</a> the <a href="#partially-contained">partially contained</a> <a href="#concept-tree-child">child</a>. If the <a href="#concept-range-end-node">end node</a> is an <a href="#concept-tree-ancestor">ancestor</a> of the <a href="#concept-range-start-node">start node</a>, the opposite holds. </p>
     <li>
      <p>If the <a href="#concept-range-start-node">start node</a> is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of the <a href="#concept-range-end-node">end node</a>, nor vice versa, the common <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> will be
  distinct from both of them. Exactly two of its <a href="#concept-tree-child">children</a> will be <a href="#partially-contained">partially contained</a>, and a <a href="#concept-tree-child">child</a> will be contained if and
  only if it lies between those two. </p>
    </ul>
   </div>
   <hr>
   <dl class="domintro">
    <dt><code><var>range</var> = new <a class="idl-code" href="#dom-range-range">Range()</a></code> 
    <dd>Returns a new <a href="#concept-live-range">live range</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-range-range"><code>Range()</code></dfn> constructor, when invoked, must return
a new <a href="#concept-live-range">live range</a> with
(<a href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="termref-for-①⓪⑨⑥">current global object</a>’s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="termref-for-①⓪⑨⑦">associated <code>Document</code></a>, 0) as its <a href="#concept-range-start">start</a> and <a href="#concept-range-end">end</a>. </p>
   <hr>
   <dl class="domintro">
    <dt><var>container</var> = <var>range</var> . <code class="idl"><a href="#dom-range-commonancestorcontainer">commonAncestorContainer</a></code> 
    <dd>Returns the <a href="#boundary-point-node">node</a>, furthest away from
 the <a href="#concept-document">document</a>, that is an <a href="#concept-tree-ancestor">ancestor</a> of both <var>range</var>’s <a href="#concept-range-start-node">start node</a> and <a href="#concept-range-end-node">end node</a>. 
   </dl>
   <p>The <dfn class="idl-code" id="dom-range-commonancestorcontainer"><code>commonAncestorContainer</code></dfn> attribute’s getter must
run these steps: </p>
   <ol>
    <li>Let <var>container</var> be <a href="#concept-range-start-node">start node</a>. 
    <li>While <var>container</var> is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <a href="#concept-range-end-node">end node</a>, let <var>container</var> be <var>container</var>’s <a href="#concept-tree-parent">parent</a>. 
    <li>Return <var>container</var>. 
   </ol>
   <hr>
   <p>To <dfn id="concept-range-bp-set">set the start or end</dfn> of a <var>range</var> to a <a href="#concept-range-bp">boundary point</a> (<var>node</var>, <var>offset</var>), run these
steps: </p>
   <ol>
    <li>If <var>node</var> is a <a href="#concept-doctype">doctype</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①⓪⑨⑧">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①⓪⑨⑨">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⓪⓪">DOMException</a></code>. 
    <li>If <var>offset</var> is greater than <var>node</var>’s <a href="#concept-node-length">length</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⓪①">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#indexsizeerror" id="termref-for-①①⓪②">IndexSizeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⓪③">DOMException</a></code>. 
    <li>Let <var>bp</var> be the <a href="#concept-range-bp">boundary point</a> (<var>node</var>, <var>offset</var>). 
    <li>
     <dl class="switch">
      <dt>If these steps were invoked as "set the start" 
      <dd>
       <ol>
        <li>If <var>bp</var> is <a href="#concept-range-bp-after">after</a> the <var>range</var>’s <a href="#concept-range-end">end</a>, or
     if <var>range</var>’s <a href="#concept-range-root">root</a> is not equal to <var>node</var>’s <a href="#concept-tree-root">root</a>, set <var>range</var>’s <a href="#concept-range-end">end</a> to <var>bp</var>. 
        <li>Set <var>range</var>’s <a href="#concept-range-start">start</a> to <var>bp</var>. 
       </ol>
      <dt>If these steps were invoked as "set the end" 
      <dd>
       <ol>
        <li>If <var>bp</var> is <a href="#concept-range-bp-before">before</a> the <var>range</var>’s <a href="#concept-range-start">start</a>,
     or if <var>range</var>’s <a href="#concept-range-root">root</a> is not equal to <var>node</var>’s <a href="#concept-tree-root">root</a>, set <var>range</var>’s <a href="#concept-range-start">start</a> to <var>bp</var>. 
        <li>Set <var>range</var>’s <a href="#concept-range-end">end</a> to <var>bp</var>. 
       </ol>
     </dl>
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-setstart"><code>setStart(<var>node</var>, <var>offset</var>)</code></dfn> method,
when invoked, must <a href="#concept-range-bp-set">set the start</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⓪④">this</a> to <a href="#concept-range-bp">boundary point</a> (<var>node</var>, <var>offset</var>). </p>
   <p>The <dfn class="idl-code" id="dom-range-setend"><code>setEnd(<var>node</var>, <var>offset</var>)</code></dfn> method,
when invoked, must <a href="#concept-range-bp-set">set the end</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⓪⑤">this</a> to <a href="#concept-range-bp">boundary point</a> (<var>node</var>, <var>offset</var>). </p>
   <p>The <dfn class="idl-code" id="dom-range-setstartbefore"><code>setStartBefore(<var>node</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. 
    <li>If <var>parent</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⓪⑥">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①⓪⑦">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⓪⑧">DOMException</a></code>. 
    <li><a href="#concept-range-bp-set">Set the start</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⓪⑨">this</a> to <a href="#concept-range-bp">boundary point</a> (<var>parent</var>, <var>node</var>’s <a href="#concept-tree-index">index</a>). 
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-setstartafter"><code>setStartAfter(<var>node</var>)</code></dfn> method, when invoked,
must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. </p>
    <li>
     <p>If <var>parent</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①①⓪">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①①①">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①①②">DOMException</a></code>. </p>
    <li>
     <p><a href="#concept-range-bp-set">Set the start</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①①③">this</a> to <a href="#concept-range-bp">boundary point</a> (<var>parent</var>, <var>node</var>’s <a href="#concept-tree-index">index</a> plus 1). </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-setendbefore"><code>setEndBefore(<var>node</var>)</code></dfn>, when invoked, method
must run these steps: </p>
   <ol>
    <li>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. 
    <li>If <var>parent</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①①④">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①①⑤">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①①⑥">DOMException</a></code>. 
    <li><a href="#concept-range-bp-set">Set the end</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①①⑦">this</a> to <a href="#concept-range-bp">boundary point</a> (<var>parent</var>, <var>node</var>’s <a href="#concept-tree-index">index</a>). 
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-setendafter"><code>setEndAfter(<var>node</var>)</code></dfn> method, when invoked,
must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. </p>
    <li>
     <p>If <var>parent</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①①⑧">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①①⑨">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①②⓪">DOMException</a></code>. </p>
    <li>
     <p><a href="#concept-range-bp-set">Set the end</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①②①">this</a> to <a href="#concept-range-bp">boundary point</a> (<var>parent</var>, <var>node</var>’s <a href="#concept-tree-index">index</a> plus 1). </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-collapse"><code>collapse(<var>toStart</var>)</code></dfn> method, when invoked,
must if <var>toStart</var> is true, set <a href="#concept-range-end">end</a> to <a href="#concept-range-start">start</a>, and set <a href="#concept-range-start">start</a> to <a href="#concept-range-end">end</a> otherwise. </p>
   <p>To <dfn id="concept-range-select">select</dfn> a <a href="#concept-node">node</a> <var>node</var> within a <a href="#concept-range">range</a> <var>range</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. </p>
    <li>
     <p>If <var>parent</var> is null, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①②②">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①②③">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①②④">DOMException</a></code>. </p>
    <li>
     <p>Let <var>index</var> be <var>node</var>’s <a href="#concept-tree-index">index</a>. </p>
    <li>
     <p>Set <var>range</var>’s <a href="#concept-range-start">start</a> to <a href="#concept-range-bp">boundary point</a> (<var>parent</var>, <var>index</var>). </p>
    <li>
     <p>Set <var>range</var>’s <a href="#concept-range-end">end</a> to <a href="#concept-range-bp">boundary point</a> (<var>parent</var>, <var>index</var> plus 1). </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-selectnode"><code>selectNode(<var>node</var>)</code></dfn> method, when invoked,
must <a href="#concept-range-select">select</a> <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①②⑤">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-range-selectnodecontents"><code>selectNodeContents(<var>node</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>If <var>node</var> is a <a href="#concept-doctype">doctype</a>, <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①②⑥">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①②⑦">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①②⑧">DOMException</a></code>. 
    <li>Let <var>length</var> be the <a href="#concept-node-length">length</a> of <var>node</var>. 
    <li>Set <a href="#concept-range-start">start</a> to the <a href="#concept-range-bp">boundary point</a> (<var>node</var>, 0). 
    <li>Set <a href="#concept-range-end">end</a> to the <a href="#concept-range-bp">boundary point</a> (<var>node</var>, <var>length</var>). 
   </ol>
   <hr>
   <p>The <dfn class="idl-code" id="dom-range-compareboundarypoints"><code>compareBoundaryPoints(<var>how</var>, <var>sourceRange</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>how</var> is not one of </p>
     <ul class="brief">
      <li><code class="idl"><a href="#dom-range-start_to_start">START_TO_START</a></code>, 
      <li><code class="idl"><a href="#dom-range-start_to_end">START_TO_END</a></code>, 
      <li><code class="idl"><a href="#dom-range-end_to_end">END_TO_END</a></code>, and 
      <li><code class="idl"><a href="#dom-range-end_to_start">END_TO_START</a></code>, 
     </ul>
     <p>then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①②⑨">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#notsupportederror" id="termref-for-①①③⓪">NotSupportedError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①③①">DOMException</a></code>. </p>
    <li>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①③②">this</a>’s <a href="#concept-range-root">root</a> is not the same as <var>sourceRange</var>’s <a href="#concept-range-root">root</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①③③">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#wrongdocumenterror" id="termref-for-①①③④">WrongDocumentError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①③⑤">DOMException</a></code>. 
    <li>
      If <var>how</var> is: 
     <dl class="switch">
      <dt><code class="idl"><a href="#dom-range-start_to_start">START_TO_START</a></code>: 
      <dd> Let <var>this point</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①③⑥">this</a>’s <a href="#concept-range-start">start</a>.
    Let <var>other point</var> be <var>sourceRange</var>’s <a href="#concept-range-start">start</a>. 
      <dt><code class="idl"><a href="#dom-range-start_to_end">START_TO_END</a></code>: 
      <dd> Let <var>this point</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①③⑦">this</a>’s <a href="#concept-range-end">end</a>.
    Let <var>other point</var> be <var>sourceRange</var>’s <a href="#concept-range-start">start</a>. 
      <dt><code class="idl"><a href="#dom-range-end_to_end">END_TO_END</a></code>: 
      <dd> Let <var>this point</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①③⑧">this</a>’s <a href="#concept-range-end">end</a>.
     Let <var>other point</var> be <var>sourceRange</var>’s <a href="#concept-range-end">end</a>. 
      <dt><code class="idl"><a href="#dom-range-end_to_start">END_TO_START</a></code>: 
      <dd> Let <var>this point</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①③⑨">this</a>’s <a href="#concept-range-start">start</a>.
     Let <var>other point</var> be <var>sourceRange</var>’s <a href="#concept-range-end">end</a>. 
     </dl>
    <li>
     <p>If the <a href="#concept-range-bp-position">position</a> of <var>this point</var> relative to <var>other point</var> is </p>
     <dl class="switch">
      <dt><a href="#concept-range-bp-before">before</a> 
      <dd>Return −1. 
      <dt><a href="#concept-range-bp-equal">equal</a> 
      <dd>Return 0. 
      <dt><a href="#concept-range-bp-after">after</a> 
      <dd>Return 1. 
     </dl>
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-deletecontents"><code>deleteContents()</code></dfn> method, when invoked, must
run these steps: </p>
   <ol>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①④⓪">this</a> is <a href="#range-collapsed">collapsed</a>, then return. </p>
    <li>Let <var>original start node</var>, <var>original start offset</var>, <var>original end node</var>,
 and <var>original end offset</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①④①">this</a>’s <a href="#concept-range-start-node">start node</a>, <a href="#concept-range-start-offset">start offset</a>, <a href="#concept-range-end-node">end node</a>, and <a href="#concept-range-end-offset">end offset</a>, respectively. 
    <li>If <var>original start node</var> and <var>original end node</var> are the same, and they are a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>, <a href="#concept-cd-replace">replace data</a> with node <var>original start node</var>, offset <var>original start offset</var>, count <var>original end offset</var> minus <var>original start offset</var>, and data the empty string, and then return. 
    <li>Let <var>nodes to remove</var> be a list of all the <a href="#concept-node">nodes</a> that are <a href="#contained">contained</a> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①④②">this</a>, in <a href="#concept-tree-order">tree order</a>, omitting any <a href="#boundary-point-node">node</a> whose <a href="#concept-tree-parent">parent</a> is also <a href="#contained">contained</a> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①④③">this</a>. 
    <li>If <var>original start node</var> is an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>new node</var> to <var>original start node</var> and <var>new offset</var> to <var>original start offset</var>. 
    <li>
      Otherwise: 
     <ol>
      <li>Let <var>reference node</var> equal <var>original start node</var>. 
      <li>While <var>reference node</var>’s <a href="#concept-tree-parent">parent</a> is not null and is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>reference node</var> to its <a href="#concept-tree-parent">parent</a>. 
      <li>
        Set <var>new node</var> to the <a href="#concept-tree-parent">parent</a> of <var>reference node</var>, and <var>new offset</var> to one
    plus the <a href="#concept-tree-index">index</a> of <var>reference node</var>. 
       <p class="note no-backref" role="note">If <var>reference node</var>’s <a href="#concept-tree-parent">parent</a> were null, it would be the <a href="#concept-range-root">root</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①④④">this</a>, so would be an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, and we could not reach this point. </p>
     </ol>
    <li>If <var>original start node</var> is a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>, <a href="#concept-cd-replace">replace data</a> with node <var>original start node</var>, offset <var>original start offset</var>, count <var>original start node</var>’s <a href="#concept-node-length">length</a> minus <var>original start offset</var>, data the empty string. 
    <li>
     <p>For each <var>node</var> in <var>nodes to remove</var>, in <a href="#concept-tree-order">tree order</a>, <a href="#concept-node-remove">remove</a> <var>node</var>. </p>
    <li>If <var>original end node</var> is a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>, <a href="#concept-cd-replace">replace data</a> with node <var>original end node</var>, offset 0, count <var>original end offset</var> and data the empty string. 
    <li>Set <a href="#concept-range-start">start</a> and <a href="#concept-range-end">end</a> to
 (<var>new node</var>, <var>new offset</var>). 
   </ol>
   <p>To <dfn id="concept-range-extract">extract</dfn> a <a href="#concept-live-range">live range</a> <var>range</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>fragment</var> be a new <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#concept-node">node</a> whose <a href="#concept-node-document">node document</a> is <var>range</var>’s <a href="#concept-range-start-node">start node</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p>If <var>range</var> is <a href="#range-collapsed">collapsed</a>, then return <var>fragment</var>. </p>
    <li>Let <var>original start node</var>, <var>original start offset</var>, <var>original end node</var>, and <var>original end offset</var> be <var>range</var>’s <a href="#concept-range-start-node">start node</a>, <a href="#concept-range-start-offset">start offset</a>, <a href="#concept-range-end-node">end node</a>, and <a href="#concept-range-end-offset">end offset</a>, respectively. 
    <li>
      If <var>original start node</var> is <var>original end node</var>, and they are a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>: 
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>original start node</var>. 
      <li>Set the <a href="#concept-cd-data">data</a> of <var>clone</var> to the result of <a href="#concept-cd-substring">substringing data</a> with node <var>original start node</var>, offset <var>original start offset</var>, and count <var>original end offset</var> minus <var>original start offset</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li><a href="#concept-cd-replace">Replace data</a> with node <var>original start node</var>, offset <var>original start offset</var>, count <var>original end offset</var> minus <var>original start offset</var>, and data the empty string. 
      <li>Return <var>fragment</var>. 
     </ol>
    <li>Let <var>common ancestor</var> be <var>original start node</var>. 
    <li>While <var>common ancestor</var> is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>common ancestor</var> to
 its own <a href="#concept-tree-parent">parent</a>. 
    <li>Let <var>first partially contained child</var> be null. 
    <li>If <var>original start node</var> is <em>not</em> an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>first partially contained child</var> to the first <a href="#concept-tree-child">child</a> of <var>common ancestor</var> that is <a href="#partially-contained">partially contained</a> in <var>range</var>. 
    <li>Let <var>last partially contained child</var> be null. 
    <li>
      If <var>original end node</var> is <em>not</em> an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original start node</var>, set <var>last partially contained child</var> to the last <a href="#concept-tree-child">child</a> of <var>common ancestor</var> that is <a href="#partially-contained">partially contained</a> in <var>range</var>. 
     <p class="note no-backref" role="note">These variable assignments do actually always make sense.
  For instance, if <var>original start node</var> is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, <var>original start node</var> is itself <a href="#partially-contained">partially contained</a> in <var>range</var>, and so are all its <a href="#concept-tree-ancestor">ancestors</a> up until a <a href="#concept-tree-child">child</a> of <var>common ancestor</var>. <var>common ancestor</var> cannot be <var>original start node</var>, because
  it has to be an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>. The other case is similar. Also, notice that the two <a href="#concept-tree-child">children</a> will never be equal if both are defined. </p>
    <li>Let <var>contained children</var> be a list of all <a href="#concept-tree-child">children</a> of <var>common ancestor</var> that are <a href="#contained">contained</a> in <var>range</var>, in <a href="#concept-tree-order">tree order</a>. 
    <li>
     <p>If any member of <var>contained children</var> is a <a href="#concept-doctype">doctype</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①④⑤">throw</a> a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-①①④⑥">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①④⑦">DOMException</a></code>. </p>
     <p class="note no-backref" role="note">We do not have to worry about the first or last partially
  contained node, because a <a href="#concept-doctype">doctype</a> can never be
  partially contained. It cannot be a boundary point of a range, and it
  cannot be the ancestor of anything. </p>
    <li>If <var>original start node</var> is an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>new node</var> to <var>original start node</var> and <var>new offset</var> to <var>original start offset</var>. 
    <li>
      Otherwise: 
     <ol>
      <li>Let <var>reference node</var> equal <var>original start node</var>. 
      <li>While <var>reference node</var>’s <a href="#concept-tree-parent">parent</a> is not null and is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>reference node</var> to its <a href="#concept-tree-parent">parent</a>. 
      <li>
        Set <var>new node</var> to the <a href="#concept-tree-parent">parent</a> of <var>reference node</var>, and <var>new offset</var> to one plus <var>reference node</var>’s <a href="#concept-tree-index">index</a>. 
       <p class="note no-backref" role="note">If <var>reference node</var>’s <a href="#concept-tree-parent">parent</a> is null, it would be the <a href="#concept-range-root">root</a> of <var>range</var>, so would be an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, and we could not reach this point. </p>
     </ol>
    <li>
      If <var>first partially contained child</var> is a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>: 
     <p class="note no-backref" role="note">In this case, <var>first partially contained child</var> is <var>original start node</var>. </p>
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>original start node</var>. 
      <li>Set the <a href="#concept-cd-data">data</a> of <var>clone</var> to the result of <a href="#concept-cd-substring">substringing data</a> with node <var>original start node</var>, offset <var>original start offset</var>, and count <var>original start node</var>’s <a href="#concept-node-length">length</a> minus <var>original start offset</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li><a href="#concept-cd-replace">Replace data</a> with node <var>original start node</var>, offset <var>original start offset</var>, count <var>original start node</var>’s <a href="#concept-node-length">length</a> minus <var>original start offset</var>, and data the empty string. 
     </ol>
    <li>
      Otherwise, if <var>first partially contained child</var> is not
  null: 
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>first partially contained child</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li>Let <var>subrange</var> be a new <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start">start</a> is
   (<var>original start node</var>, <var>original start offset</var>) and
   whose <a href="#concept-range-end">end</a> is
   (<var>first partially contained child</var>, <var>first partially contained child</var>’s <a href="#concept-node-length">length</a>). 
      <li>
       <p>Let <var>subfragment</var> be the result of <a href="#concept-range-extract">extracting</a> <var>subrange</var>. </p>
      <li><a href="#concept-node-append">Append</a> <var>subfragment</var> to <var>clone</var>. 
     </ol>
    <li>For each <var>contained child</var> in <var>contained children</var>, <a href="#concept-node-append">append</a> <var>contained child</var> to <var>fragment</var>. 
    <li>
      If <var>last partially contained child</var> is a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>: 
     <p class="note no-backref" role="note">In this case, <var>last partially contained child</var> is <var>original end node</var>. </p>
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>original end node</var>. 
      <li>Set the <a href="#concept-cd-data">data</a> of <var>clone</var> to the result of <a href="#concept-cd-substring">substringing data</a> with node <var>original end node</var>, offset 0, and count <var>original end offset</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li><a href="#concept-cd-replace">Replace data</a> with node <var>original end node</var>, offset 0, count <var>original end offset</var>, and data the empty string. 
     </ol>
    <li>
      Otherwise, if <var>last partially contained child</var> is not
  null: 
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>last partially contained child</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li>Let <var>subrange</var> be a new <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start">start</a> is
   (<var>last partially contained child</var>, 0) and whose <a href="#concept-range-end">end</a> is
   (<var>original end node</var>, <var>original end offset</var>). 
      <li>
       <p>Let <var>subfragment</var> be the result of <a href="#concept-range-extract">extracting</a> <var>subrange</var>. </p>
      <li><a href="#concept-node-append">Append</a> <var>subfragment</var> to <var>clone</var>. 
     </ol>
    <li>Set <var>range</var>’s <a href="#concept-range-start">start</a> and <a href="#concept-range-end">end</a> to
 (<var>new node</var>, <var>new offset</var>). 
    <li>Return <var>fragment</var>. 
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-extractcontents"><code>extractContents()</code></dfn> method, when invoked, must return
the result of <a href="#concept-range-extract">extracting</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①④⑧">this</a>. </p>
   <p>To <dfn id="concept-range-clone">clone the contents</dfn> of a <a href="#concept-live-range">live range</a> <var>range</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>fragment</var> be a new <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#concept-node">node</a> whose <a href="#concept-node-document">node document</a> is <var>range</var>’s <a href="#concept-range-start-node">start node</a>’s <a href="#concept-node-document">node document</a>. </p>
    <li>
     <p>If <var>range</var> is <a href="#range-collapsed">collapsed</a>, then return <var>fragment</var>. </p>
    <li>Let <var>original start node</var>, <var>original start offset</var>, <var>original end node</var>, and <var>original end offset</var> be <var>range</var>’s <a href="#concept-range-start-node">start node</a>, <a href="#concept-range-start-offset">start offset</a>, <a href="#concept-range-end-node">end node</a>, and <a href="#concept-range-end-offset">end offset</a>, respectively. 
    <li>
      If <var>original start node</var> is <var>original end node</var>, and they are a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>: 
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>original start node</var>. 
      <li>Set the <a href="#concept-cd-data">data</a> of <var>clone</var> to the result of <a href="#concept-cd-substring">substringing data</a> with node <var>original start node</var>, offset <var>original start offset</var>, and count <var>original end offset</var> minus <var>original start offset</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li>Return <var>fragment</var>. 
     </ol>
    <li>Let <var>common ancestor</var> be <var>original start node</var>. 
    <li>While <var>common ancestor</var> is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>common ancestor</var> to its own <a href="#concept-tree-parent">parent</a>. 
    <li>Let <var>first partially contained child</var> be null. 
    <li>If <var>original start node</var> is <em>not</em> an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, set <var>first partially contained child</var> to the first <a href="#concept-tree-child">child</a> of <var>common ancestor</var> that is <a href="#partially-contained">partially contained</a> in <var>range</var>. 
    <li>Let <var>last partially contained child</var> be null. 
    <li>
      If <var>original end node</var> is <em>not</em> an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original start node</var>, set <var>last partially contained child</var> to the last <a href="#concept-tree-child">child</a> of <var>common ancestor</var> that is <a href="#partially-contained">partially contained</a> in <var>range</var>. 
     <p class="note no-backref" role="note">These variable assignments do actually always make sense.
  For instance, if <var>original start node</var> is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>, <var>original start node</var> is itself <a href="#partially-contained">partially contained</a> in <var>range</var>, and so are all its <a href="#concept-tree-ancestor">ancestors</a> up until a <a href="#concept-tree-child">child</a> of <var>common ancestor</var>. <var>common ancestor</var> cannot be <var>original start node</var>, because
  it has to be an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>original end node</var>. The other case is similar. Also, notice that the two <a href="#concept-tree-child">children</a> will never be equal if both are defined. </p>
    <li>Let <var>contained children</var> be a list of all <a href="#concept-tree-child">children</a> of <var>common ancestor</var> that are <a href="#contained">contained</a> in <var>range</var>, in <a href="#concept-tree-order">tree order</a>. 
    <li>
     <p>If any member of <var>contained children</var> is a <a href="#concept-doctype">doctype</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①④⑨">throw</a> a
  "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-①①⑤⓪">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑤①">DOMException</a></code>. </p>
     <p class="note no-backref" role="note">We do not have to worry about the first or last partially
  contained node, because a <a href="#concept-doctype">doctype</a> can never be
  partially contained. It cannot be a boundary point of a range, and it
  cannot be the ancestor of anything. </p>
    <li>
      If <var>first partially contained child</var> is a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>: 
     <p class="note no-backref" role="note">In this case, <var>first partially contained child</var> is <var>original start node</var>. </p>
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>original start node</var>. 
      <li>Set the <a href="#concept-cd-data">data</a> of <var>clone</var> to the result of <a href="#concept-cd-substring">substringing data</a> with node <var>original start node</var>, offset <var>original start offset</var>, and count <var>original start node</var>’s <a href="#concept-node-length">length</a> minus <var>original start offset</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
     </ol>
    <li>
      Otherwise, if <var>first partially contained child</var> is not
  null: 
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>first partially contained child</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li>Let <var>subrange</var> be a new <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start">start</a> is
   (<var>original start node</var>, <var>original start offset</var>) and
   whose <a href="#concept-range-end">end</a> is
   (<var>first partially contained child</var>, <var>first partially contained child</var>’s <a href="#concept-node-length">length</a>). 
      <li>
       <p>Let <var>subfragment</var> be the result of <a href="#concept-range-clone">cloning the contents</a> of <var>subrange</var>. </p>
      <li><a href="#concept-node-append">Append</a> <var>subfragment</var> to <var>clone</var>. 
     </ol>
    <li>
      For each <var>contained child</var> in <var>contained children</var>: 
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>contained child</var> with the <i>clone children flag</i> set. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
     </ol>
    <li>
      If <var>last partially contained child</var> is a <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>: 
     <p class="note no-backref" role="note">In this case, <var>last partially contained child</var> is <var>original end node</var>. </p>
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>original end node</var>. 
      <li>Set the <a href="#concept-cd-data">data</a> of <var>clone</var> to the result of <a href="#concept-cd-substring">substringing data</a> with node <var>original end node</var>, offset 0, and count <var>original end offset</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
     </ol>
    <li>
      Otherwise, if <var>last partially contained child</var> is not
  null: 
     <ol>
      <li>Let <var>clone</var> be a <a href="#concept-node-clone">clone</a> of <var>last partially contained child</var>. 
      <li><a href="#concept-node-append">Append</a> <var>clone</var> to <var>fragment</var>. 
      <li>Let <var>subrange</var> be a new <a href="#concept-live-range">live range</a> whose <a href="#concept-range-start">start</a> is
   (<var>last partially contained child</var>, 0) and whose <a href="#concept-range-end">end</a> is
   (<var>original end node</var>, <var>original end offset</var>). 
      <li>
       <p>Let <var>subfragment</var> be the result of <a href="#concept-range-clone">cloning the contents</a> of <var>subrange</var>. </p>
      <li><a href="#concept-node-append">Append</a> <var>subfragment</var> to <var>clone</var>. 
     </ol>
    <li>Return <var>fragment</var>. 
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-clonecontents"><code>cloneContents()</code></dfn> method, when invoked, must return
the result of <a href="#concept-range-clone">cloning the contents</a> of <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑤②">this</a>. </p>
   <p>To <dfn id="concept-range-insert">insert</dfn> a <a href="#concept-node">node</a> <var>node</var> into a <a href="#concept-live-range">live range</a> <var>range</var>, run these steps: </p>
   <ol>
    <li>If <var>range</var>’s <a href="#concept-range-start-node">start node</a> is a <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a href="#comment">Comment</a></code> <a href="#boundary-point-node">node</a>, is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> whose <a href="#concept-tree-parent">parent</a> is null, or is <var>node</var>,
 then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑤③">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#hierarchyrequesterror" id="termref-for-①①⑤④">HierarchyRequestError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑤⑤">DOMException</a></code>. 
    <li>Let <var>referenceNode</var> be null. 
    <li>If <var>range</var>’s <a href="#concept-range-start-node">start node</a> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>,
 set <var>referenceNode</var> to that <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>. 
    <li>Otherwise, set <var>referenceNode</var> to the <a href="#concept-tree-child">child</a> of <a href="#concept-range-start-node">start node</a> whose <a href="#concept-tree-index">index</a> is <a href="#concept-range-start-offset">start offset</a>, and null if
 there is no such <a href="#concept-tree-child">child</a>. 
    <li>Let <var>parent</var> be <var>range</var>’s <a href="#concept-range-start-node">start node</a> if <var>referenceNode</var> is null, and <var>referenceNode</var>’s <a href="#concept-tree-parent">parent</a> otherwise. 
    <li><a href="#concept-node-ensure-pre-insertion-validity">Ensure pre-insertion validity</a> of <var>node</var> into <var>parent</var> before <var>referenceNode</var>. 
    <li>If <var>range</var>’s <a href="#concept-range-start-node">start node</a> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, set <var>referenceNode</var> to the result of <a href="#concept-text-split">splitting</a> it with
 offset <var>range</var>’s <a href="#concept-range-start-offset">start offset</a>. 
    <li>If <var>node</var> is <var>referenceNode</var>, set <var>referenceNode</var> to its <a href="#concept-tree-next-sibling">next sibling</a>. 
    <li>
     <p>If <var>node</var>’s <a href="#concept-tree-parent">parent</a> is non-null, then <a href="#concept-node-remove">remove</a> <var>node</var>. </p>
    <li>Let <var>newOffset</var> be <var>parent</var>’s <a href="#concept-node-length">length</a> if <var>referenceNode</var> is null,
 and <var>referenceNode</var>’s <a href="#concept-tree-index">index</a> otherwise. 
    <li>Increase <var>newOffset</var> by <var>node</var>’s <a href="#concept-node-length">length</a> if <var>node</var> is a <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#boundary-point-node">node</a>, and one otherwise. 
    <li><a href="#concept-node-pre-insert">Pre-insert</a> <var>node</var> into <var>parent</var> before <var>referenceNode</var>. 
    <li>
     <p>If <var>range</var> is <a href="#range-collapsed">collapsed</a>, then set <var>range</var>’s <a href="#concept-range-end">end</a> to (<var>parent</var>, <var>newOffset</var>). </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-insertnode"><code>insertNode(<var>node</var>)</code></dfn> method, when invoked,
must <a href="#concept-range-insert">insert</a> <var>node</var> into <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑤⑥">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-range-surroundcontents"><code>surroundContents(<var>newParent</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If a non-<code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a> is <a href="#partially-contained">partially contained</a> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑤⑦">this</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑤⑧">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidstateerror" id="termref-for-①①⑤⑨">InvalidStateError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑥⓪">DOMException</a></code>. </p>
    <li>
     <p>If <var>newParent</var> is a <code class="idl"><a href="#document">Document</a></code>, <code class="idl"><a href="#documenttype">DocumentType</a></code>, or <code class="idl"><a href="#documentfragment">DocumentFragment</a></code> <a href="#concept-node">node</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑥①">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①⑥②">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑥③">DOMException</a></code>. </p>
     <p class="note" role="note">For historical reasons <code class="idl"><a href="#text">Text</a></code>, <code class="idl"><a href="#processinginstruction">ProcessingInstruction</a></code>, and <code class="idl"><a href="#comment">Comment</a></code> <a href="#concept-node">nodes</a> are not checked here and end up throwing later on as a side effect. </p>
    <li>
     <p>Let <var>fragment</var> be the result of <a href="#concept-live-range">extracting</a> <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑥④">this</a>. </p>
    <li>
     <p>If <var>newParent</var> has <a href="#concept-tree-child">children</a>, then <a href="#concept-node-replace-all">replace all</a> with null
 within <var>newParent</var>. </p>
    <li>
     <p><a href="#concept-range-insert">Insert</a> <var>newParent</var> into <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑥⑤">this</a>. </p>
    <li>
     <p><a href="#concept-node-append">Append</a> <var>fragment</var> to <var>newParent</var>. </p>
    <li>
     <p><a href="#concept-range-select">Select</a> <var>newParent</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑥⑥">this</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-range-clonerange"><code>cloneRange()</code></dfn> method, when invoked, must return a new <a href="#concept-live-range">live range</a> with the same <a href="#concept-range-start">start</a> and <a href="#concept-range-end">end</a> as <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑥⑦">this</a>. </p>
   <p>The <dfn class="idl-code" id="dom-range-detach"><code>detach()</code></dfn> method, when invoked, must do nothing. <span class="note">Its functionality (disabling a <code class="idl"><a href="#range">Range</a></code> object) was removed, but the method itself
is preserved for compatibility.</span> </p>
   <hr>
   <dl class="domintro">
    <dt><var>position</var> = <var>range</var> . <code class="idl"><a href="#dom-range-comparepoint">comparePoint(node, offset)</a></code> 
    <dd>Returns −1 if the point is before the range, 0 if the point is
 in the range, and 1 if the point is after the range. 
    <dt><var>intersects</var> = <var>range</var> . <code class="idl"><a href="#dom-range-intersectsnode">intersectsNode(node)</a></code> 
    <dd>Returns whether <var>range</var> intersects <var>node</var>. 
   </dl>
   <div class="impl">
    <p>The <dfn class="idl-code" id="dom-range-ispointinrange"><code>isPointInRange(<var>node</var>, <var>offset</var>)</code></dfn> method, when invoked, must run these steps: </p>
    <ol>
     <li>If <var>node</var>’s <a href="#concept-tree-root">root</a> is different from <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑥⑧">this</a>’s <a href="#concept-range-root">root</a>, return false. 
     <li>If <var>node</var> is a <a href="#concept-doctype">doctype</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑥⑨">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①⑦⓪">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑦①">DOMException</a></code>. 
     <li>If <var>offset</var> is greater than <var>node</var>’s <a href="#concept-node-length">length</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑦②">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#indexsizeerror" id="termref-for-①①⑦③">IndexSizeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑦④">DOMException</a></code>. 
     <li>If (<var>node</var>, <var>offset</var>) is <a href="#concept-range-bp-before">before</a> <a href="#concept-range-start">start</a> or <a href="#concept-range-bp-after">after</a> <a href="#concept-range-end">end</a>, return false. 
     <li>Return true. 
    </ol>
    <p>The <dfn class="idl-code" id="dom-range-comparepoint"><code>comparePoint(<var>node</var>, <var>offset</var>)</code></dfn> method, when invoked, must run these steps: </p>
    <ol>
     <li>If <var>node</var>’s <a href="#concept-tree-root">root</a> is different from <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑦⑤">this</a>’s <a href="#concept-range-root">root</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑦⑥">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#wrongdocumenterror" id="termref-for-①①⑦⑦">WrongDocumentError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑦⑧">DOMException</a></code>. 
     <li>If <var>node</var> is a <a href="#concept-doctype">doctype</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑦⑨">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidnodetypeerror" id="termref-for-①①⑧⓪">InvalidNodeTypeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑧①">DOMException</a></code>. 
     <li>If <var>offset</var> is greater than <var>node</var>’s <a href="#concept-node-length">length</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①①⑧②">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#indexsizeerror" id="termref-for-①①⑧③">IndexSizeError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑧④">DOMException</a></code>. 
     <li>If (<var>node</var>, <var>offset</var>) is <a href="#concept-range-bp-before">before</a> <a href="#concept-range-start">start</a>, return −1. 
     <li>If (<var>node</var>, <var>offset</var>) is <a href="#concept-range-bp-after">after</a> <a href="#concept-range-end">end</a>, return 1. 
     <li>Return 0. 
    </ol>
    <hr>
    <p>The <dfn class="idl-code" id="dom-range-intersectsnode"><code>intersectsNode(<var>node</var>)</code></dfn> method, when
invoked, must run these steps: </p>
    <ol>
     <li>If <var>node</var>’s <a href="#concept-tree-root">root</a> is different from <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑧⑤">this</a>’s <a href="#concept-range-root">root</a>, return false. 
     <li>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. 
     <li>If <var>parent</var> is null, return true. 
     <li>Let <var>offset</var> be <var>node</var>’s <a href="#concept-tree-index">index</a>. 
     <li>If (<var>parent</var>, <var>offset</var>) is <a href="#concept-range-bp-before">before</a> <a href="#concept-range-end">end</a> and (<var>parent</var>, <var>offset</var> plus 1) is <a href="#concept-range-bp-after">after</a> <a href="#concept-range-start">start</a>, return true. 
     <li>Return false. 
    </ol>
   </div>
   <hr>
   <p>The <dfn id="dom-range-stringifier">stringification behavior</dfn> must run
these steps: </p>
   <ol>
    <li>
     <p>Let <var>s</var> be the empty string. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑧⑥">this</a>’s <a href="#concept-range-start-node">start node</a> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑧⑦">this</a>’s <a href="#concept-range-end-node">end node</a> and
 it is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, then return the substring of that <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>’s <a href="#concept-cd-data">data</a> beginning at <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑧⑧">this</a>’s <a href="#concept-range-start-offset">start offset</a> and ending
 at <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑧⑨">this</a>’s <a href="#concept-range-end-offset">end offset</a>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑨⓪">this</a>’s <a href="#concept-range-start-node">start node</a> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, then append the
 substring of that <a href="#boundary-point-node">node</a>’s <a href="#concept-cd-data">data</a> from <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑨①">this</a>’s <a href="#concept-range-start-offset">start offset</a> until the end to <var>s</var>. </p>
    <li>
     <p>Append the <a href="https://infra.spec.whatwg.org/#string-concatenate" id="termref-for-①①⑨②">concatenation</a> of the <a href="#concept-cd-data">data</a> of all <code class="idl"><a href="#text">Text</a></code> <a href="#concept-node">nodes</a> that are <a href="#contained">contained</a> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑨③">this</a>, in <a href="#concept-tree-order">tree order</a>, to <var>s</var>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑨④">this</a>’s <a href="#concept-range-end-node">end node</a> is a <code class="idl"><a href="#text">Text</a></code> <a href="#boundary-point-node">node</a>, then
 append the substring of that <a href="#boundary-point-node">node</a>’s <a href="#concept-cd-data">data</a> from its start until <a href="https://heycam.github.io/webidl/#this" id="termref-for-①①⑨⑤">this</a>’s <a href="#concept-range-end-offset">end offset</a> to <var>s</var>. </p>
    <li>
     <p>Return <var>s</var>. </p>
   </ol>
   <hr>
   <p class="note no-backref" role="note">The <code class="idl"><a href="https://w3c.github.io/DOM-Parsing/#dfn-createcontextualfragment-fragment">createContextualFragment()</a></code>, <code class="idl"><a href="https://drafts.csswg.org/cssom-view-1/#dom-range-getclientrects" id="termref-for-①①⑨⑥">getClientRects()</a></code>,
and <code class="idl"><a href="https://drafts.csswg.org/cssom-view-1/#dom-range-getboundingclientrect" id="termref-for-①①⑨⑦">getBoundingClientRect()</a></code> methods are defined in other specifications. <a href="#biblio-dom-parsing">[DOM-Parsing]</a> <a href="#biblio-cssom-view">[CSSOM-VIEW]</a> </p>
   <h2 class="heading settled" id="traversal"><span class="secno">6. </span><span class="content">Traversal</span></h2>
   <p><code class="idl"><a href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a href="#treewalker">TreeWalker</a></code> objects can be used to filter and traverse <a href="#concept-node">node</a> <a href="#concept-tree">trees</a>. </p>
   <p>Each <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a href="#treewalker">TreeWalker</a></code> object has an associated <dfn id="concept-traversal-active">active flag</dfn> to avoid recursive
invocations. It is initially unset. </p>
   <p>Each <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a href="#treewalker">TreeWalker</a></code> object also has an associated <dfn id="concept-traversal-root">root</dfn> (a <a href="#concept-node">node</a>), a <dfn id="concept-traversal-whattoshow">whatToShow</dfn> (a bitmask), and a <dfn id="concept-traversal-filter">filter</dfn> (a callback). </p>
   <p>To <dfn id="concept-node-filter">filter</dfn> a <a href="#concept-node">node</a> <var>node</var> within
a <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> or <code class="idl"><a href="#treewalker">TreeWalker</a></code> object <var>traverser</var>, run these steps: </p>
   <ol>
    <li>
     <p>If <var>traverser</var>’s <a href="#concept-traversal-active">active flag</a> is set, then throw an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidstateerror" id="termref-for-①①⑨⑧">InvalidStateError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①①⑨⑨">DOMException</a></code>. </p>
    <li>
     <p>Let <var>n</var> be <var>node</var>’s <code class="idl"><a href="#dom-node-nodetype">nodeType</a></code> attribute value − 1. </p>
    <li>
     <p>If the <var>n</var><sup>th</sup> bit (where 0 is the least significant bit) of <var>traverser</var>’s <a href="#concept-traversal-whattoshow">whatToShow</a> is not set, then return <code class="idl"><a href="#dom-nodefilter-filter_skip">FILTER_SKIP</a></code>. </p>
    <li>
     <p>If <var>traverser</var>’s <a href="#concept-traversal-filter">filter</a> is null, then return <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>. </p>
    <li>
     <p>Set <var>traverser</var>’s <a href="#concept-traversal-active">active flag</a>. </p>
    <li>
     <p>Let <var>result</var> be the return value of <a href="https://heycam.github.io/webidl/#call-a-user-objects-operation" id="termref-for-①②⓪⓪">call a user object’s operation</a> with <var>traverser</var>’s <a href="#concept-traversal-filter">filter</a>, "<code>acceptNode</code>", and
 « <var>node</var> ». If this throws an exception, then unset <var>traverser</var>’s <a href="#concept-traversal-active">active flag</a> and rethrow the exception. </p>
    <li>
     <p>Unset <var>traverser</var>’s <a href="#concept-traversal-active">active flag</a>. </p>
    <li>
     <p>Return <var>result</var>. </p>
   </ol>
   <h3 class="heading settled" id="interface-nodeiterator"><span class="secno">6.1. </span><span class="content">Interface <code class="idl"><a href="#nodeiterator">NodeIterator</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①②⓪①">Exposed</a>=Window]
interface <dfn class="idl-code" id="nodeiterator"><code>NodeIterator</code></dfn> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-①②⓪②">SameObject</a>] readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-nodeiterator-root">root</a>;
  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-nodeiterator-referencenode">referenceNode</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①②⓪③">boolean</a> <a class="idl-code" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⓪④">unsigned long</a> <a class="idl-code" href="#dom-nodeiterator-whattoshow">whatToShow</a>;
  readonly attribute <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" href="#dom-nodeiterator-filter">filter</a>;

  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-nodeiterator-nextnode">nextNode</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-nodeiterator-previousnode">previousNode</a>();

  void <a class="idl-code" href="#dom-nodeiterator-detach">detach</a>();
};
</pre>
   <p class="note no-backref" role="note"><code class="idl"><a href="#nodeiterator">NodeIterator</a></code> objects can be created using the <code class="idl"><a href="#dom-document-createnodeiterator">createNodeIterator()</a></code> method on <code class="idl"><a href="#document">Document</a></code> objects. </p>
   <p>Each <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> object has an associated <dfn id="iterator-collection">iterator collection</dfn>, which is a <a href="#concept-collection">collection</a> rooted at the <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> object’s <a href="#concept-traversal-root">root</a>, whose
filter matches any <a href="#concept-node">node</a>. </p>
   <p>Each <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> object also has an associated <dfn id="nodeiterator-reference">reference</dfn> (a <a href="#concept-node">node</a>) and <dfn id="nodeiterator-pointer-before-reference">pointer before reference</dfn> (a boolean). </p>
   <p class="note no-backref" role="note">As mentioned earlier, <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> objects have an associated <a href="#concept-traversal-active">active flag</a>, <a href="#concept-traversal-root">root</a>, <a href="#concept-traversal-whattoshow">whatToShow</a>, and <a href="#concept-traversal-filter">filter</a> as well. </p>
   <p>The <dfn id="nodeiterator-pre-removing-steps"><code>NodeIterator</code> pre-removing steps</dfn> given a <var>nodeIterator</var> and <var>toBeRemovedNode</var>, are as follows: </p>
   <ol>
    <li>
     <p>If <var>toBeRemovedNode</var> is not an <a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of <var>nodeIterator</var>’s <a href="#nodeiterator-reference">reference</a>, or <var>toBeRemovedNode</var> is <var>nodeIterator</var>’s <a href="#concept-traversal-root">root</a>, then return. </p>
    <li>
     <p>If <var>nodeIterator</var>’s <a href="#nodeiterator-pointer-before-reference">pointer before reference</a> is true, then: </p>
     <ol>
      <li>
       <p>Let <var>next</var> be <var>toBeRemovedNode</var>’s first <a href="#concept-tree-following">following</a> <a href="#boundary-point-node">node</a> that is an <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <var>nodeIterator</var>’s <a href="#concept-traversal-root">root</a> and is not an <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <var>toBeRemovedNode</var>, and null if there is no such <a href="#boundary-point-node">node</a>. </p>
      <li>
       <p>If <var>next</var> is non-null, then set <var>nodeIterator</var>’s <a href="#nodeiterator-reference">reference</a> to <var>next</var> and return. </p>
      <li>
       <p>Otherwise, set <var>nodeIterator</var>’s <a href="#nodeiterator-pointer-before-reference">pointer before reference</a> to
    false. </p>
       <p class="note no-backref" role="note">Steps are not terminated here. </p>
     </ol>
    <li>
     <p>Set <var>nodeIterator</var>’s <a href="#nodeiterator-reference">reference</a> to <var>toBeRemovedNode</var>’s <a href="#concept-tree-parent">parent</a>, if <var>toBeRemovedNode</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> is null, and to the <a href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <var>toBeRemovedNode</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> that appears last in <a href="#concept-tree-order">tree order</a> otherwise. </p>
   </ol>
   <hr>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-root"><code>root</code></dfn> attribute’s getter, when invoked,
must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②⓪⑤">this</a>’s <a href="#concept-traversal-root">root</a>. </p>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-referencenode"><code>referenceNode</code></dfn> attribute’s getter, when
invoked, must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②⓪⑥">this</a>’s <a href="#nodeiterator-reference">reference</a>. </p>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-pointerbeforereferencenode"><code>pointerBeforeReferenceNode</code></dfn> attribute’s
getter, when invoked, must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②⓪⑦">this</a>’s <a href="#nodeiterator-pointer-before-reference">pointer before reference</a>. </p>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-whattoshow"><code>whatToShow</code></dfn> attribute’s getter, when
invoked, must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②⓪⑧">this</a>’s <a href="#concept-traversal-whattoshow">whatToShow</a>. </p>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-filter"><code>filter</code></dfn> attribute’s getter, when invoked,
must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②⓪⑨">this</a>’s <a href="#concept-traversal-filter">filter</a>. </p>
   <p>To <dfn id="concept-nodeiterator-traverse">traverse</dfn>, given a <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> object <var>iterator</var> and a direction <var>direction</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be <var>iterator</var>’s <a href="#nodeiterator-reference">reference</a>. </p>
    <li>
     <p>Let <var>beforeNode</var> be <var>iterator</var>’s <a href="#nodeiterator-pointer-before-reference">pointer before reference</a>. </p>
    <li>
     <p>While true: </p>
     <ol>
      <li>
       <p>Branch on <var>direction</var>: </p>
       <dl class="switch">
        <dt>next 
        <dd>
         <p>If <var>beforeNode</var> is false, then set <var>node</var> to the first <a href="#concept-node">node</a> <a href="#concept-tree-following">following</a> <var>node</var> in <var>iterator</var>’s <a href="#iterator-collection">iterator collection</a>. If there is no such <a href="#concept-node">node</a>, then
      return null. </p>
         <p>If <var>beforeNode</var> is true, then set it to false. </p>
        <dt>previous 
        <dd>
         <p>If <var>beforeNode</var> is true, then set <var>node</var> to the first <a href="#concept-node">node</a> <a href="#concept-tree-preceding">preceding</a> <var>node</var> in <var>iterator</var>’s <a href="#iterator-collection">iterator collection</a>. If there is no such <a href="#concept-node">node</a>, then
      return null. </p>
         <p>If <var>beforeNode</var> is false, then set it to true. </p>
       </dl>
      <li>
       <p>Let <var>result</var> be the result of <a href="#concept-node-filter">filtering</a> <var>node</var> within <var>iterator</var>. </p>
      <li>
       <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then <a href="https://infra.spec.whatwg.org/#iteration-break" id="termref-for-①②①⓪">break</a>. </p>
     </ol>
    <li>
     <p>Set <var>iterator</var>’s <a href="#nodeiterator-reference">reference</a> to <var>node</var>. </p>
    <li>
     <p>Set <var>iterator</var>’s <a href="#nodeiterator-pointer-before-reference">pointer before reference</a> to <var>beforeNode</var>. </p>
    <li>
     <p>Return <var>node</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-nextnode"><code>nextNode()</code></dfn> method, when invoked, must return
the result of <a href="#concept-nodeiterator-traverse">traversing</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②①①">this</a> and next. </p>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-previousnode"><code>previousNode()</code></dfn> method, when invoked, must
return the result of <a href="#concept-nodeiterator-traverse">traversing</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②①②">this</a> and previous. </p>
   <p>The <dfn class="idl-code" id="dom-nodeiterator-detach"><code>detach()</code></dfn> method, when invoked, must do
nothing. <span class="note">Its functionality (disabling a <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> object) was removed, but
the method itself is preserved for compatibility.</span> </p>
   <h3 class="heading settled" id="interface-treewalker"><span class="secno">6.2. </span><span class="content">Interface <code class="idl"><a href="#treewalker">TreeWalker</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①②①③">Exposed</a>=Window]
interface <dfn class="idl-code" id="treewalker"><code>TreeWalker</code></dfn> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject" id="termref-for-①②①④">SameObject</a>] readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-treewalker-root">root</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②①⑤">unsigned long</a> <a class="idl-code" href="#dom-treewalker-whattoshow">whatToShow</a>;
  readonly attribute <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" href="#dom-treewalker-filter">filter</a>;
           attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-treewalker-currentnode">currentNode</a>;

  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-parentnode">parentNode</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-firstchild">firstChild</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-lastchild">lastChild</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-previoussibling">previousSibling</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-nextsibling">nextSibling</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-previousnode">previousNode</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-nextnode">nextNode</a>();
};</pre>
   <p class="note no-backref" role="note"><code class="idl"><a href="#treewalker">TreeWalker</a></code> objects can be created using the <code class="idl"><a href="#dom-document-createtreewalker">createTreeWalker()</a></code> method on <code class="idl"><a href="#document">Document</a></code> objects. </p>
   <p>Each <code class="idl"><a href="#treewalker">TreeWalker</a></code> object has an associated <dfn id="treewalker-current">current</dfn> (a <a href="#concept-node">node</a>). </p>
   <p class="note no-backref" role="note">As mentioned earlier <code class="idl"><a href="#treewalker">TreeWalker</a></code> objects have an associated <a href="#concept-traversal-root">root</a>, <a href="#concept-traversal-whattoshow">whatToShow</a>, and <a href="#concept-traversal-filter">filter</a> as well. </p>
   <p>The <dfn class="idl-code" id="dom-treewalker-root"><code>root</code></dfn> attribute’s getter, when invoked, must
return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②①⑥">this</a>’s <a href="#concept-traversal-root">root</a>. </p>
   <p>The <dfn class="idl-code" id="dom-treewalker-whattoshow"><code>whatToShow</code></dfn> attribute’s getter, when invoked,
must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②①⑦">this</a>’s <a href="#concept-traversal-whattoshow">whatToShow</a>. </p>
   <p>The <dfn class="idl-code" id="dom-treewalker-filter"><code>filter</code></dfn> attribute’s getter, when invoked,
must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②①⑧">this</a>’s <a href="#concept-traversal-filter">filter</a>. </p>
   <p>The <dfn class="idl-code" id="dom-treewalker-currentnode"><code>currentNode</code></dfn> attribute’s getter, when
invoked, must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②①⑨">this</a>’s <a href="#treewalker-current">current</a>. </p>
   <p>The <code class="idl"><a href="#dom-treewalker-currentnode">currentNode</a></code> attribute’s setter, when invoked, must set <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②⓪">this</a>’s <a href="#treewalker-current">current</a> to the given value. </p>
   <hr>
   <p>The <dfn class="idl-code" id="dom-treewalker-parentnode"><code>parentNode()</code></dfn> method, when invoked, must run
these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②①">this</a>’s <a href="#treewalker-current">current</a>. </p>
    <li>
     <p>While <var>node</var> is non-null and is not <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②②">this</a>’s <a href="#concept-traversal-root">root</a>: </p>
     <ol>
      <li>
       <p>Set <var>node</var> to <var>node</var>’s <a href="#concept-tree-parent">parent</a>. </p>
      <li>
       <p>If <var>node</var> is non-null and <a href="#concept-node-filter">filtering</a> <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②③">this</a> returns <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②④">this</a>’s <a href="#treewalker-current">current</a> to <var>node</var> and return <var>node</var>. </p>
     </ol>
    <li>
     <p>Return null. </p>
   </ol>
   <p>To <dfn id="concept-traverse-children">traverse children</dfn>, given a <var>walker</var> and <var>type</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be <var>walker</var>’s <a href="#treewalker-current">current</a>. </p>
    <li>
     <p>Set <var>node</var> to <var>node</var>’s <a href="#concept-tree-first-child">first child</a> if <var>type</var> is
 first, and <var>node</var>’s <a href="#concept-tree-last-child">last child</a> if <var>type</var> is last. </p>
    <li>
     <p>While <var>node</var> is non-null: </p>
     <ol>
      <li>
       <p>Let <var>result</var> be the result of <a href="#concept-node-filter">filtering</a> <var>node</var> within <var>walker</var>. </p>
      <li>
       <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set <var>walker</var>’s <a href="#treewalker-current">current</a> to <var>node</var> and return <var>node</var>. </p>
      <li>
       <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_skip">FILTER_SKIP</a></code>, then: </p>
       <ol>
        <li>
         <p>Let <var>child</var> be <var>node</var>’s <a href="#concept-tree-first-child">first child</a> if <var>type</var> is first, and <var>node</var>’s <a href="#concept-tree-last-child">last child</a> if <var>type</var> is last. </p>
        <li>
         <p>If <var>child</var> is non-null, then set <var>node</var> to <var>child</var> and <a href="https://infra.spec.whatwg.org/#iteration-continue" id="termref-for-①②②⑤">continue</a>. </p>
       </ol>
      <li>
       <p>While <var>node</var> is non-null: </p>
       <ol>
        <li>
         <p>Let <var>sibling</var> be <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a> if <var>type</var> is first, and <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> if <var>type</var> is last. </p>
        <li>
         <p>If <var>sibling</var> is non-null, then set <var>node</var> to <var>sibling</var> and <a href="https://infra.spec.whatwg.org/#iteration-break" id="termref-for-①②②⑥">break</a>. </p>
        <li>
         <p>Let <var>parent</var> be <var>node</var>’s <a href="#concept-tree-parent">parent</a>. </p>
        <li>
         <p>If <var>parent</var> is null, <var>walker</var>’s <a href="#concept-traversal-root">root</a>, or <var>walker</var>’s <a href="#treewalker-current">current</a>, then return null. </p>
        <li>
         <p>Set <var>node</var> to <var>parent</var>. </p>
       </ol>
     </ol>
    <li>
     <p>Return null. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-treewalker-firstchild"><code>firstChild()</code></dfn> method, when invoked, must <a href="#concept-traverse-children">traverse children</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②⑦">this</a> and first. </p>
   <p>The <dfn class="idl-code" id="dom-treewalker-lastchild"><code>lastChild()</code></dfn> method, when invoked, must <a href="#concept-traverse-children">traverse children</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②⑧">this</a> and last. </p>
   <p>To <dfn id="concept-traverse-siblings">traverse siblings</dfn>, given a <var>walker</var> and <var>type</var>, run these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be <var>walker</var>’s <a href="#treewalker-current">current</a>. </p>
    <li>
     <p>If <var>node</var> is <a href="#concept-traversal-root">root</a>, then return null. </p>
    <li>
     <p>While true: </p>
     <ol>
      <li>
       <p>Let <var>sibling</var> be <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a> if <var>type</var> is next, and <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> if <var>type</var> is previous. </p>
      <li>
       <p>While <var>sibling</var> is non-null: </p>
       <ol>
        <li>
         <p>Set <var>node</var> to <var>sibling</var>. </p>
        <li>
         <p>Let <var>result</var> be the result of <a href="#concept-node-filter">filtering</a> <var>node</var> within <var>walker</var>. </p>
        <li>
         <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set <var>walker</var>’s <a href="#treewalker-current">current</a> to <var>node</var> and return <var>node</var>. </p>
        <li>
         <p>Set <var>sibling</var> to <var>node</var>’s <a href="#concept-tree-first-child">first child</a> if <var>type</var> is next, and <var>node</var>’s <a href="#concept-tree-last-child">last child</a> if <var>type</var> is
     previous. </p>
        <li>
         <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_reject">FILTER_REJECT</a></code> or <var>sibling</var> is null, then
     set <var>sibling</var> to <var>node</var>’s <a href="#concept-tree-next-sibling">next sibling</a> if <var>type</var> is
     next, and <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a> if <var>type</var> is previous. </p>
       </ol>
      <li>
       <p>Set <var>node</var> to <var>node</var>’s <a href="#concept-tree-parent">parent</a>. </p>
      <li>
       <p>If <var>node</var> is null or <var>walker</var>’s <a href="#concept-traversal-root">root</a>, then return
   null. </p>
      <li>
       <p>If the return value of <a href="#concept-node-filter">filtering</a> <var>node</var> within <var>walker</var> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then return null. </p>
     </ol>
   </ol>
   <p>The <dfn class="idl-code" id="dom-treewalker-nextsibling"><code>nextSibling()</code></dfn> method, when invoked, must <a href="#concept-traverse-siblings">traverse siblings</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②②⑨">this</a> and next. </p>
   <p>The <dfn class="idl-code" id="dom-treewalker-previoussibling"><code>previousSibling()</code></dfn> method, when invoked, must <a href="#concept-traverse-siblings">traverse siblings</a> with <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③⓪">this</a> and previous. </p>
   <p>The <dfn class="idl-code" id="dom-treewalker-previousnode"><code>previousNode()</code></dfn> method, when invoked, must run
these steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③①">this</a>’s <a href="#treewalker-current">current</a>. </p>
    <li>
     <p>While <var>node</var> is not <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③②">this</a>’s <a href="#concept-traversal-root">root</a>: </p>
     <ol>
      <li>
       <p>Let <var>sibling</var> be <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a>. </p>
      <li>
       <p>While <var>sibling</var> is non-null: </p>
       <ol>
        <li>
         <p>Set <var>node</var> to <var>sibling</var>. </p>
        <li>
         <p>Let <var>result</var> be the result of <a href="#concept-node-filter">filtering</a> <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③③">this</a>. </p>
        <li>
         <p>While <var>result</var> is not <code class="idl"><a href="#dom-nodefilter-filter_reject">FILTER_REJECT</a></code> and <var>node</var> has a <a href="#concept-tree-child">child</a>: </p>
         <ol>
          <li>
           <p>Set <var>node</var> to <var>node</var>’s <a href="#concept-tree-last-child">last child</a>. </p>
          <li>
           <p>Set <var>result</var> to the result of <a href="#concept-node-filter">filtering</a> <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③④">this</a>. </p>
         </ol>
        <li>
         <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③⑤">this</a>’s <a href="#treewalker-current">current</a> to <var>node</var> and return <var>node</var>. </p>
        <li>
         <p>Set <var>sibling</var> to <var>node</var>’s <a href="#concept-tree-previous-sibling">previous sibling</a>. </p>
       </ol>
      <li>
       <p>If <var>node</var> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③⑥">this</a>’s <a href="#concept-traversal-root">root</a> or <var>node</var>’s <a href="#concept-tree-parent">parent</a> is null, then return null. </p>
      <li>
       <p>Set <var>node</var> to <var>node</var>’s <a href="#concept-tree-parent">parent</a>. </p>
      <li>
       <p>If the return value of <a href="#concept-node-filter">filtering</a> <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③⑦">this</a> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③⑧">this</a>’s <a href="#treewalker-current">current</a> to <var>node</var> and return <var>node</var>. </p>
     </ol>
    <li>
     <p>Return null. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-treewalker-nextnode"><code>nextNode()</code></dfn> method, when invoked, must run these
steps: </p>
   <ol>
    <li>
     <p>Let <var>node</var> be <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②③⑨">this</a>’s <a href="#treewalker-current">current</a>. </p>
    <li>
     <p>Let <var>result</var> be <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>. </p>
    <li>
     <p>While true: </p>
     <ol>
      <li>
       <p>While <var>result</var> is not <code class="idl"><a href="#dom-nodefilter-filter_reject">FILTER_REJECT</a></code> and <var>node</var> has a <a href="#concept-tree-child">child</a>: </p>
       <ol>
        <li>
         <p>Set <var>node</var> to its <a href="#concept-tree-first-child">first child</a>. </p>
        <li>
         <p>Set <var>result</var> to the result of <a href="#concept-node-filter">filtering</a> <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②④⓪">this</a>. </p>
        <li>
         <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②④①">this</a>’s <a href="#treewalker-current">current</a> to <var>node</var> and return <var>node</var>. </p>
       </ol>
      <li>
       <p>Let <var>sibling</var> be null. </p>
      <li>
       <p>Let <var>temporary</var> be <var>node</var>. </p>
      <li>
       <p>While <var>temporary</var> is non-null: </p>
       <ol>
        <li>
         <p>If <var>temporary</var> is <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②④②">this</a>’s <a href="#concept-traversal-root">root</a>, then return null. </p>
        <li>
         <p>Set <var>sibling</var> to <var>temporary</var>’s <a href="#concept-tree-next-sibling">next sibling</a>. </p>
        <li>
         <p>If <var>sibling</var> is non-null, then set <var>node</var> to <var>sibling</var> and <a href="https://infra.spec.whatwg.org/#iteration-break" id="termref-for-①②④③">break</a>. </p>
        <li>
         <p>Set <var>temporary</var> to <var>temporary</var>’s <a href="#concept-tree-parent">parent</a>. </p>
       </ol>
      <li>
       <p>Set <var>result</var> to the result of <a href="#concept-node-filter">filtering</a> <var>node</var> within <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②④④">this</a>. </p>
      <li>
       <p>If <var>result</var> is <code class="idl"><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set <a href="https://heycam.github.io/webidl/#this" id="termref-for-①②④⑤">this</a>’s <a href="#treewalker-current">current</a> to <var>node</var> and return <var>node</var>. </p>
     </ol>
   </ol>
   <h3 class="heading settled" id="interface-nodefilter"><span class="secno">6.3. </span><span class="content">Interface <code class="idl"><a href="#callbackdef-nodefilter">NodeFilter</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①②④⑥">Exposed</a>=Window]
callback interface <dfn class="idl-code" id="callbackdef-nodefilter"><code>NodeFilter</code></dfn> {
  // Constants for acceptNode()
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①②④⑦">unsigned short</a> <a class="idl-code" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①②④⑧">unsigned short</a> <a class="idl-code" href="#dom-nodefilter-filter_reject">FILTER_REJECT</a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①②④⑨">unsigned short</a> <a class="idl-code" href="#dom-nodefilter-filter_skip">FILTER_SKIP</a> = 3;

  // Constants for whatToShow
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤⓪">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_all">SHOW_ALL</a> = 0xFFFFFFFF;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤①">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_element">SHOW_ELEMENT</a> = 0x1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤②">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_attribute">SHOW_ATTRIBUTE</a> = 0x2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤③">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_text">SHOW_TEXT</a> = 0x4;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤④">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_cdata_section">SHOW_CDATA_SECTION</a> = 0x8;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤⑤">unsigned long</a> <dfn class="idl-code" id="dom-nodefilter-show_entity_reference"><code>SHOW_ENTITY_REFERENCE</code></dfn> = 0x10; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤⑥">unsigned long</a> <dfn class="idl-code" id="dom-nodefilter-show_entity"><code>SHOW_ENTITY</code></dfn> = 0x20; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤⑦">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_processing_instruction">SHOW_PROCESSING_INSTRUCTION</a> = 0x40;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤⑧">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_comment">SHOW_COMMENT</a> = 0x80;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑤⑨">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_document">SHOW_DOCUMENT</a> = 0x100;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑥⓪">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_document_type">SHOW_DOCUMENT_TYPE</a> = 0x200;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑥①">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_document_fragment">SHOW_DOCUMENT_FRAGMENT</a> = 0x400;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑥②">unsigned long</a> <dfn class="idl-code" id="dom-nodefilter-show_notation"><code>SHOW_NOTATION</code></dfn> = 0x800; // historical

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①②⑥③">unsigned short</a> <dfn class="idl-code" id="dom-nodefilter-acceptnode"><code>acceptNode</code></dfn>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-nodefilter-acceptnode-node-node"><code>node</code></dfn>);
};
</pre>
   <p class="note no-backref" role="note"><code class="idl"><a href="#callbackdef-nodefilter">NodeFilter</a></code> objects can be used as <a href="#concept-traversal-filter">filter</a> for <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a href="#treewalker">TreeWalker</a></code> objects and also provide constants for their <a href="#concept-traversal-whattoshow">whatToShow</a> bitmask. A <code class="idl"><a href="#callbackdef-nodefilter">NodeFilter</a></code> object is typically implemented as a
JavaScript function. </p>
   <p>These constants can be used as <a href="#concept-traversal-filter">filter</a> return value: </p>
   <ul class="brief">
    <li><dfn class="idl-code" id="dom-nodefilter-filter_accept"><code>FILTER_ACCEPT</code></dfn> (1); 
    <li><dfn class="idl-code" id="dom-nodefilter-filter_reject"><code>FILTER_REJECT</code></dfn> (2); 
    <li><dfn class="idl-code" id="dom-nodefilter-filter_skip"><code>FILTER_SKIP</code></dfn> (3). 
   </ul>
   <p>These constants can be used for <a href="#concept-traversal-whattoshow">whatToShow</a>: </p>
   <ul class="brief">
    <li><dfn class="idl-code" id="dom-nodefilter-show_all"><code>SHOW_ALL</code></dfn> (4294967295, FFFFFFFF in hexadecimal); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_element"><code>SHOW_ELEMENT</code></dfn> (1); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_attribute"><code>SHOW_ATTRIBUTE</code></dfn> (2); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_text"><code>SHOW_TEXT</code></dfn> (4); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_cdata_section"><code>SHOW_CDATA_SECTION</code></dfn> (8); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_processing_instruction"><code>SHOW_PROCESSING_INSTRUCTION</code></dfn> (64, 40 in hexadecimal); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_comment"><code>SHOW_COMMENT</code></dfn> (128, 80 in hexadecimal); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_document"><code>SHOW_DOCUMENT</code></dfn> (256, 100 in hexadecimal); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_document_type"><code>SHOW_DOCUMENT_TYPE</code></dfn> (512, 200 in hexadecimal); 
    <li><dfn class="idl-code" id="dom-nodefilter-show_document_fragment"><code>SHOW_DOCUMENT_FRAGMENT</code></dfn> (1024, 400 in hexadecimal). 
   </ul>
   <h2 class="heading settled" id="sets"><span class="secno">7. </span><span class="content">Sets</span></h2>
   <p class="note no-backref" role="note">Yes, the name <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> is an unfortunate legacy mishap. </p>
   <h3 class="heading settled" id="interface-domtokenlist"><span class="secno">7.1. </span><span class="content">Interface <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①②⑥④">Exposed</a>=Window]
interface <dfn class="idl-code" id="domtokenlist"><code>DOMTokenList</code></dfn> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑥⑤">unsigned long</a> <a class="idl-code" href="#dom-domtokenlist-length">length</a>;
  getter <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑥⑥">DOMString</a>? <a class="idl-code" href="#dom-domtokenlist-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①②⑥⑦">unsigned long</a> <dfn class="idl-code" id="dom-domtokenlist-item-index-index"><code>index</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①②⑥⑧">boolean</a> <a class="idl-code" href="#dom-domtokenlist-contains">contains</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑥⑨">DOMString</a> <dfn class="idl-code" id="dom-domtokenlist-contains-token-token"><code>token</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①②⑦⓪">CEReactions</a>] void <a class="idl-code" href="#dom-domtokenlist-add">add</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑦①">DOMString</a>... <dfn class="idl-code" id="dom-domtokenlist-add-tokens-tokens"><code>tokens</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①②⑦②">CEReactions</a>] void <a class="idl-code" href="#dom-domtokenlist-remove">remove</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑦③">DOMString</a>... <dfn class="idl-code" id="dom-domtokenlist-remove-tokens-tokens"><code>tokens</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①②⑦④">CEReactions</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①②⑦⑤">boolean</a> <a class="idl-code" href="#dom-domtokenlist-toggle">toggle</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑦⑥">DOMString</a> <dfn class="idl-code" id="dom-domtokenlist-toggle-token-force-token"><code>token</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①②⑦⑦">boolean</a> <dfn class="idl-code" id="dom-domtokenlist-toggle-token-force-force"><code>force</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①②⑦⑧">CEReactions</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①②⑦⑨">boolean</a> <a class="idl-code" href="#dom-domtokenlist-replace">replace</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑧⓪">DOMString</a> <dfn class="idl-code" id="dom-domtokenlist-replace-token-newtoken-token"><code>token</code></dfn>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑧①">DOMString</a> <dfn class="idl-code" id="dom-domtokenlist-replace-token-newtoken-newtoken"><code>newToken</code></dfn>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①②⑧②">boolean</a> <a class="idl-code" href="#dom-domtokenlist-supports">supports</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑧③">DOMString</a> <dfn class="idl-code" id="dom-domtokenlist-supports-token-token"><code>token</code></dfn>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="termref-for-①②⑧④">CEReactions</a>] <dfn id="DOMTokenList-stringification-behavior">stringifier</dfn> attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑧⑤">DOMString</a> <a class="idl-code" href="#dom-domtokenlist-value">value</a>;
  iterable&lt;<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①②⑧⑥">DOMString</a>>;
};
</pre>
   <p>A <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object has an associated <dfn id="concept-dtl-tokens">token set</dfn> (a <a href="https://infra.spec.whatwg.org/#ordered-set" id="termref-for-①②⑧⑦">set</a>), which is
initially empty. </p>
   <p>A <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object also has an associated <a href="#concept-element">element</a> and an <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a>. </p>
   <p><a href="#other-applicable-specifications">Specifications</a> may define <dfn id="concept-supported-tokens">supported tokens</dfn> for a <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code>'s
associated <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a>.</p>
   <p>A <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object’s <dfn id="concept-domtokenlist-validation">validation steps</dfn> for a given <var>token</var> are: </p>
   <ol>
    <li>
     <p>If the associated <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a> does not define <a href="#concept-supported-tokens">supported tokens</a>, <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①②⑧⑧">throw</a> a <code>TypeError</code>. </p>
    <li>
     <p>Let <var>lowercase token</var> be a copy of <var>token</var>, in <a href="https://infra.spec.whatwg.org/#ascii-lowercase" id="termref-for-①②⑧⑨">ASCII lowercase</a>. </p>
    <li>
     <p>If <var>lowercase token</var> is present in <a href="#concept-supported-tokens">supported tokens</a>, return true. </p>
    <li>
     <p>Return false. </p>
   </ol>
   <p>A <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object’s <dfn id="concept-dtl-update">update steps</dfn> are: </p>
   <ol>
    <li>
     <p>If the associated <a href="#concept-element">element</a> does not have an associated <a href="#concept-attribute">attribute</a> and <a href="#concept-dtl-tokens">token set</a> is empty, then return. </p>
    <li>
     <p><a href="#concept-element-attributes-set-value">Set an attribute value</a> for the associated <a href="#concept-element">element</a> using associated <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a> and the result of running the <a href="#concept-ordered-set-serializer">ordered set
 serializer</a> for <a href="#concept-dtl-tokens">token set</a>. </p>
   </ol>
   <p>A <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object’s <dfn id="concept-dtl-serialize">serialize steps</dfn> are to return the result of running <a href="#concept-element-attributes-get-value">get an attribute value</a> given the associated <a href="#concept-element">element</a> and the associated <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a>.</p>
   <hr>
   <p>A <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object has these <a href="#concept-element-attributes-change-ext">attribute change steps</a> for its associated <a href="#concept-element">element</a>: </p>
   <ol>
    <li>
     <p>If <var>localName</var> is associated attribute’s <a href="#concept-attribute-local-name">local name</a>, <var>namespace</var> is null, and <var>value</var> is null, then <a href="https://infra.spec.whatwg.org/#list-empty" id="termref-for-①②⑨⓪">empty</a> <a href="#concept-dtl-tokens">token set</a>. </p>
    <li>
     <p>Otherwise, if <var>localName</var> is associated attribute’s <a href="#concept-attribute-local-name">local name</a>, <var>namespace</var> is null, then set <a href="#concept-dtl-tokens">token set</a> to <var>value</var>, <a href="#concept-ordered-set-parser">parsed</a>. </p>
   </ol>
   <p>When a <code class="idl"><a href="#domtokenlist">DOMTokenList</a></code> object is created, then: </p>
   <ol>
    <li>
     <p>Let <var>element</var> be associated <a href="#concept-element">element</a>. </p>
    <li>
     <p>Let <var>localName</var> be associated attribute’s <a href="#concept-attribute-local-name">local name</a>. </p>
    <li>
     <p>Let <var>value</var> be the result of <a href="#concept-element-attributes-get-value">getting an attribute value</a> given <var>element</var> and <var>localName</var>. </p>
    <li>
     <p>Run the <a href="#concept-element-attributes-change-ext">attribute change steps</a> for <var>element</var>, <var>localName</var>, <var>value</var>, <var>value</var>, and null. </p>
   </ol>
   <dl class="domintro">
    <dt><code><var>tokenlist</var> . <code class="idl"><a href="#dom-domtokenlist-length">length</a></code></code> 
    <dd>
     <p>Returns the number of tokens. </p>
    <dt><code><var>tokenlist</var> . <code class="idl"><a href="#dom-domtokenlist-item">item(index)</a></code></code> 
    <dt><code><var>tokenlist</var>[<var>index</var>]</code> 
    <dd>
     <p>Returns the token with index <var>index</var>. </p>
    <dt><code><var>tokenlist</var> . <code class="idl"><a href="#dom-domtokenlist-contains">contains(token)</a></code></code> 
    <dd>
     <p>Returns true if <var>token</var> is present, and false otherwise. </p>
    <dt><code><var>tokenlist</var> . <a href="#dom-domtokenlist-add">add(<var>tokens</var>…)</a></code> 
    <dd>
     <p>Adds all arguments passed, except those already present. </p>
     <p>Throws a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①②⑨①">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①②⑨②">DOMException</a></code> if one of the arguments is the empty
  string. </p>
     <p>Throws an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①②⑨③">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①②⑨④">DOMException</a></code> if one of the arguments
  contains any <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①②⑨⑤">ASCII whitespace</a>. </p>
    <dt><code><var>tokenlist</var> . <a href="#dom-domtokenlist-remove">remove(<var>tokens</var>…)</a></code> 
    <dd>
     <p>Removes arguments passed, if they are present. </p>
     <p>Throws a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①②⑨⑥">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①②⑨⑦">DOMException</a></code> if one of the arguments is the empty
  string. </p>
     <p>Throws an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①②⑨⑧">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①②⑨⑨">DOMException</a></code> if one of the arguments
  contains any <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①③⓪⓪">ASCII whitespace</a>. </p>
    <dt><code><var>tokenlist</var> . <a class="idl-code" href="#dom-domtokenlist-toggle">toggle(<var>token</var> [, <var>force</var>])</a></code> 
    <dd>
     <p>If <var>force</var> is not given, "toggles" <var>token</var>, removing it if it’s present and
  adding it if it’s not present. If <var>force</var> is true, adds <var>token</var> (same as <code class="idl"><a href="#dom-domtokenlist-add">add()</a></code>). If <var>force</var> is false, removes <var>token</var> (same
  as <code class="idl"><a href="#dom-domtokenlist-remove">remove()</a></code>). </p>
     <p>Returns true if <var>token</var> is now present, and false otherwise. </p>
     <p>Throws a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①③⓪①">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⓪②">DOMException</a></code> if <var>token</var> is empty. </p>
     <p>Throws an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①③⓪③">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⓪④">DOMException</a></code> if <var>token</var> contains
  any spaces. </p>
    <dt><code><var>tokenlist</var> . <a class="idl-code" href="#dom-domtokenlist-replace">replace(<var>token</var>, <var>newToken</var>)</a></code> 
    <dd>
     <p>Replaces <var>token</var> with <var>newToken</var>. </p>
     <p>Returns true if <var>token</var> was replaced with <var>newToken</var>, and false otherwise. </p>
     <p>Throws a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①③⓪⑤">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⓪⑥">DOMException</a></code> if one of the arguments is the empty
  string. </p>
     <p>Throws an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①③⓪⑦">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⓪⑧">DOMException</a></code> if one of the arguments
  contains any <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①③⓪⑨">ASCII whitespace</a>. </p>
    <dt><code><var>tokenlist</var> . <a class="idl-code" href="#dom-domtokenlist-supports">supports(<var>token</var>)</a></code> 
    <dd>
     <p>Returns true if <var>token</var> is in the associated attribute’s supported tokens. Returns
  false otherwise. </p>
     <p>Throws a <code>TypeError</code> if the associated attribute has no supported tokens defined. </p>
    <dt><code><var>tokenlist</var> . <code class="idl"><a href="#dom-domtokenlist-value">value</a></code></code> 
    <dd>
     <p>Returns the associated set as string. </p>
     <p>Can be set, to change the associated attribute. </p>
   </dl>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-length"><code>length</code></dfn> attribute' getter must return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③①⓪">this</a>’s <a href="#concept-dtl-tokens">token set</a>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-①③①①">size</a>. </p>
   <p>The object’s <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-①③①②">supported property indices</a> are the numbers in the range zero to object’s <a href="#concept-dtl-tokens">token set</a>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-①③①③">size</a> minus one, unless <a href="#concept-dtl-tokens">token set</a> <a href="https://infra.spec.whatwg.org/#list-is-empty" id="termref-for-①③①④">is empty</a>,
in which case there are no <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices" id="termref-for-①③①⑤">supported property indices</a>. </p>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-item"><code>item(<var>index</var>)</code></dfn> method, when
invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>index</var> is equal to or greater than <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③①⑥">this</a>’s <a href="#concept-dtl-tokens">token set</a>’s <a href="https://infra.spec.whatwg.org/#list-size" id="termref-for-①③①⑦">size</a>, then return null. </p>
    <li>
     <p>Return <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③①⑧">this</a>’s <a href="#concept-dtl-tokens">token set</a>[<var>index</var>]. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-contains"><code>contains(<var>token</var>)</code></dfn> method, when
invoked, must return true if <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③①⑨">this</a>’s <a href="#concept-dtl-tokens">token set</a>[<var>token</var>] <a href="https://infra.spec.whatwg.org/#list-contain" id="termref-for-①③②⓪">exists</a>,
and false otherwise.</p>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-add"><code>add(<var>tokens</var>…)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>token</var> in <var>tokens</var>: </p>
     <ol>
      <li>
       <p>If <var>token</var> is the empty string, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③②①">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①③②②">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③②③">DOMException</a></code>. </p>
      <li>
       <p>If <var>token</var> contains any <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①③②④">ASCII whitespace</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③②⑤">throw</a> an
   "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①③②⑥">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③②⑦">DOMException</a></code>. </p>
     </ol>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>token</var> in <var>tokens</var>, <a href="https://infra.spec.whatwg.org/#set-append" id="termref-for-①③②⑧">append</a> <var>token</var> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③②⑨">this</a>’s <a href="#concept-dtl-tokens">token set</a>. </p>
    <li>
     <p>Run the <a href="#concept-dtl-update">update steps</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-remove"><code>remove(<var>tokens</var>…)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var>token</var> in <var>tokens</var>: </p>
     <ol>
      <li>
       <p>If <var>token</var> is the empty string, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③③⓪">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①③③①">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③③②">DOMException</a></code>. </p>
      <li>
       <p>If <var>token</var> contains any <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①③③③">ASCII whitespace</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③③④">throw</a> an
   "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①③③⑤">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③③⑥">DOMException</a></code>. </p>
     </ol>
    <li>
     <p>For each <var>token</var> in <var>tokens</var>, <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-①③③⑦">remove</a> <var>token</var> from <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③③⑧">this</a>’s <a href="#concept-dtl-tokens">token set</a>. </p>
    <li>
     <p>Run the <a href="#concept-dtl-update">update steps</a>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-toggle"><code>toggle(<var>token</var>, <var>force</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If <var>token</var> is the empty string, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③③⑨">throw</a> a "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①③④⓪">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③④①">DOMException</a></code>. </p>
    <li>
     <p>If <var>token</var> contains any <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①③④②">ASCII whitespace</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③④③">throw</a> an
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①③④④">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③④⑤">DOMException</a></code>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③④⑥">this</a>’s <a href="#concept-dtl-tokens">token set</a>[<var>token</var>] <a href="https://infra.spec.whatwg.org/#list-contain" id="termref-for-①③④⑦">exists</a>, then: </p>
     <ol>
      <li>
       <p>If <var>force</var> is either not given or is false, then <a href="https://infra.spec.whatwg.org/#list-remove" id="termref-for-①③④⑧">remove</a> <var>token</var> from <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③④⑨">this</a>’s <a href="#concept-dtl-tokens">token set</a>, run the <a href="#concept-dtl-update">update steps</a> and return
   false. </p>
      <li>
       <p>Return true. </p>
     </ol>
    <li>
     <p>Otherwise, if <var>force</var> not given or is true, <a href="https://infra.spec.whatwg.org/#set-append" id="termref-for-①③⑤⓪">append</a> <var>token</var> to <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③⑤①">this</a>’s <a href="#concept-dtl-tokens">token set</a>, run the <a href="#concept-dtl-update">update steps</a>, and return true. </p>
    <li>
     <p>Return false. </p>
   </ol>
   <p class="note no-backref" role="note">The <a href="#concept-dtl-update">update steps</a> are not always run for <code class="idl"><a href="#dom-domtokenlist-toggle">toggle()</a></code> for web compatibility. </p>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-replace"><code>replace(<var>token</var>, <var>newToken</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If either <var>token</var> or <var>newToken</var> is the empty string, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③⑤②">throw</a> a
 "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#syntaxerror" id="termref-for-①③⑤③">SyntaxError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⑤④">DOMException</a></code>. </p>
    <li>
     <p>If either <var>token</var> or <var>newToken</var> contains any <a href="https://infra.spec.whatwg.org/#ascii-whitespace" id="termref-for-①③⑤⑤">ASCII whitespace</a>, then <a href="https://heycam.github.io/webidl/#dfn-throw" id="termref-for-①③⑤⑥">throw</a> an "<code class="idl"><a class="idl-code" href="https://heycam.github.io/webidl/#invalidcharactererror" id="termref-for-①③⑤⑦">InvalidCharacterError</a></code>" <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⑤⑧">DOMException</a></code>. </p>
    <li>
     <p>If <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③⑤⑨">this</a>’s <a href="#concept-dtl-tokens">token set</a> does not <a href="https://infra.spec.whatwg.org/#list-contain" id="termref-for-①③⑥⓪">contain</a> <var>token</var>, then
 return false.</p>
    <li>
     <p><a href="https://infra.spec.whatwg.org/#set-replace" id="termref-for-①③⑥①">Replace</a> <var>token</var> in <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③⑥②">this</a>’s <a href="#concept-dtl-tokens">token set</a> with <var>newToken</var>. </p>
    <li>
     <p>Run the <a href="#concept-dtl-update">update steps</a>. </p>
    <li>
     <p>Return true. </p>
   </ol>
   <p class="note no-backref" role="note">The <a href="#concept-dtl-update">update steps</a> are not always run for <code class="idl"><a href="#dom-domtokenlist-replace">replace()</a></code> for web compatibility. </p>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-supports"><code>supports(<var>token</var>)</code></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>result</var> be the return value of <a href="#concept-domtokenlist-validation">validation steps</a> called with <var>token</var>. </p>
    <li>
     <p>Return <var>result</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" id="dom-domtokenlist-value"><code>value</code></dfn> attribute must return the
result of running <a href="https://heycam.github.io/webidl/#this" id="termref-for-①③⑥③">this</a>’s <a href="#concept-dtl-serialize">serialize steps</a>. </p>
   <p>Setting the <code class="idl"><a href="#dom-domtokenlist-value">value</a></code> attribute must <a href="#concept-element-attributes-set-value">set an attribute value</a> for the
associated <a href="#concept-element">element</a> using associated <a href="#concept-attribute">attribute</a>’s <a href="#concept-attribute-local-name">local name</a> and
the given value. </p>
   <h2 class="heading settled" id="xpath"><span class="secno">8. </span><span class="content">XPath</span></h2>
   <p class="XXX"><cite>DOM Level 3 XPath</cite> defined an API for evaluating <cite>XPath 1.0</cite> expressions. These APIs are widely implemented, but have not been maintained. The interface
definitions are maintained here so that they can be updated when <cite>Web IDL</cite> changes.
Complete definitions of these APIs remain necessary and such work is tracked and can be contributed
to in <a href="https://github.com/whatwg/dom/issues/67">whatwg/dom#67</a>. <a href="#biblio-dom-level-3-xpath">[DOM-Level-3-XPath]</a> <a href="#biblio-xpath">[XPath]</a> <a href="#biblio-webidl">[WEBIDL]</a> </p>
   <h3 class="heading settled" id="interface-xpathresult"><span class="secno">8.1. </span><span class="content">Interface <code class="idl"><a href="#xpathresult">XPathResult</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①③⑥④">Exposed</a>=Window]
interface <dfn class="idl-code" id="xpathresult"><code>XPathResult</code></dfn> {
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑥⑤">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-any_type"><code>ANY_TYPE</code></dfn> = 0;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑥⑥">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-number_type"><code>NUMBER_TYPE</code></dfn> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑥⑦">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-string_type"><code>STRING_TYPE</code></dfn> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑥⑧">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-boolean_type"><code>BOOLEAN_TYPE</code></dfn> = 3;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑥⑨">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-unordered_node_iterator_type"><code>UNORDERED_NODE_ITERATOR_TYPE</code></dfn> = 4;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑦⓪">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-ordered_node_iterator_type"><code>ORDERED_NODE_ITERATOR_TYPE</code></dfn> = 5;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑦①">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-unordered_node_snapshot_type"><code>UNORDERED_NODE_SNAPSHOT_TYPE</code></dfn> = 6;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑦②">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-ordered_node_snapshot_type"><code>ORDERED_NODE_SNAPSHOT_TYPE</code></dfn> = 7;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑦③">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-any_unordered_node_type"><code>ANY_UNORDERED_NODE_TYPE</code></dfn> = 8;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑦④">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-first_ordered_node_type"><code>FIRST_ORDERED_NODE_TYPE</code></dfn> = 9;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑦⑤">unsigned short</a> <dfn class="idl-code" id="dom-xpathresult-resulttype"><code>resultType</code></dfn>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unrestricted-double" id="termref-for-①③⑦⑥">unrestricted double</a> <dfn class="idl-code" id="dom-xpathresult-numbervalue"><code>numberValue</code></dfn>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①③⑦⑦">DOMString</a> <dfn class="idl-code" id="dom-xpathresult-stringvalue"><code>stringValue</code></dfn>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①③⑦⑧">boolean</a> <dfn class="idl-code" id="dom-xpathresult-booleanvalue"><code>booleanValue</code></dfn>;
  readonly attribute <a class="n" href="#node">Node</a>? <dfn class="idl-code" id="dom-xpathresult-singlenodevalue"><code>singleNodeValue</code></dfn>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean" id="termref-for-①③⑦⑨">boolean</a> <dfn class="idl-code" id="dom-xpathresult-invaliditeratorstate"><code>invalidIteratorState</code></dfn>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①③⑧⓪">unsigned long</a> <dfn class="idl-code" id="dom-xpathresult-snapshotlength"><code>snapshotLength</code></dfn>;

  <a class="n" href="#node">Node</a>? <dfn class="idl-code" id="dom-xpathresult-iteratenext"><code>iterateNext</code></dfn>();
  <a class="n" href="#node">Node</a>? <dfn class="idl-code" id="dom-xpathresult-snapshotitem"><code>snapshotItem</code></dfn>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="termref-for-①③⑧①">unsigned long</a> <dfn class="idl-code" id="dom-xpathresult-snapshotitem-index-index"><code>index</code></dfn>);
};
</pre>
   <h3 class="heading settled" id="interface-xpathexpression"><span class="secno">8.2. </span><span class="content">Interface <code class="idl"><a href="#xpathexpression">XPathExpression</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①③⑧②">Exposed</a>=Window]
interface <dfn class="idl-code" id="xpathexpression"><code>XPathExpression</code></dfn> {
  // XPathResult.ANY_TYPE = 0
  <a class="n" href="#xpathresult">XPathResult</a> <dfn class="idl-code" id="dom-xpathexpression-evaluate"><code>evaluate</code></dfn>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-xpathexpression-evaluate-contextnode-type-result-contextnode"><code>contextNode</code></dfn>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑧③">unsigned short</a> <dfn class="idl-code" id="dom-xpathexpression-evaluate-contextnode-type-result-type"><code>type</code></dfn> = 0, optional <a class="n" href="#xpathresult">XPathResult</a>? <dfn class="idl-code" id="dom-xpathexpression-evaluate-contextnode-type-result-result"><code>result</code></dfn> = null);
};
</pre>
   <h3 class="heading settled" id="mixin-xpathevaluatorbase"><span class="secno">8.3. </span><span class="content">Mixin <code class="idl"><a href="#xpathevaluatorbase">XPathEvaluatorBase</a></code></span></h3>
<pre class="idl highlight def">callback interface <dfn class="idl-code" id="callbackdef-xpathnsresolver"><code>XPathNSResolver</code></dfn> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①③⑧④">DOMString</a>? <dfn class="idl-code" id="dom-xpathnsresolver-lookupnamespaceuri"><code>lookupNamespaceURI</code></dfn>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①③⑧⑤">DOMString</a>? <dfn class="idl-code" id="dom-xpathnsresolver-lookupnamespaceuri-prefix-prefix"><code>prefix</code></dfn>);
};

interface mixin <dfn class="idl-code" id="xpathevaluatorbase"><code>XPathEvaluatorBase</code></dfn> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject" id="termref-for-①③⑧⑥">NewObject</a>] <a class="n" href="#xpathexpression">XPathExpression</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-createexpression"><code>createExpression</code></dfn>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①③⑧⑦">DOMString</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-createexpression-expression-resolver-expression"><code>expression</code></dfn>, optional <a class="n" href="#callbackdef-xpathnsresolver">XPathNSResolver</a>? <dfn class="idl-code" id="dom-xpathevaluatorbase-createexpression-expression-resolver-resolver"><code>resolver</code></dfn> = null);
  <a class="n" href="#callbackdef-xpathnsresolver">XPathNSResolver</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-creatensresolver"><code>createNSResolver</code></dfn>(<a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-creatensresolver-noderesolver-noderesolver"><code>nodeResolver</code></dfn>);
  // XPathResult.ANY_TYPE = 0
  <a class="n" href="#xpathresult">XPathResult</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-evaluate"><code>evaluate</code></dfn>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①③⑧⑧">DOMString</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-expression"><code>expression</code></dfn>, <a class="n" href="#node">Node</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-contextnode"><code>contextNode</code></dfn>, optional <a class="n" href="#callbackdef-xpathnsresolver">XPathNSResolver</a>? <dfn class="idl-code" id="dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-resolver"><code>resolver</code></dfn> = null, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="termref-for-①③⑧⑨">unsigned short</a> <dfn class="idl-code" id="dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-type"><code>type</code></dfn> = 0, optional <a class="n" href="#xpathresult">XPathResult</a>? <dfn class="idl-code" id="dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-result"><code>result</code></dfn> = null);
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#xpathevaluatorbase">XPathEvaluatorBase</a>;
</pre>
   <h3 class="heading settled" id="interface-xpathevaluator"><span class="secno">8.4. </span><span class="content">Interface <code class="idl"><a href="#xpathevaluator">XPathEvaluator</a></code></span></h3>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed" id="termref-for-①③⑨⓪">Exposed</a>=Window]
interface <dfn class="idl-code" id="xpathevaluator"><code>XPathEvaluator</code></dfn> {
  <dfn class="idl-code" id="dom-xpathevaluator-xpathevaluator"><code>constructor</code></dfn>();
};

<a class="n" href="#xpathevaluator">XPathEvaluator</a> includes <a class="n" href="#xpathevaluatorbase">XPathEvaluatorBase</a>;
</pre>
   <p class="note" role="note">For historical reasons you can both construct <code class="idl"><a href="#xpathevaluator">XPathEvaluator</a></code> and access the same
methods on <code class="idl"><a href="#document">Document</a></code>. </p>
   <h2 class="heading settled" id="historical"><span class="secno">9. </span><span class="content">Historical</span></h2>
   <p>As explained in <a href="#goals">goals</a> this standard is a significant revision of various
obsolete DOM specifications. This section enumerates the incompatible changes. </p>
   <h3 class="heading settled" id="dom-events-changes"><span class="secno">9.1. </span><span class="content">DOM Events</span></h3>
   <p>These are the changes made to the features described in the "DOM Event Architecture",
"Basic Event Interfaces", "Mutation Events", and "Mutation Name Event Types" chapters of <cite>DOM Level 3 Events</cite>. The other chapters are defined by the <cite>UI Events</cite> specification. <a href="#biblio-uievents">[UIEVENTS]</a> </p>
   <ul class="brief">
    <li>Removes <dfn class="idl-code" id="mutationevent"><code>MutationEvent</code></dfn> and <dfn class="idl-code" id="mutationnameevent"><code>MutationNameEvent</code></dfn>. 
    <li>Fire is no longer synonymous with dispatch, but includes initializing an event. 
    <li>The propagation and canceled flags are unset when invoking <code class="idl"><a href="#dom-event-initevent">initEvent()</a></code> rather than
 after dispatch. 
    <li><code class="idl"><a href="#event">Event</a></code>'s <code class="idl"><a href="#dom-event-timestamp">timeStamp</a></code> attribute is a <code class="idl"><a href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="termref-for-①③⑨①">DOMHighResTimeStamp</a></code> rather than a <code class="idl"><a href="https://heycam.github.io/webidl/#DOMTimeStamp" id="termref-for-①③⑨②">DOMTimeStamp</a></code>. 
   </ul>
   <h3 class="heading settled" id="dom-core-changes"><span class="secno">9.2. </span><span class="content">DOM Core</span></h3>
   <p>These are the changes made to the features described in <cite>DOM Level 3 Core</cite>. </p>
   <p><code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMString" id="termref-for-①③⑨③">DOMString</a></code>, <code class="idl"><a href="https://heycam.github.io/webidl/#idl-DOMException" id="termref-for-①③⑨④">DOMException</a></code>, and <code class="idl"><a href="https://heycam.github.io/webidl/#DOMTimeStamp" id="termref-for-①③⑨⑤">DOMTimeStamp</a></code> are now defined in Web IDL. </p>
   <p id="domstringlist"><code class="idl"><a href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#domstringlist" id="termref-for-①③⑨⑥">DOMStringList</a></code> is now defined in HTML. </p>
   <p><dfn class="idl-code" id="dom-node-hasattributes"><code>hasAttributes()</code></dfn> and <dfn class="idl-code" id="dom-node-attributes"><code>attributes</code></dfn> moved from <code class="idl"><a href="#node">Node</a></code> to <code class="idl"><a href="#element">Element</a></code>. </p>
   <p><dfn class="idl-code" id="dom-node-namespaceuri"><code>namespaceURI</code></dfn>, <dfn class="idl-code" id="dom-node-prefix"><code>prefix</code></dfn>, and <dfn class="idl-code" id="dom-node-localname"><code>localName</code></dfn> moved from <code class="idl"><a href="#node">Node</a></code> to <code class="idl"><a href="#element">Element</a></code> and <code class="idl"><a href="#attr">Attr</a></code>. </p>
   <p>The remainder of interfaces and interface members listed in this section were removed to simplify
the web platform. Implementations conforming to this specification will not support them. </p>
   <p>Interfaces: </p>
   <ul class="brief">
    <li><dfn class="idl-code" id="domconfiguration"><code>DOMConfiguration</code></dfn> 
    <li><dfn class="idl-code" id="domerror"><code>DOMError</code></dfn> 
    <li><dfn class="idl-code" id="domerrorhandler"><code>DOMErrorHandler</code></dfn> 
    <li><dfn class="idl-code" id="domimplementationlist"><code>DOMImplementationList</code></dfn> 
    <li><dfn class="idl-code" id="domimplementationsource"><code>DOMImplementationSource</code></dfn> 
    <li><dfn class="idl-code" id="domlocator"><code>DOMLocator</code></dfn> 
    <li><dfn class="idl-code" id="domobject"><code>DOMObject</code></dfn> 
    <li><dfn class="idl-code" id="domuserdata"><code>DOMUserData</code></dfn> 
    <li><dfn class="idl-code" id="entity"><code>Entity</code></dfn> 
    <li><dfn class="idl-code" id="entityreference"><code>EntityReference</code></dfn> 
    <li><dfn class="idl-code" id="namelist"><code>NameList</code></dfn> 
    <li><dfn class="idl-code" id="notation"><code>Notation</code></dfn> 
    <li><dfn class="idl-code" id="typeinfo"><code>TypeInfo</code></dfn> 
    <li><dfn class="idl-code" id="userdatahandler"><code>UserDataHandler</code></dfn> 
   </ul>
   <p>Interface members: </p>
   <dl>
    <dt><code class="idl"><a href="#node">Node</a></code> 
    <dd>
     <ul class="brief">
      <li><dfn class="idl-code" id="dom-node-issupported"><code>isSupported</code></dfn> 
      <li><dfn class="idl-code" id="dom-node-getfeature"><code>getFeature()</code></dfn> 
      <li><dfn class="idl-code" id="dom-node-getuserdata"><code>getUserData()</code></dfn> 
      <li><dfn class="idl-code" id="dom-node-setuserdata"><code>setUserData()</code></dfn> 
     </ul>
    <dt><code class="idl"><a href="#document">Document</a></code> 
    <dd>
     <ul class="brief">
      <li><dfn class="idl-code" id="dom-document-createentityreference"><code>createEntityReference()</code></dfn> 
      <li><dfn class="idl-code" id="dom-document-xmlencoding"><code>xmlEncoding</code></dfn> 
      <li><dfn class="idl-code" id="dom-document-xmlstandalone"><code>xmlStandalone</code></dfn> 
      <li><dfn class="idl-code" id="dom-document-xmlversion"><code>xmlVersion</code></dfn> 
      <li><dfn class="idl-code" id="dom-document-stricterrorchecking"><code>strictErrorChecking</code></dfn> 
      <li><dfn class="idl-code" id="dom-document-domconfig"><code>domConfig</code></dfn> 
      <li><dfn class="idl-code" id="dom-document-normalizedocument"><code>normalizeDocument()</code></dfn> 
      <li><dfn class="idl-code" id="dom-document-renamenode"><code>renameNode()</code></dfn> 
     </ul>
    <dt><code class="idl"><a href="#domimplementation">DOMImplementation</a></code> 
    <dd>
     <ul class="brief">
      <li><dfn class="idl-code" id="dom-domimplementation-getfeature"><code>getFeature()</code></dfn> 
     </ul>
    <dt><code class="idl"><a href="#attr">Attr</a></code> 
    <dd>
     <ul class="brief">
      <li><dfn class="idl-code" id="dom-attr-schematypeinfo"><code>schemaTypeInfo</code></dfn> 
      <li><dfn class="idl-code" id="dom-attr-isid"><code>isId</code></dfn> 
     </ul>
    <dt><code class="idl"><a href="#element">Element</a></code> 
    <dd>
     <ul class="brief">
      <li><dfn class="idl-code" id="dom-element-schematypeinfo"><code>schemaTypeInfo</code></dfn> 
      <li><dfn class="idl-code" id="dom-element-setidattribute"><code>setIdAttribute()</code></dfn> 
      <li><dfn class="idl-code" id="dom-element-setidattributens"><code>setIdAttributeNS()</code></dfn> 
      <li><dfn class="idl-code" id="dom-element-setidattributenode"><code>setIdAttributeNode()</code></dfn> 
     </ul>
    <dt><code class="idl"><a href="#documenttype">DocumentType</a></code> 
    <dd>
     <ul class="brief">
      <li><dfn class="idl-code" id="dom-documenttype-entities"><code>entities</code></dfn> 
      <li><dfn class="idl-code" id="dom-documenttype-notations"><code>notations</code></dfn> 
      <li><dfn class="idl-code" id="dom-documenttype-internalsubset"><code>internalSubset</code></dfn> 
     </ul>
    <dt><code class="idl"><a href="#text">Text</a></code> 
    <dd>
     <ul class="brief">
      <li><dfn class="idl-code" id="dom-text-iselementcontentwhitespace"><code>isElementContentWhitespace</code></dfn> 
      <li><dfn class="idl-code" id="dom-text-replacewholetext"><code>replaceWholeText()</code></dfn> 
     </ul>
   </dl>
   <h3 class="heading settled" id="dom-ranges-changes"><span class="secno">9.3. </span><span class="content">DOM Ranges</span></h3>
   <p>These are the changes made to the features described in the "Document Object Model Range" chapter
of <cite>DOM Level 2 Traversal and Range</cite>. </p>
   <ul class="brief">
    <li><dfn class="idl-code" id="rangeexception"><code>RangeException</code></dfn> has been removed. 
    <li><code class="idl"><a href="#dom-range-detach">detach()</a></code> is now a no-op. 
   </ul>
   <h3 class="heading settled" id="dom-traversal-changes"><span class="secno">9.4. </span><span class="content">DOM Traversal</span></h3>
   <p>These are the changes made to the features described in the "Document Object Model Traversal"
chapter of <cite>DOM Level 2 Traversal and Range</cite>. </p>
   <ul class="brief">
    <li><code class="idl"><a href="#dom-document-createnodeiterator">createNodeIterator()</a></code> and <code class="idl"><a href="#dom-document-createtreewalker">createTreeWalker()</a></code> now have optional arguments and lack a
 fourth argument which is no longer relevant given entity references never made it into the DOM. 
    <li>The <dfn class="idl-code" id="dom-nodeiterator-expandentityreferences"><code>expandEntityReferences</code></dfn> attribute has
 been removed from the <code class="idl"><a href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a href="#treewalker">TreeWalker</a></code> interfaces for the aforementioned reason. 
    <li><code class="idl"><a href="#dom-nodeiterator-nextnode">nextNode()</a></code> and <code class="idl"><a href="#dom-nodeiterator-previousnode">previousNode()</a></code> now throw when invoked from a <code class="idl"><a href="#callbackdef-nodefilter">NodeFilter</a></code> to align with user agents. 
    <li><code class="idl"><a href="#dom-nodeiterator-detach">detach()</a></code> is now a no-op. 
   </ul>
   <h2 class="no-num heading settled" id="acks"><span class="content">Acknowledgments</span></h2>
   <p>There have been a lot of people that have helped make DOM more interoperable over the years and
thereby furthered the goals of this standard. Likewise many people have helped making this standard
what it is today. </p>
   <p>With that, many thanks to
Adam Klein,
Adrian Bateman,
Ahmid <i>snuggs</i>,
Alex Komoroske,
Alex Russell,
Alexey Shvayka,
Andreu Botella,
Anthony Ramine,
Arkadiusz Michalski,
Arnaud Le Hors,
Arun Ranganathan,
Björn Höhrmann,
Boris Zbarsky,
Brandon Payton,
Brandon Slade,
Brandon Wallace,
Brian Kardell,
Cameron McCormack,
Chris Dumez,
Chris Paris,
Chris Rebert,
Cyrille Tuzi,
Daniel Glazman,
Darin Fisher,
David Bruant,
David Flanagan,
David Håsäther,
David Hyatt,
Deepak Sherveghar,
Dethe Elza,
Dimitri Glazkov,
Domenic Denicola,
Dominic Cooney,
Dominique Hazaël-Massieux,
Don Jordan,
Doug Schepers,
Edgar Chen,
Elisée Maurer,
Elliott Sprehn,
Emilio Cobos Álvarez,
Eric Bidelman,
Erik Arvidsson,
Gary Kacmarcik,
Gavin Nicol,
Giorgio Liscio,
Glen Huang,
Glenn Adams,
Glenn Maynard,
Hajime Morrita,
Harald Alvestrand,
Hayato Ito,
Henri Sivonen,
Hongchan Choi,
Hunan Rostomyan,
Ian Hickson,
Igor Bukanov,
Jacob Rossi,
Jake Archibald,
Jake Verbaten,
James Graham,
James Greene,
James Robinson,
Jeffrey Yasskin,
Jens Lindström,
Jesse McCarthy,
Jinho Bang,
João Eiras,
Joe Kesselman,
John Atkins,
John Dai,
Jonas Sicking,
Jonathan Kingston,
Jonathan Robie,
Joris van der Wel,
Joshua Bell,
J. S. Choi,
Jungkee Song,
Justin Summerlin,
Kagami Sascha Rosylight,
呂康豪 (Kang-Hao Lu),
田村健人 (Kent TAMURA),
Kevin Sweeney,
Kirill Topolyan,
Koji Ishii,
Lachlan Hunt,
Lauren Wood,
Luke Zielinski,
Magne Andersson,
Majid Valipour,
Malte Ubl,
Manish Goregaokar,
Manish Tripathi,
Marcos Caceres,
Mark Miller,
Martijn van der Ven,
Mats Palmgren,
Mounir Lamouri,
Michael Stramel,
Michael™ Smith,
Mike Champion,
Mike Taylor,
Mike West,
Ojan Vafai,
Oliver Nightingale,
Olli Pettay,
Ondřej Žára,
Peter Sharpe,
Philip Jägenstedt,
Philippe Le Hégaret,
Piers Wombwell,
Pierre-Marie Dartus,
prosody—Gab Vereable Context(,
Rafael Weinstein,
Rakina Zata Amni,
Richard Bradshaw,
Rick Byers,
Rick Waldron,
Robbert Broersma,
Robin Berjon,
Roland Steiner,
Rune <span title="Fabulous">F.</span> Halvorsen,
Russell Bicknell,
Ruud Steltenpool,
Ryosuke Niwa,
Sam Dutton,
Sam Sneddon,
Samuel Giles,
Sanket Joshi,
Sebastian Mayr,
Seo Sanghyeon,
Sergey G. Grekhov,
Shiki Okasaka,
Shinya Kawanaka,
Simon Pieters,
Stef Busking,
Steve Byrne,
Stig Halvorsen,
Tab Atkins,
Takashi Sakamoto,
Takayoshi Kochi,
Theresa O’Connor,
Theodore Dubois, <i>timeless</i>,
Timo Tijhof,
Tobie Langel,
Tom Pixley,
Travis Leithead,
Trevor Rowbotham, <i>triple-underscore</i>,
Veli Şenol,
Vidur Apparao,
Warren He,
Xidorn Quan,
Yash Handa,
Yehuda Katz,
Yoav Weiss,
Yoichi Osato,
Yoshinori Sano, and
Zack Weinberg
for being awesome! </p>
   <p>This standard is written by <a href="https://annevankesteren.nl/" lang="nl">Anne van Kesteren</a> (<a href="https://www.mozilla.org/">Mozilla</a>, <a href="mailto:annevk@annevk.nl">annevk@annevk.nl</a>)
with substantial contributions from Aryeh Gregor (<a href="mailto:ayg@aryeh.name">ayg@aryeh.name</a>)
and Ms2ger (<a href="mailto:ms2ger@gmail.com">ms2ger@gmail.com</a>). </p>
   <p>Part of the revision history of the integration points related to <a href="#concept-element-custom">custom</a> elements can be found in <a href="https://github.com/w3c/webcomponents">the w3c/webcomponents repository</a>, which is
available under the <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">W3C Permissive Document License</a>. </p>
   <p>Copyright © 2020 WHATWG (Apple, Google, Mozilla, Microsoft). This work is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution
4.0 International License</a>. </p>
  </main>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span></h3>
  <ul class="index">
   <li><a href="#eventdef-abortsignal-abort">abort</a><span>, in §3.2</span>
   <li><a href="#dom-abortcontroller-abort">abort()</a><span>, in §3.1</span>
   <li><a href="#abortsignal-abort-algorithms">abort algorithms</a><span>, in §3.2</span>
   <li><a href="#abortcontroller">AbortController</a><span>, in §3.1</span>
   <li><a href="#dom-abortcontroller-abortcontroller">AbortController()</a><span>, in §3.1</span>
   <li><a href="#dom-abortsignal-aborted">aborted</a><span>, in §3.2</span>
   <li><a href="#abortsignal-aborted-flag">aborted flag</a><span>, in §3.2</span>
   <li><a href="#abortsignal">AbortSignal</a><span>, in §3.2</span>
   <li><a href="#abstractrange">AbstractRange</a><span>, in §5.3</span>
   <li><a href="#dom-nodefilter-acceptnode">acceptNode(node)</a><span>, in §6.3</span>
   <li><a href="#eventtarget-activation-behavior">activation behavior</a><span>, in §2.7</span>
   <li><a href="#concept-traversal-active">active flag</a><span>, in §6</span>
   <li><a href="#abortsignal-add">add</a><span>, in §3.2</span>
   <li><a href="#dom-domtokenlist-add">add()</a><span>, in §7.1</span>
   <li><a href="#add-an-event-listener">add an event listener</a><span>, in §2.7</span>
   <li><a href="#dom-mutationrecord-addednodes">addedNodes</a><span>, in §4.3.3</span>
   <li><a href="#dictdef-addeventlisteneroptions">AddEventListenerOptions</a><span>, in §2.7</span>
   <li><a href="#dom-eventtarget-addeventlistener">addEventListener(type, callback)</a><span>, in §2.7</span>
   <li><a href="#dom-eventtarget-addeventlistener">addEventListener(type, callback, options)</a><span>, in §2.7</span>
   <li><a href="#dom-domtokenlist-add">add(...tokens)</a><span>, in §7.1</span>
   <li><a href="#dom-domtokenlist-add">add(tokens)</a><span>, in §7.1</span>
   <li><a href="#concept-node-adopt">adopt</a><span>, in §4.5</span>
   <li><a href="#concept-node-adopt-ext">adopting steps</a><span>, in §4.5</span>
   <li><a href="#dom-document-adoptnode">adoptNode(node)</a><span>, in §4.5</span>
   <li><a href="#concept-range-bp-after">after</a><span>, in §5.2</span>
   <li><a href="#dom-childnode-after">after()</a><span>, in §4.2.8</span>
   <li><a href="#dom-childnode-after">after(...nodes)</a><span>, in §4.2.8</span>
   <li><a href="#concept-tree-ancestor">ancestor</a><span>, in §1.1</span>
   <li><a href="#dom-xpathresult-any_type">ANY_TYPE</a><span>, in §8.1</span>
   <li><a href="#dom-xpathresult-any_unordered_node_type">ANY_UNORDERED_NODE_TYPE</a><span>, in §8.1</span>
   <li><a href="#concept-node-append">append</a><span>, in §4.2.3</span>
   <li><a href="#dom-parentnode-append">append()</a><span>, in §4.2.6</span>
   <li><a href="#concept-element-attributes-append">append an attribute</a><span>, in §4.9</span>
   <li><a href="#dom-node-appendchild">appendChild(node)</a><span>, in §4.4</span>
   <li><a href="#dom-characterdata-appenddata">appendData(data)</a><span>, in §4.10</span>
   <li><a href="#dom-parentnode-append">append(...nodes)</a><span>, in §4.2.6</span>
   <li><a href="#concept-event-path-append">append to an event path</a><span>, in §2.9</span>
   <li><a href="#assign-a-slot">assign a slot</a><span>, in §4.2.2.4</span>
   <li><a href="#slotable-assigned">assigned</a><span>, in §4.2.2.2</span>
   <li><a href="#slot-assigned-nodes">assigned nodes</a><span>, in §4.2.2.1</span>
   <li><a href="#slotable-assigned-slot">assigned slot</a><span>, in §4.2.2.2</span>
   <li><a href="#dom-slotable-assignedslot">assignedSlot</a><span>, in §4.2.9</span>
   <li><a href="#assign-slotables">assign slottables</a><span>, in §4.2.2.4</span>
   <li><a href="#assign-slotables-for-a-tree">assign slottables for a tree</a><span>, in §4.2.2.4</span>
   <li><a href="#dom-element-attachshadow">attachShadow(init)</a><span>, in §4.9</span>
   <li><a href="#dom-event-at_target">AT_TARGET</a><span>, in §2.2</span>
   <li><a href="#attr">Attr</a><span>, in §4.9.2</span>
   <li><a href="#concept-attribute">attribute</a><span>, in §4.9.2</span>
   <li><a href="#concept-element-attributes-change-ext">attribute change steps</a><span>, in §4.9</span>
   <li><a href="#dom-mutationobserverinit-attributefilter">attributeFilter</a><span>, in §4.3.1</span>
   <li>
    attribute list
    <ul>
     <li><a href="#concept-element-attribute">dfn for Element</a><span>, in §4.9</span>
     <li><a href="#concept-namednodemap-attribute">dfn for NamedNodeMap</a><span>, in §4.9.1</span>
    </ul>
   <li><a href="#dom-mutationrecord-attributename">attributeName</a><span>, in §4.3.3</span>
   <li><a href="#dom-mutationrecord-attributenamespace">attributeNamespace</a><span>, in §4.3.3</span>
   <li><a href="#dom-node-attribute_node">ATTRIBUTE_NODE</a><span>, in §4.4</span>
   <li><a href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a><span>, in §4.3.1</span>
   <li>
    attributes
    <ul>
     <li><a href="#dom-element-attributes">attribute for Element</a><span>, in §4.9</span>
     <li><a href="#dom-node-attributes">attribute for Node</a><span>, in §9.2</span>
     <li><a href="#dom-mutationobserverinit-attributes">dict-member for MutationObserverInit</a><span>, in §4.3.1</span>
    </ul>
   <li><a href="#dom-node-baseuri">baseURI</a><span>, in §4.4</span>
   <li><a href="#concept-range-bp-before">before</a><span>, in §5.2</span>
   <li><a href="#dom-childnode-before">before()</a><span>, in §4.2.8</span>
   <li><a href="#dom-childnode-before">before(...nodes)</a><span>, in §4.2.8</span>
   <li><a href="#dom-xpathresult-boolean_type">BOOLEAN_TYPE</a><span>, in §8.1</span>
   <li><a href="#dom-xpathresult-booleanvalue">booleanValue</a><span>, in §8.1</span>
   <li><a href="#concept-range-bp">boundary point</a><span>, in §5.2</span>
   <li>
    bubbles
    <ul>
     <li><a href="#dom-event-bubbles">attribute for Event</a><span>, in §2.2</span>
     <li><a href="#dom-eventinit-bubbles">dict-member for EventInit</a><span>, in §2.2</span>
    </ul>
   <li><a href="#dom-event-bubbling_phase">BUBBLING_PHASE</a><span>, in §2.2</span>
   <li>
    callback
    <ul>
     <li><a href="#concept-mo-callback">dfn for MutationObserver</a><span>, in §4.3.1</span>
     <li><a href="#event-listener-callback">dfn for event listener</a><span>, in §2.7</span>
    </ul>
   <li>
    cancelable
    <ul>
     <li><a href="#dom-event-cancelable">attribute for Event</a><span>, in §2.2</span>
     <li><a href="#dom-eventinit-cancelable">dict-member for EventInit</a><span>, in §2.2</span>
    </ul>
   <li><a href="#dom-event-cancelbubble">cancelBubble</a><span>, in §2.2</span>
   <li><a href="#canceled-flag">canceled flag</a><span>, in §2.2</span>
   <li>
    capture
    <ul>
     <li><a href="#event-listener-capture">dfn for event listener</a><span>, in §2.7</span>
     <li><a href="#dom-eventlisteneroptions-capture">dict-member for EventListenerOptions</a><span>, in §2.7</span>
    </ul>
   <li><a href="#dom-event-capturing_phase">CAPTURING_PHASE</a><span>, in §2.2</span>
   <li><a href="#cdatasection">CDATASection</a><span>, in §4.12</span>
   <li><a href="#dom-node-cdata_section_node">CDATA_SECTION_NODE</a><span>, in §4.4</span>
   <li><a href="#concept-element-attributes-change">change an attribute</a><span>, in §4.9</span>
   <li><a href="#characterdata">CharacterData</a><span>, in §4.10</span>
   <li><a href="#dom-mutationobserverinit-characterdata">characterData</a><span>, in §4.3.1</span>
   <li><a href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a><span>, in §4.3.1</span>
   <li><a href="#dom-document-characterset">characterSet</a><span>, in §4.5</span>
   <li><a href="#dom-document-charset">charset</a><span>, in §4.5</span>
   <li><a href="#concept-tree-child">child</a><span>, in §1.1</span>
   <li><a href="#dom-parentnode-childelementcount">childElementCount</a><span>, in §4.2.6</span>
   <li><a href="#dom-mutationobserverinit-childlist">childList</a><span>, in §4.3.1</span>
   <li><a href="#childnode">ChildNode</a><span>, in §4.2.8</span>
   <li><a href="#dom-node-childnodes">childNodes</a><span>, in §4.4</span>
   <li>
    children
    <ul>
     <li><a href="#dom-parentnode-children">attribute for ParentNode</a><span>, in §4.2.6</span>
     <li><a href="#concept-tree-child">dfn for tree</a><span>, in §1.1</span>
    </ul>
   <li><a href="#concept-node-children-changed-ext">children changed steps</a><span>, in §4.2.3</span>
   <li><a href="#concept-child-text-content">child text content</a><span>, in §4.11</span>
   <li><a href="#concept-class">class</a><span>, in §4.9</span>
   <li><a href="#dom-element-classlist">classList</a><span>, in §4.9</span>
   <li><a href="#dom-element-classname">className</a><span>, in §4.9</span>
   <li><a href="#concept-node-clone">clone</a><span>, in §4.4</span>
   <li><a href="#concept-node-clone">clone a node</a><span>, in §4.4</span>
   <li><a href="#dom-range-clonecontents">cloneContents()</a><span>, in §5.5</span>
   <li><a href="#dom-node-clonenode">cloneNode()</a><span>, in §4.4</span>
   <li><a href="#dom-node-clonenode">cloneNode(deep)</a><span>, in §4.4</span>
   <li><a href="#dom-range-clonerange">cloneRange()</a><span>, in §5.5</span>
   <li><a href="#concept-range-clone">clone the contents</a><span>, in §5.5</span>
   <li><a href="#concept-node-clone-ext">cloning steps</a><span>, in §4.4</span>
   <li><a href="#concept-range-clone">cloning the contents</a><span>, in §5.5</span>
   <li><a href="#dom-shadowrootmode-closed">"closed"</a><span>, in §4.8</span>
   <li><a href="#concept-closed-shadow-hidden">closed-shadow-hidden</a><span>, in §4.8</span>
   <li><a href="#dom-element-closest">closest(selectors)</a><span>, in §4.9</span>
   <li><a href="#dom-range-collapse">collapse()</a><span>, in §5.5</span>
   <li>
    collapsed
    <ul>
     <li><a href="#dom-range-collapsed">attribute for AbstractRange</a><span>, in §5.3</span>
     <li><a href="#range-collapsed">dfn for range</a><span>, in §5.3</span>
    </ul>
   <li><a href="#dom-range-collapse">collapse(toStart)</a><span>, in §5.5</span>
   <li><a href="#concept-collection">collection</a><span>, in §4.2.10</span>
   <li><a href="#comment">Comment</a><span>, in §4.14</span>
   <li><a href="#dom-comment-comment">Comment()</a><span>, in §4.14</span>
   <li><a href="#dom-comment-comment">Comment(data)</a><span>, in §4.14</span>
   <li><a href="#dom-node-comment_node">COMMENT_NODE</a><span>, in §4.4</span>
   <li><a href="#dom-range-commonancestorcontainer">commonAncestorContainer</a><span>, in §5.5</span>
   <li><a href="#dom-range-compareboundarypoints">compareBoundaryPoints(how, sourceRange)</a><span>, in §5.5</span>
   <li><a href="#dom-node-comparedocumentposition">compareDocumentPosition(other)</a><span>, in §4.4</span>
   <li><a href="#dom-range-comparepoint">comparePoint(node, offset)</a><span>, in §5.5</span>
   <li><a href="#dom-document-compatmode">compatMode</a><span>, in §4.5</span>
   <li>
    composed
    <ul>
     <li><a href="#dom-event-composed">attribute for Event</a><span>, in §2.2</span>
     <li><a href="#dom-eventinit-composed">dict-member for EventInit</a><span>, in §2.2</span>
     <li><a href="#dom-getrootnodeoptions-composed">dict-member for GetRootNodeOptions</a><span>, in §4.4</span>
    </ul>
   <li><a href="#composed-flag">composed flag</a><span>, in §2.2</span>
   <li><a href="#dom-event-composedpath">composedPath()</a><span>, in §2.2</span>
   <li><a href="#connected">connected</a><span>, in §4.2.2</span>
   <li><a href="#concept-event-constructor">constructor</a><span>, in §2.5</span>
   <li>
    constructor()
    <ul>
     <li><a href="#dom-abortcontroller-abortcontroller">constructor for AbortController</a><span>, in §3.1</span>
     <li><a href="#dom-comment-comment">constructor for Comment</a><span>, in §4.14</span>
     <li><a href="#dom-document-document">constructor for Document</a><span>, in §4.5</span>
     <li><a href="#dom-documentfragment-documentfragment">constructor for DocumentFragment</a><span>, in §4.7</span>
     <li><a href="#dom-eventtarget-eventtarget">constructor for EventTarget</a><span>, in §2.7</span>
     <li><a href="#dom-range-range">constructor for Range</a><span>, in §5.5</span>
     <li><a href="#dom-text-text">constructor for Text</a><span>, in §4.11</span>
     <li><a href="#dom-xpathevaluator-xpathevaluator">constructor for XPathEvaluator</a><span>, in §8.4</span>
    </ul>
   <li><a href="#dom-mutationobserver-mutationobserver">constructor(callback)</a><span>, in §4.3.1</span>
   <li>
    constructor(data)
    <ul>
     <li><a href="#dom-comment-comment">constructor for Comment</a><span>, in §4.14</span>
     <li><a href="#dom-text-text">constructor for Text</a><span>, in §4.11</span>
    </ul>
   <li><a href="#dom-staticrange-staticrange">constructor(init)</a><span>, in §5.4</span>
   <li>
    constructor(type)
    <ul>
     <li><a href="#dom-customevent-customevent">constructor for CustomEvent</a><span>, in §2.4</span>
     <li><a href="#dom-event-event">constructor for Event</a><span>, in §2.2</span>
    </ul>
   <li>
    constructor(type, eventInitDict)
    <ul>
     <li><a href="#dom-customevent-customevent">constructor for CustomEvent</a><span>, in §2.4</span>
     <li><a href="#dom-event-event">constructor for Event</a><span>, in §2.2</span>
    </ul>
   <li><a href="#contained">contained</a><span>, in §5.5</span>
   <li><a href="#dom-node-contains">contains(other)</a><span>, in §4.4</span>
   <li><a href="#dom-domtokenlist-contains">contains(token)</a><span>, in §7.1</span>
   <li><a href="#concept-document-content-type">content type</a><span>, in §4.5</span>
   <li><a href="#dom-document-contenttype">contentType</a><span>, in §4.5</span>
   <li><a href="#context-object">context object</a><span>, in §1</span>
   <li><a href="#contiguous-exclusive-text-nodes">contiguous exclusive Text nodes</a><span>, in §4.11</span>
   <li><a href="#contiguous-text-nodes">contiguous Text nodes</a><span>, in §4.11</span>
   <li><a href="#converting-nodes-into-a-node">converting nodes into a node</a><span>, in §4.2.6</span>
   <li><a href="#concept-create-element">create an element</a><span>, in §4.9</span>
   <li><a href="#concept-event-create">create an event</a><span>, in §2.5</span>
   <li><a href="#dom-document-createattribute">createAttribute(localName)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createattributens">createAttributeNS(namespace, qualifiedName)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createcdatasection">createCDATASection(data)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createcomment">createComment(data)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createdocumentfragment">createDocumentFragment()</a><span>, in §4.5</span>
   <li><a href="#dom-domimplementation-createdocument">createDocument(namespace, qualifiedName)</a><span>, in §4.5.1</span>
   <li><a href="#dom-domimplementation-createdocument">createDocument(namespace, qualifiedName, doctype)</a><span>, in §4.5.1</span>
   <li><a href="#dom-domimplementation-createdocumenttype">createDocumentType(qualifiedName, publicId, systemId)</a><span>, in §4.5.1</span>
   <li><a href="#dom-document-createelement">createElement(localName)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createelement">createElement(localName, options)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createelementns">createElementNS(namespace, qualifiedName)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createelementns">createElementNS(namespace, qualifiedName, options)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createentityreference">createEntityReference()</a><span>, in §9.2</span>
   <li><a href="#dom-document-createevent">createEvent(interface)</a><span>, in §4.5</span>
   <li><a href="#dom-xpathevaluatorbase-createexpression">createExpression(expression)</a><span>, in §8.3</span>
   <li><a href="#dom-xpathevaluatorbase-createexpression">createExpression(expression, resolver)</a><span>, in §8.3</span>
   <li><a href="#dom-domimplementation-createhtmldocument">createHTMLDocument()</a><span>, in §4.5.1</span>
   <li><a href="#dom-domimplementation-createhtmldocument">createHTMLDocument(title)</a><span>, in §4.5.1</span>
   <li><a href="#dom-document-createnodeiterator">createNodeIterator(root)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createnodeiterator">createNodeIterator(root, whatToShow)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createnodeiterator">createNodeIterator(root, whatToShow, filter)</a><span>, in §4.5</span>
   <li><a href="#dom-xpathevaluatorbase-creatensresolver">createNSResolver(nodeResolver)</a><span>, in §8.3</span>
   <li><a href="#dom-document-createprocessinginstruction">createProcessingInstruction(target, data)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createrange">createRange()</a><span>, in §4.5</span>
   <li><a href="#dom-document-createtextnode">createTextNode(data)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createtreewalker">createTreeWalker(root)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createtreewalker">createTreeWalker(root, whatToShow)</a><span>, in §4.5</span>
   <li><a href="#dom-document-createtreewalker">createTreeWalker(root, whatToShow, filter)</a><span>, in §4.5</span>
   <li><a href="#concept-create-element">creating an element</a><span>, in §4.9</span>
   <li><a href="#concept-event-create">creating an event</a><span>, in §2.5</span>
   <li><a href="#treewalker-current">current</a><span>, in §6.2</span>
   <li><a href="#window-current-event">current event</a><span>, in §2.3</span>
   <li><a href="#dom-treewalker-currentnode">currentNode</a><span>, in §6.2</span>
   <li><a href="#dom-event-currenttarget">currentTarget</a><span>, in §2.2</span>
   <li><a href="#concept-element-custom">custom</a><span>, in §4.9</span>
   <li><a href="#concept-element-custom-element-definition">custom element definition</a><span>, in §4.9</span>
   <li><a href="#concept-element-custom-element-state">custom element state</a><span>, in §4.9</span>
   <li><a href="#customevent">CustomEvent</a><span>, in §2.4</span>
   <li><a href="#dictdef-customeventinit">CustomEventInit</a><span>, in §2.4</span>
   <li><a href="#dom-customevent-customevent">CustomEvent(type)</a><span>, in §2.4</span>
   <li><a href="#dom-customevent-customevent">CustomEvent(type, eventInitDict)</a><span>, in §2.4</span>
   <li>
    data
    <ul>
     <li><a href="#dom-characterdata-data">attribute for CharacterData</a><span>, in §4.10</span>
     <li><a href="#concept-cd-data">dfn for CharacterData</a><span>, in §4.10</span>
    </ul>
   <li><a href="#dom-event-defaultprevented">defaultPrevented</a><span>, in §2.2</span>
   <li><a href="#concept-element-defined">defined</a><span>, in §4.9</span>
   <li><a href="#shadowroot-delegates-focus">delegates focus</a><span>, in §4.8</span>
   <li><a href="#dom-shadowrootinit-delegatesfocus">delegatesFocus</a><span>, in §4.9</span>
   <li><a href="#dom-range-deletecontents">deleteContents()</a><span>, in §5.5</span>
   <li><a href="#dom-characterdata-deletedata">deleteData(offset, count)</a><span>, in §4.10</span>
   <li><a href="#concept-tree-descendant">descendant</a><span>, in §1.1</span>
   <li><a href="#concept-descendant-text-content">descendant text content</a><span>, in §4.11</span>
   <li>
    detach()
    <ul>
     <li><a href="#dom-nodeiterator-detach">method for NodeIterator</a><span>, in §6.1</span>
     <li><a href="#dom-range-detach">method for Range</a><span>, in §5.5</span>
    </ul>
   <li>
    detail
    <ul>
     <li><a href="#dom-customevent-detail">attribute for CustomEvent</a><span>, in §2.4</span>
     <li><a href="#dom-customeventinit-detail">dict-member for CustomEventInit</a><span>, in §2.4</span>
    </ul>
   <li><a href="#dom-mutationobserver-disconnect">disconnect()</a><span>, in §4.3.1</span>
   <li><a href="#concept-event-dispatch">dispatch</a><span>, in §2.9</span>
   <li><a href="#dom-eventtarget-dispatchevent">dispatchEvent(event)</a><span>, in §2.7</span>
   <li><a href="#dispatch-flag">dispatch flag</a><span>, in §2.2</span>
   <li>
    doctype
    <ul>
     <li><a href="#dom-document-doctype">attribute for Document</a><span>, in §4.5</span>
     <li><a href="#concept-doctype">definition of</a><span>, in §4.6</span>
    </ul>
   <li><a href="#document">Document</a><span>, in §4.5</span>
   <li><a href="#concept-document">document</a><span>, in §4.5</span>
   <li><a href="#dom-document-document">Document()</a><span>, in §4.5</span>
   <li><a href="#document-element">document element</a><span>, in §4.2.1</span>
   <li><a href="#dom-document-documentelement">documentElement</a><span>, in §4.5</span>
   <li><a href="#documentfragment">DocumentFragment</a><span>, in §4.7</span>
   <li><a href="#dom-documentfragment-documentfragment">DocumentFragment()</a><span>, in §4.7</span>
   <li><a href="#dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE</a><span>, in §4.4</span>
   <li><a href="#dom-node-document_node">DOCUMENT_NODE</a><span>, in §4.4</span>
   <li><a href="#documentorshadowroot">DocumentOrShadowRoot</a><span>, in §4.2.5</span>
   <li><a href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a><span>, in §4.4</span>
   <li><a href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a><span>, in §4.4</span>
   <li><a href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a><span>, in §4.4</span>
   <li><a href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a><span>, in §4.4</span>
   <li><a href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a><span>, in §4.4</span>
   <li><a href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a><span>, in §4.4</span>
   <li><a href="#concept-document-tree">document tree</a><span>, in §4.2.1</span>
   <li><a href="#documenttype">DocumentType</a><span>, in §4.6</span>
   <li><a href="#dom-node-document_type_node">DOCUMENT_TYPE_NODE</a><span>, in §4.4</span>
   <li><a href="#dom-document-documenturi">documentURI</a><span>, in §4.5</span>
   <li><a href="#dom-document-domconfig">domConfig</a><span>, in §9.2</span>
   <li><a href="#domconfiguration">DOMConfiguration</a><span>, in §9.2</span>
   <li><a href="#domerror">DOMError</a><span>, in §9.2</span>
   <li><a href="#domerrorhandler">DOMErrorHandler</a><span>, in §9.2</span>
   <li><a href="#domimplementation">DOMImplementation</a><span>, in §4.5.1</span>
   <li><a href="#domimplementationlist">DOMImplementationList</a><span>, in §9.2</span>
   <li><a href="#domimplementationsource">DOMImplementationSource</a><span>, in §9.2</span>
   <li><a href="#domlocator">DOMLocator</a><span>, in §9.2</span>
   <li><a href="#domobject">DOMObject</a><span>, in §9.2</span>
   <li><a href="#domtokenlist">DOMTokenList</a><span>, in §7.1</span>
   <li><a href="#domuserdata">DOMUserData</a><span>, in §9.2</span>
   <li><a href="#element">Element</a><span>, in §4.9</span>
   <li>
    element
    <ul>
     <li><a href="#concept-element">definition of</a><span>, in §4.9</span>
     <li><a href="#concept-attribute-element">dfn for Attr</a><span>, in §4.9.2</span>
     <li><a href="#concept-namednodemap-element">dfn for NamedNodeMap</a><span>, in §4.9.1</span>
    </ul>
   <li><a href="#dictdef-elementcreationoptions">ElementCreationOptions</a><span>, in §4.5</span>
   <li><a href="#concept-element-interface">element interface</a><span>, in §4.5</span>
   <li><a href="#dom-node-element_node">ELEMENT_NODE</a><span>, in §4.4</span>
   <li><a href="#concept-node-empty">empty</a><span>, in §4.2</span>
   <li><a href="#concept-document-encoding">encoding</a><span>, in §4.5</span>
   <li><a href="#concept-range-end">end</a><span>, in §5.3</span>
   <li>
    endContainer
    <ul>
     <li><a href="#dom-range-endcontainer">attribute for AbstractRange</a><span>, in §5.3</span>
     <li><a href="#dom-staticrangeinit-endcontainer">dict-member for StaticRangeInit</a><span>, in §5.4</span>
    </ul>
   <li><a href="#concept-range-end-node">end node</a><span>, in §5.3</span>
   <li><a href="#concept-range-end-offset">end offset</a><span>, in §5.3</span>
   <li>
    endOffset
    <ul>
     <li><a href="#dom-range-endoffset">attribute for AbstractRange</a><span>, in §5.3</span>
     <li><a href="#dom-staticrangeinit-endoffset">dict-member for StaticRangeInit</a><span>, in §5.4</span>
    </ul>
   <li><a href="#dom-range-end_to_end">END_TO_END</a><span>, in §5.5</span>
   <li><a href="#dom-range-end_to_start">END_TO_START</a><span>, in §5.5</span>
   <li><a href="#concept-node-ensure-pre-insertion-validity">ensure pre-insertion validity</a><span>, in §4.2.3</span>
   <li><a href="#dom-documenttype-entities">entities</a><span>, in §9.2</span>
   <li><a href="#entity">Entity</a><span>, in §9.2</span>
   <li><a href="#dom-node-entity_node">ENTITY_NODE</a><span>, in §4.4</span>
   <li><a href="#entityreference">EntityReference</a><span>, in §9.2</span>
   <li><a href="#dom-node-entity_reference_node">ENTITY_REFERENCE_NODE</a><span>, in §4.4</span>
   <li><a href="#concept-range-bp-equal">equal</a><span>, in §5.2</span>
   <li><a href="#concept-node-equals">equals</a><span>, in §4.4</span>
   <li><a href="#dom-xpathexpression-evaluate">evaluate(contextNode)</a><span>, in §8.2</span>
   <li><a href="#dom-xpathexpression-evaluate">evaluate(contextNode, type)</a><span>, in §8.2</span>
   <li><a href="#dom-xpathexpression-evaluate">evaluate(contextNode, type, result)</a><span>, in §8.2</span>
   <li><a href="#dom-xpathevaluatorbase-evaluate">evaluate(expression, contextNode)</a><span>, in §8.3</span>
   <li><a href="#dom-xpathevaluatorbase-evaluate">evaluate(expression, contextNode, resolver)</a><span>, in §8.3</span>
   <li><a href="#dom-xpathevaluatorbase-evaluate">evaluate(expression, contextNode, resolver, type)</a><span>, in §8.3</span>
   <li><a href="#dom-xpathevaluatorbase-evaluate">evaluate(expression, contextNode, resolver, type, result)</a><span>, in §8.3</span>
   <li><a href="#event">Event</a><span>, in §2.2</span>
   <li>
    event
    <ul>
     <li><a href="#dom-window-event">attribute for Window</a><span>, in §2.3</span>
     <li><a href="#concept-event">definition of</a><span>, in §2.2</span>
    </ul>
   <li><a href="#concept-event-constructor-ext">event constructing steps</a><span>, in §2.5</span>
   <li><a href="#dictdef-eventinit">EventInit</a><span>, in §2.2</span>
   <li><a href="#concept-event-listener">event listener</a><span>, in §2.7</span>
   <li><a href="#callbackdef-eventlistener">EventListener</a><span>, in §2.7</span>
   <li><a href="#eventtarget-event-listener-list">event listener list</a><span>, in §2.7</span>
   <li><a href="#dictdef-eventlisteneroptions">EventListenerOptions</a><span>, in §2.7</span>
   <li><a href="#dom-event-eventphase">eventPhase</a><span>, in §2.2</span>
   <li><a href="#eventtarget">EventTarget</a><span>, in §2.7</span>
   <li><a href="#dom-eventtarget-eventtarget">EventTarget()</a><span>, in §2.7</span>
   <li><a href="#dom-event-event">Event(type)</a><span>, in §2.2</span>
   <li><a href="#dom-event-event">Event(type, eventInitDict)</a><span>, in §2.2</span>
   <li><a href="#exclusive-text-node">exclusive Text node</a><span>, in §4.11</span>
   <li><a href="#dom-nodeiterator-expandentityreferences">expandEntityReferences</a><span>, in §9.4</span>
   <li><a href="#concept-range-extract">extract</a><span>, in §5.5</span>
   <li><a href="#dom-range-extractcontents">extractContents()</a><span>, in §5.5</span>
   <li>
    filter
    <ul>
     <li><a href="#dom-nodeiterator-filter">attribute for NodeIterator</a><span>, in §6.1</span>
     <li><a href="#dom-treewalker-filter">attribute for TreeWalker</a><span>, in §6.2</span>
     <li><a href="#concept-node-filter">definition of</a><span>, in §6</span>
     <li><a href="#concept-traversal-filter">dfn for traversal</a><span>, in §6</span>
    </ul>
   <li><a href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-filter_reject">FILTER_REJECT</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-filter_skip">FILTER_SKIP</a><span>, in §6.3</span>
   <li><a href="#find-a-slot">find a slot</a><span>, in §4.2.2.3</span>
   <li><a href="#find-flattened-slotables">find flattened slottables</a><span>, in §4.2.2.3</span>
   <li><a href="#find-a-slot">finding a slot</a><span>, in §4.2.2.3</span>
   <li><a href="#find-flattened-slotables">finding flattened slottables</a><span>, in §4.2.2.3</span>
   <li><a href="#find-slotables">finding slottables</a><span>, in §4.2.2.3</span>
   <li><a href="#find-slotables">find slottables</a><span>, in §4.2.2.3</span>
   <li><a href="#concept-event-fire">fire an event</a><span>, in §2.10</span>
   <li><a href="#concept-tree-first-child">first child</a><span>, in §1.1</span>
   <li><a href="#dom-node-firstchild">firstChild</a><span>, in §4.4</span>
   <li><a href="#dom-treewalker-firstchild">firstChild()</a><span>, in §6.2</span>
   <li><a href="#dom-parentnode-firstelementchild">firstElementChild</a><span>, in §4.2.6</span>
   <li><a href="#dom-xpathresult-first_ordered_node_type">FIRST_ORDERED_NODE_TYPE</a><span>, in §8.1</span>
   <li><a href="#concept-flatten-options">flatten</a><span>, in §2.7</span>
   <li><a href="#event-flatten-more">flatten more</a><span>, in §2.7</span>
   <li><a href="#abortsignal-follow">follow</a><span>, in §3.2</span>
   <li><a href="#concept-tree-following">following</a><span>, in §1.1</span>
   <li><a href="#concept-element-attributes-get-by-name">get an attribute by name</a><span>, in §4.9</span>
   <li><a href="#concept-element-attributes-get-by-namespace">get an attribute by namespace and local name</a><span>, in §4.9</span>
   <li><a href="#concept-element-attributes-get-value">get an attribute value</a><span>, in §4.9</span>
   <li><a href="#dom-element-getattributenames">getAttributeNames()</a><span>, in §4.9</span>
   <li><a href="#dom-element-getattributenodens">getAttributeNodeNS(namespace, localName)</a><span>, in §4.9</span>
   <li><a href="#dom-element-getattributenode">getAttributeNode(qualifiedName)</a><span>, in §4.9</span>
   <li><a href="#dom-element-getattributens">getAttributeNS(namespace, localName)</a><span>, in §4.9</span>
   <li><a href="#dom-element-getattribute">getAttribute(qualifiedName)</a><span>, in §4.9</span>
   <li><a href="#dom-nonelementparentnode-getelementbyid">getElementById(elementId)</a><span>, in §4.2.4</span>
   <li>
    getElementsByClassName(classNames)
    <ul>
     <li><a href="#dom-document-getelementsbyclassname">method for Document</a><span>, in §4.5</span>
     <li><a href="#dom-element-getelementsbyclassname">method for Element</a><span>, in §4.9</span>
    </ul>
   <li>
    getElementsByTagNameNS(namespace, localName)
    <ul>
     <li><a href="#dom-document-getelementsbytagnamens">method for Document</a><span>, in §4.5</span>
     <li><a href="#dom-element-getelementsbytagnamens">method for Element</a><span>, in §4.9</span>
    </ul>
   <li>
    getElementsByTagName(qualifiedName)
    <ul>
     <li><a href="#dom-document-getelementsbytagname">method for Document</a><span>, in §4.5</span>
     <li><a href="#dom-element-getelementsbytagname">method for Element</a><span>, in §4.9</span>
    </ul>
   <li>
    getFeature()
    <ul>
     <li><a href="#dom-domimplementation-getfeature">method for DOMImplementation</a><span>, in §9.2</span>
     <li><a href="#dom-node-getfeature">method for Node</a><span>, in §9.2</span>
    </ul>
   <li><a href="#dom-namednodemap-getnameditemns">getNamedItemNS(namespace, localName)</a><span>, in §4.9.1</span>
   <li><a href="#dom-namednodemap-getnameditem">getNamedItem(qualifiedName)</a><span>, in §4.9.1</span>
   <li><a href="#dom-node-getrootnode">getRootNode()</a><span>, in §4.4</span>
   <li><a href="#dom-node-getrootnode">getRootNode(options)</a><span>, in §4.4</span>
   <li><a href="#dictdef-getrootnodeoptions">GetRootNodeOptions</a><span>, in §4.4</span>
   <li><a href="#get-the-parent">get the parent</a><span>, in §2.7</span>
   <li><a href="#dom-node-getuserdata">getUserData()</a><span>, in §9.2</span>
   <li><a href="#handle-attribute-changes">handle attribute changes</a><span>, in §4.9</span>
   <li><a href="#dom-eventlistener-handleevent">handleEvent(event)</a><span>, in §2.7</span>
   <li><a href="#concept-element-attribute-has">has an attribute</a><span>, in §4.9</span>
   <li><a href="#dom-element-hasattributens">hasAttributeNS(namespace, localName)</a><span>, in §4.9</span>
   <li><a href="#dom-element-hasattribute">hasAttribute(qualifiedName)</a><span>, in §4.9</span>
   <li>
    hasAttributes()
    <ul>
     <li><a href="#dom-element-hasattributes">method for Element</a><span>, in §4.9</span>
     <li><a href="#dom-node-hasattributes">method for Node</a><span>, in §9.2</span>
    </ul>
   <li><a href="#dom-node-haschildnodes">hasChildNodes()</a><span>, in §4.4</span>
   <li><a href="#dom-domimplementation-hasfeature">hasFeature()</a><span>, in §4.5.1</span>
   <li>
    host
    <ul>
     <li><a href="#dom-shadowroot-host">attribute for ShadowRoot</a><span>, in §4.8</span>
     <li><a href="#concept-documentfragment-host">dfn for DocumentFragment</a><span>, in §4.7</span>
    </ul>
   <li><a href="#concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</a><span>, in §4.7</span>
   <li><a href="#htmlcollection">HTMLCollection</a><span>, in §4.2.10.2</span>
   <li><a href="#html-document">HTML document</a><span>, in §4.5</span>
   <li><a href="#element-html-uppercased-qualified-name">HTML-uppercased qualified name</a><span>, in §4.9</span>
   <li><a href="#concept-id">ID</a><span>, in §4.9</span>
   <li><a href="#dom-element-id">id</a><span>, in §4.9</span>
   <li><a href="#dom-document-implementation">implementation</a><span>, in §4.5</span>
   <li><a href="#dom-document-importnode">importNode(node)</a><span>, in §4.5</span>
   <li><a href="#dom-document-importnode">importNode(node, deep)</a><span>, in §4.5</span>
   <li><a href="#in-a-document">in a document</a><span>, in §4.2.1</span>
   <li><a href="#in-a-document-tree">in a document tree</a><span>, in §4.2.1</span>
   <li><a href="#concept-tree-inclusive-ancestor">inclusive ancestor</a><span>, in §1.1</span>
   <li><a href="#concept-tree-inclusive-descendant">inclusive descendant</a><span>, in §1.1</span>
   <li><a href="#concept-tree-inclusive-sibling">inclusive sibling</a><span>, in §1.1</span>
   <li><a href="#concept-tree-index">index</a><span>, in §1.1</span>
   <li><a href="#dom-customevent-initcustomevent">initCustomEvent(type)</a><span>, in §2.4</span>
   <li><a href="#dom-customevent-initcustomevent">initCustomEvent(type, bubbles)</a><span>, in §2.4</span>
   <li><a href="#dom-customevent-initcustomevent">initCustomEvent(type, bubbles, cancelable)</a><span>, in §2.4</span>
   <li><a href="#dom-customevent-initcustomevent">initCustomEvent(type, bubbles, cancelable, detail)</a><span>, in §2.4</span>
   <li><a href="#dom-event-initevent">initEvent(type)</a><span>, in §2.2</span>
   <li><a href="#dom-event-initevent">initEvent(type, bubbles)</a><span>, in §2.2</span>
   <li><a href="#dom-event-initevent">initEvent(type, bubbles, cancelable)</a><span>, in §2.2</span>
   <li><a href="#concept-event-initialize">initialize</a><span>, in §2.2</span>
   <li><a href="#initialized-flag">initialized flag</a><span>, in §2.2</span>
   <li><a href="#inner-event-creation-steps">inner event creation steps</a><span>, in §2.5</span>
   <li><a href="#concept-event-listener-inner-invoke">inner invoke</a><span>, in §2.9</span>
   <li><a href="#in-passive-listener-flag">in passive listener flag</a><span>, in §2.2</span>
   <li><a href="#dom-document-inputencoding">inputEncoding</a><span>, in §4.5</span>
   <li>
    insert
    <ul>
     <li><a href="#concept-node-insert">definition of</a><span>, in §4.2.3</span>
     <li><a href="#concept-range-insert">dfn for live range</a><span>, in §5.5</span>
    </ul>
   <li><a href="#insert-adjacent">insert adjacent</a><span>, in §4.9</span>
   <li><a href="#dom-element-insertadjacentelement">insertAdjacentElement(where, element)</a><span>, in §4.9</span>
   <li><a href="#dom-element-insertadjacenttext">insertAdjacentText(where, data)</a><span>, in §4.9</span>
   <li><a href="#dom-node-insertbefore">insertBefore(node, child)</a><span>, in §4.4</span>
   <li><a href="#dom-characterdata-insertdata">insertData(offset, data)</a><span>, in §4.10</span>
   <li><a href="#concept-node-insert-ext">insertion steps</a><span>, in §4.2.3</span>
   <li><a href="#dom-range-insertnode">insertNode(node)</a><span>, in §5.5</span>
   <li><a href="#internal-createelementns-steps">internal createElementNS steps</a><span>, in §4.5</span>
   <li><a href="#dom-documenttype-internalsubset">internalSubset</a><span>, in §9.2</span>
   <li><a href="#dom-range-intersectsnode">intersectsNode(node)</a><span>, in §5.5</span>
   <li><a href="#dom-xpathresult-invaliditeratorstate">invalidIteratorState</a><span>, in §8.1</span>
   <li><a href="#event-path-invocation-target">invocation target</a><span>, in §2.2</span>
   <li><a href="#event-path-invocation-target-in-shadow-tree">invocation-target-in-shadow-tree</a><span>, in §2.2</span>
   <li><a href="#concept-event-listener-invoke">invoke</a><span>, in §2.9</span>
   <li><a href="#dom-elementcreationoptions-is">is</a><span>, in §4.5</span>
   <li><a href="#dom-node-isconnected">isConnected</a><span>, in §4.4</span>
   <li><a href="#dom-node-isdefaultnamespace">isDefaultNamespace(namespace)</a><span>, in §4.4</span>
   <li><a href="#dom-text-iselementcontentwhitespace">isElementContentWhitespace</a><span>, in §9.2</span>
   <li><a href="#dom-node-isequalnode">isEqualNode(otherNode)</a><span>, in §4.4</span>
   <li><a href="#dom-attr-isid">isId</a><span>, in §9.2</span>
   <li><a href="#dom-range-ispointinrange">isPointInRange(node, offset)</a><span>, in §5.5</span>
   <li><a href="#dom-node-issamenode">isSameNode(otherNode)</a><span>, in §4.4</span>
   <li><a href="#dom-node-issupported">isSupported</a><span>, in §9.2</span>
   <li><a href="#dom-event-istrusted">isTrusted</a><span>, in §2.2</span>
   <li><a href="#concept-element-is-value">is value</a><span>, in §4.9</span>
   <li>
    item(index)
    <ul>
     <li><a href="#dom-domtokenlist-item">method for DOMTokenList</a><span>, in §7.1</span>
     <li><a href="#dom-htmlcollection-item">method for HTMLCollection</a><span>, in §4.2.10.2</span>
     <li><a href="#dom-namednodemap-item">method for NamedNodeMap</a><span>, in §4.9.1</span>
     <li><a href="#dom-nodelist-item">method for NodeList</a><span>, in §4.2.10.1</span>
    </ul>
   <li><a href="#dom-xpathresult-iteratenext">iterateNext()</a><span>, in §8.1</span>
   <li><a href="#iterator-collection">iterator collection</a><span>, in §6.1</span>
   <li><a href="#concept-tree-last-child">last child</a><span>, in §1.1</span>
   <li><a href="#dom-node-lastchild">lastChild</a><span>, in §4.4</span>
   <li><a href="#dom-treewalker-lastchild">lastChild()</a><span>, in §6.2</span>
   <li><a href="#dom-parentnode-lastelementchild">lastElementChild</a><span>, in §4.2.6</span>
   <li><a href="#eventtarget-legacy-canceled-activation-behavior">legacy-canceled-activation behavior</a><span>, in §2.7</span>
   <li><a href="#eventtarget-legacy-pre-activation-behavior">legacy-pre-activation behavior</a><span>, in §2.7</span>
   <li>
    length
    <ul>
     <li><a href="#dom-characterdata-length">attribute for CharacterData</a><span>, in §4.10</span>
     <li><a href="#dom-domtokenlist-length">attribute for DOMTokenList</a><span>, in §7.1</span>
     <li><a href="#dom-htmlcollection-length">attribute for HTMLCollection</a><span>, in §4.2.10.2</span>
     <li><a href="#dom-namednodemap-length">attribute for NamedNodeMap</a><span>, in §4.9.1</span>
     <li><a href="#dom-nodelist-length">attribute for NodeList</a><span>, in §4.2.10.1</span>
     <li><a href="#concept-node-length">dfn for Node</a><span>, in §4.2</span>
    </ul>
   <li><a href="#concept-light-tree">light tree</a><span>, in §4.2.2</span>
   <li><a href="#concept-document-limited-quirks">limited-quirks mode</a><span>, in §4.5</span>
   <li><a href="#concept-getelementsbyclassname">list of elements with class names classNames</a><span>, in §4.4</span>
   <li><a href="#concept-getelementsbytagnamens">list of elements with namespace namespace and local name localName</a><span>, in §4.4</span>
   <li><a href="#concept-getelementsbytagname">list of elements with qualified name qualifiedName</a><span>, in §4.4</span>
   <li><a href="#concept-collection-live">live</a><span>, in §4.2.10</span>
   <li><a href="#concept-collection-live">live collection</a><span>, in §4.2.10</span>
   <li><a href="#concept-live-range">live ranges</a><span>, in §5.5</span>
   <li>
    local name
    <ul>
     <li><a href="#concept-attribute-local-name">dfn for Attr</a><span>, in §4.9.2</span>
     <li><a href="#concept-element-local-name">dfn for Element</a><span>, in §4.9</span>
    </ul>
   <li>
    localName
    <ul>
     <li><a href="#dom-attr-localname">attribute for Attr</a><span>, in §4.9.2</span>
     <li><a href="#dom-element-localname">attribute for Element</a><span>, in §4.9</span>
     <li><a href="#dom-node-localname">attribute for Node</a><span>, in §9.2</span>
    </ul>
   <li><a href="#locate-a-namespace">locate a namespace</a><span>, in §4.4</span>
   <li><a href="#locate-a-namespace-prefix">locate a namespace prefix</a><span>, in §4.4</span>
   <li><a href="#locate-a-namespace-prefix">locating a namespace prefix</a><span>, in §4.4</span>
   <li>
    lookupNamespaceURI(prefix)
    <ul>
     <li><a href="#dom-node-lookupnamespaceuri">method for Node</a><span>, in §4.4</span>
     <li><a href="#dom-xpathnsresolver-lookupnamespaceuri">method for XPathNSResolver</a><span>, in §8.3</span>
    </ul>
   <li><a href="#dom-node-lookupprefix">lookupPrefix(namespace)</a><span>, in §4.4</span>
   <li><a href="#dom-element-matches">matches(selectors)</a><span>, in §4.9</span>
   <li>
    mode
    <ul>
     <li><a href="#dom-shadowroot-mode">attribute for ShadowRoot</a><span>, in §4.8</span>
     <li><a href="#concept-document-mode">dfn for Document</a><span>, in §4.5</span>
     <li><a href="#shadowroot-mode">dfn for ShadowRoot</a><span>, in §4.8</span>
     <li><a href="#dom-shadowrootinit-mode">dict-member for ShadowRootInit</a><span>, in §4.9</span>
    </ul>
   <li><a href="#callbackdef-mutationcallback">MutationCallback</a><span>, in §4.3.1</span>
   <li><a href="#mutationevent">MutationEvent</a><span>, in §9.1</span>
   <li><a href="#mutationnameevent">MutationNameEvent</a><span>, in §9.1</span>
   <li><a href="#mutationobserver">MutationObserver</a><span>, in §4.3.1</span>
   <li><a href="#dom-mutationobserver-mutationobserver">MutationObserver(callback)</a><span>, in §4.3.1</span>
   <li><a href="#dictdef-mutationobserverinit">MutationObserverInit</a><span>, in §4.3.1</span>
   <li><a href="#mutation-observer-compound-microtask-queued-flag">mutation observer microtask queued</a><span>, in §4.3</span>
   <li><a href="#mutation-observer-list">mutation observers</a><span>, in §4.3</span>
   <li><a href="#mutationrecord">MutationRecord</a><span>, in §4.3.3</span>
   <li>
    name
    <ul>
     <li><a href="#dom-attr-name">attribute for Attr</a><span>, in §4.9.2</span>
     <li><a href="#dom-documenttype-name">attribute for DocumentType</a><span>, in §4.6</span>
     <li><a href="#concept-doctype-name">dfn for DocumentType</a><span>, in §4.6</span>
     <li><a href="#slot-name">dfn for slot</a><span>, in §4.2.2.1</span>
     <li><a href="#slotable-name">dfn for slottable</a><span>, in §4.2.2.2</span>
    </ul>
   <li><a href="#concept-named-attribute">named attribute</a><span>, in §4.9.2</span>
   <li><a href="#dom-htmlcollection-nameditem-key">namedItem(key)</a><span>, in §4.2.10.2</span>
   <li><a href="#dom-htmlcollection-nameditem">namedItem(name)</a><span>, in §4.2.10.2</span>
   <li><a href="#namednodemap">NamedNodeMap</a><span>, in §4.9.1</span>
   <li><a href="#namelist">NameList</a><span>, in §9.2</span>
   <li>
    namespace
    <ul>
     <li><a href="#concept-attribute-namespace">dfn for Attr</a><span>, in §4.9.2</span>
     <li><a href="#concept-element-namespace">dfn for Element</a><span>, in §4.9</span>
    </ul>
   <li>
    namespace prefix
    <ul>
     <li><a href="#concept-attribute-namespace-prefix">dfn for Attr</a><span>, in §4.9.2</span>
     <li><a href="#concept-element-namespace-prefix">dfn for Element</a><span>, in §4.9</span>
    </ul>
   <li>
    namespaceURI
    <ul>
     <li><a href="#dom-attr-namespaceuri">attribute for Attr</a><span>, in §4.9.2</span>
     <li><a href="#dom-element-namespaceuri">attribute for Element</a><span>, in §4.9</span>
     <li><a href="#dom-node-namespaceuri">attribute for Node</a><span>, in §9.2</span>
    </ul>
   <li><a href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a><span>, in §4.2.7</span>
   <li>
    nextNode()
    <ul>
     <li><a href="#dom-nodeiterator-nextnode">method for NodeIterator</a><span>, in §6.1</span>
     <li><a href="#dom-treewalker-nextnode">method for TreeWalker</a><span>, in §6.2</span>
    </ul>
   <li><a href="#concept-tree-next-sibling">next sibling</a><span>, in §1.1</span>
   <li>
    nextSibling
    <ul>
     <li><a href="#dom-mutationrecord-nextsibling">attribute for MutationRecord</a><span>, in §4.3.3</span>
     <li><a href="#dom-node-nextsibling">attribute for Node</a><span>, in §4.4</span>
    </ul>
   <li><a href="#dom-treewalker-nextsibling">nextSibling()</a><span>, in §6.2</span>
   <li><a href="#node">Node</a><span>, in §4.4</span>
   <li><a href="#boundary-point-node">node</a><span>, in §5.2</span>
   <li><a href="#concept-node-document">node document</a><span>, in §4.4</span>
   <li><a href="#callbackdef-nodefilter">NodeFilter</a><span>, in §6.3</span>
   <li><a href="#nodeiterator">NodeIterator</a><span>, in §6.1</span>
   <li><a href="#nodeiterator-pre-removing-steps">NodeIterator pre-removing steps</a><span>, in §6.1</span>
   <li><a href="#mutationobserver-node-list">node list</a><span>, in §4.3.1</span>
   <li><a href="#nodelist">NodeList</a><span>, in §4.2.10.1</span>
   <li><a href="#dom-node-nodename">nodeName</a><span>, in §4.4</span>
   <li><a href="#concept-node">nodes</a><span>, in §4.2</span>
   <li><a href="#concept-node-tree">node tree</a><span>, in §4.2</span>
   <li><a href="#dom-node-nodetype">nodeType</a><span>, in §4.4</span>
   <li><a href="#dom-node-nodevalue">nodeValue</a><span>, in §4.4</span>
   <li><a href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a><span>, in §4.2.7</span>
   <li><a href="#dom-event-none">NONE</a><span>, in §2.2</span>
   <li><a href="#nonelementparentnode">NonElementParentNode</a><span>, in §4.2.4</span>
   <li><a href="#concept-document-no-quirks">no-quirks mode</a><span>, in §4.5</span>
   <li><a href="#dom-node-normalize">normalize()</a><span>, in §4.4</span>
   <li><a href="#dom-document-normalizedocument">normalizeDocument()</a><span>, in §9.2</span>
   <li><a href="#notation">Notation</a><span>, in §9.2</span>
   <li><a href="#dom-node-notation_node">NOTATION_NODE</a><span>, in §4.4</span>
   <li><a href="#dom-documenttype-notations">notations</a><span>, in §9.2</span>
   <li><a href="#notify-mutation-observers">notify mutation observers</a><span>, in §4.3</span>
   <li><a href="#dom-xpathresult-number_type">NUMBER_TYPE</a><span>, in §8.1</span>
   <li><a href="#dom-xpathresult-numbervalue">numberValue</a><span>, in §8.1</span>
   <li><a href="#registered-observer-observer">observer</a><span>, in §4.3</span>
   <li><a href="#dom-mutationobserver-observe">observe(target)</a><span>, in §4.3.1</span>
   <li><a href="#dom-mutationobserver-observe">observe(target, options)</a><span>, in §4.3.1</span>
   <li><a href="#concept-range-bp-offset">offset</a><span>, in §5.2</span>
   <li><a href="#dom-mutationrecord-oldvalue">oldValue</a><span>, in §4.3.3</span>
   <li>
    onabort
    <ul>
     <li><a href="#dom-abortsignal-onabort">attribute for AbortSignal</a><span>, in §3.2</span>
     <li><a href="#abortsignal-onabort">dfn for AbortSignal</a><span>, in §3.2</span>
    </ul>
   <li>
    once
    <ul>
     <li><a href="#event-listener-once">dfn for event listener</a><span>, in §2.7</span>
     <li><a href="#dom-addeventlisteneroptions-once">dict-member for AddEventListenerOptions</a><span>, in §2.7</span>
    </ul>
   <li>
    onslotchange
    <ul>
     <li><a href="#dom-shadowroot-onslotchange">attribute for ShadowRoot</a><span>, in §4.8</span>
     <li><a href="#shadowroot-onslotchange">dfn for ShadowRoot</a><span>, in §4.8</span>
    </ul>
   <li><a href="#dom-shadowrootmode-open">"open"</a><span>, in §4.8</span>
   <li><a href="#registered-observer-options">options</a><span>, in §4.3</span>
   <li><a href="#dom-xpathresult-ordered_node_iterator_type">ORDERED_NODE_ITERATOR_TYPE</a><span>, in §8.1</span>
   <li><a href="#dom-xpathresult-ordered_node_snapshot_type">ORDERED_NODE_SNAPSHOT_TYPE</a><span>, in §8.1</span>
   <li><a href="#concept-ordered-set-parser">ordered set parser</a><span>, in §1.2</span>
   <li><a href="#concept-ordered-set-serializer">ordered set serializer</a><span>, in §1.2</span>
   <li><a href="#concept-document-origin">origin</a><span>, in §4.5</span>
   <li><a href="#other-applicable-specifications">other applicable specifications</a><span>, in §1</span>
   <li><a href="#dom-node-ownerdocument">ownerDocument</a><span>, in §4.4</span>
   <li><a href="#dom-attr-ownerelement">ownerElement</a><span>, in §4.9.2</span>
   <li><a href="#concept-tree-parent">parent</a><span>, in §1.1</span>
   <li><a href="#parent-element">parent element</a><span>, in §4.9</span>
   <li><a href="#dom-node-parentelement">parentElement</a><span>, in §4.4</span>
   <li><a href="#parentnode">ParentNode</a><span>, in §4.2.6</span>
   <li><a href="#dom-node-parentnode">parentNode</a><span>, in §4.4</span>
   <li><a href="#dom-treewalker-parentnode">parentNode()</a><span>, in §6.2</span>
   <li><a href="#partially-contained">partially contained</a><span>, in §5.5</span>
   <li><a href="#concept-tree-participate">participate</a><span>, in §1.1</span>
   <li><a href="#concept-tree-participate">participate in a tree</a><span>, in §1.1</span>
   <li><a href="#concept-tree-participate">participates in a tree</a><span>, in §1.1</span>
   <li>
    passive
    <ul>
     <li><a href="#event-listener-passive">dfn for event listener</a><span>, in §2.7</span>
     <li><a href="#dom-addeventlisteneroptions-passive">dict-member for AddEventListenerOptions</a><span>, in §2.7</span>
    </ul>
   <li><a href="#event-path">path</a><span>, in §2.2</span>
   <li><a href="#nodeiterator-pointer-before-reference">pointer before reference</a><span>, in §6.1</span>
   <li><a href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a><span>, in §6.1</span>
   <li><a href="#concept-range-bp-position">position</a><span>, in §5.2</span>
   <li><a href="#potential-event-target">potential event target</a><span>, in §2.2</span>
   <li><a href="#concept-tree-preceding">preceding</a><span>, in §1.1</span>
   <li>
    prefix
    <ul>
     <li><a href="#dom-attr-prefix">attribute for Attr</a><span>, in §4.9.2</span>
     <li><a href="#dom-element-prefix">attribute for Element</a><span>, in §4.9</span>
     <li><a href="#dom-node-prefix">attribute for Node</a><span>, in §9.2</span>
    </ul>
   <li><a href="#concept-node-pre-insert">pre-insert</a><span>, in §4.2.3</span>
   <li><a href="#dom-parentnode-prepend">prepend()</a><span>, in §4.2.6</span>
   <li><a href="#dom-parentnode-prepend">prepend(...nodes)</a><span>, in §4.2.6</span>
   <li><a href="#concept-node-pre-remove">pre-remove</a><span>, in §4.2.3</span>
   <li><a href="#dom-event-preventdefault">preventDefault()</a><span>, in §2.2</span>
   <li><a href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a><span>, in §4.2.7</span>
   <li>
    previousNode()
    <ul>
     <li><a href="#dom-nodeiterator-previousnode">method for NodeIterator</a><span>, in §6.1</span>
     <li><a href="#dom-treewalker-previousnode">method for TreeWalker</a><span>, in §6.2</span>
    </ul>
   <li><a href="#concept-tree-previous-sibling">previous sibling</a><span>, in §1.1</span>
   <li>
    previousSibling
    <ul>
     <li><a href="#dom-mutationrecord-previoussibling">attribute for MutationRecord</a><span>, in §4.3.3</span>
     <li><a href="#dom-node-previoussibling">attribute for Node</a><span>, in §4.4</span>
    </ul>
   <li><a href="#dom-treewalker-previoussibling">previousSibling()</a><span>, in §6.2</span>
   <li><a href="#processinginstruction">ProcessingInstruction</a><span>, in §4.13</span>
   <li><a href="#dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE</a><span>, in §4.4</span>
   <li><a href="#concept-doctype-publicid">public ID</a><span>, in §4.6</span>
   <li><a href="#dom-documenttype-publicid">publicId</a><span>, in §4.6</span>
   <li>
    qualified name
    <ul>
     <li><a href="#concept-attribute-qualified-name">dfn for Attr</a><span>, in §4.9.2</span>
     <li><a href="#concept-element-qualified-name">dfn for Element</a><span>, in §4.9</span>
    </ul>
   <li><a href="#dom-parentnode-queryselectorall">querySelectorAll(selectors)</a><span>, in §4.2.6</span>
   <li><a href="#dom-parentnode-queryselector">querySelector(selectors)</a><span>, in §4.2.6</span>
   <li><a href="#queue-a-mutation-observer-compound-microtask">queue a mutation observer microtask</a><span>, in §4.3</span>
   <li><a href="#queue-a-mutation-record">queue a mutation record</a><span>, in §4.3.2</span>
   <li><a href="#queue-a-tree-mutation-record">queue a tree mutation record</a><span>, in §4.3.2</span>
   <li><a href="#concept-document-quirks">quirks mode</a><span>, in §4.5</span>
   <li><a href="#range">Range</a><span>, in §5.5</span>
   <li><a href="#concept-range">range</a><span>, in §5.3</span>
   <li><a href="#dom-range-range">Range()</a><span>, in §5.5</span>
   <li><a href="#rangeexception">RangeException</a><span>, in §9.3</span>
   <li><a href="#concept-mo-queue">record queue</a><span>, in §4.3.1</span>
   <li><a href="#nodeiterator-reference">reference</a><span>, in §6.1</span>
   <li><a href="#dom-nodeiterator-referencenode">referenceNode</a><span>, in §6.1</span>
   <li><a href="#concept-reflect">reflect</a><span>, in §4.9</span>
   <li><a href="#registered-observer">registered observer</a><span>, in §4.3</span>
   <li><a href="#registered-observer-list">registered observer list</a><span>, in §4.3</span>
   <li>
    relatedTarget
    <ul>
     <li><a href="#event-relatedtarget">dfn for Event</a><span>, in §2.2</span>
     <li><a href="#event-path-relatedtarget">dfn for Event/path</a><span>, in §2.2</span>
    </ul>
   <li>
    remove
    <ul>
     <li><a href="#concept-node-remove">definition of</a><span>, in §4.2.3</span>
     <li><a href="#abortsignal-remove">dfn for AbortSignal</a><span>, in §3.2</span>
    </ul>
   <li>
    remove()
    <ul>
     <li><a href="#dom-childnode-remove">method for ChildNode</a><span>, in §4.2.8</span>
     <li><a href="#dom-domtokenlist-remove">method for DOMTokenList</a><span>, in §7.1</span>
    </ul>
   <li><a href="#remove-all-event-listeners">remove all event listeners</a><span>, in §2.7</span>
   <li><a href="#concept-element-attributes-remove">remove an attribute</a><span>, in §4.9</span>
   <li><a href="#concept-element-attributes-remove-by-name">remove an attribute by name</a><span>, in §4.9</span>
   <li><a href="#concept-element-attributes-remove-by-namespace">remove an attribute by namespace and local name</a><span>, in §4.9</span>
   <li><a href="#remove-an-event-listener">remove an event listener</a><span>, in §2.7</span>
   <li><a href="#dom-element-removeattributenode">removeAttributeNode(attr)</a><span>, in §4.9</span>
   <li><a href="#dom-element-removeattributens">removeAttributeNS(namespace, localName)</a><span>, in §4.9</span>
   <li><a href="#dom-element-removeattribute">removeAttribute(qualifiedName)</a><span>, in §4.9</span>
   <li><a href="#dom-node-removechild">removeChild(child)</a><span>, in §4.4</span>
   <li><a href="#event-listener-removed">removed</a><span>, in §2.7</span>
   <li><a href="#dom-mutationrecord-removednodes">removedNodes</a><span>, in §4.3.3</span>
   <li><a href="#dom-eventtarget-removeeventlistener">removeEventListener(type, callback)</a><span>, in §2.7</span>
   <li><a href="#dom-eventtarget-removeeventlistener">removeEventListener(type, callback, options)</a><span>, in §2.7</span>
   <li><a href="#dom-namednodemap-removenameditemns">removeNamedItemNS(namespace, localName)</a><span>, in §4.9.1</span>
   <li><a href="#dom-namednodemap-removenameditem">removeNamedItem(qualifiedName)</a><span>, in §4.9.1</span>
   <li><a href="#dom-domtokenlist-remove">remove(...tokens)</a><span>, in §7.1</span>
   <li><a href="#dom-domtokenlist-remove">remove(tokens)</a><span>, in §7.1</span>
   <li><a href="#concept-node-remove-ext">removing steps</a><span>, in §4.2.3</span>
   <li><a href="#dom-document-renamenode">renameNode()</a><span>, in §9.2</span>
   <li><a href="#concept-node-replace">replace</a><span>, in §4.2.3</span>
   <li><a href="#concept-node-replace-all">replace all</a><span>, in §4.2.3</span>
   <li><a href="#concept-element-attributes-replace">replace an attribute</a><span>, in §4.9</span>
   <li><a href="#dom-node-replacechild">replaceChild(node, child)</a><span>, in §4.4</span>
   <li><a href="#dom-parentnode-replacechildren">replaceChildren()</a><span>, in §4.2.6</span>
   <li><a href="#dom-parentnode-replacechildren">replaceChildren(...nodes)</a><span>, in §4.2.6</span>
   <li><a href="#concept-cd-replace">replace data</a><span>, in §4.10</span>
   <li><a href="#dom-characterdata-replacedata">replaceData(offset, count, data)</a><span>, in §4.10</span>
   <li><a href="#dom-domtokenlist-replace">replace(token, newToken)</a><span>, in §7.1</span>
   <li><a href="#dom-text-replacewholetext">replaceWholeText()</a><span>, in §9.2</span>
   <li><a href="#dom-childnode-replacewith">replaceWith()</a><span>, in §4.2.8</span>
   <li><a href="#dom-childnode-replacewith">replaceWith(...nodes)</a><span>, in §4.2.8</span>
   <li><a href="#represented-by-the-collection">represented by the collection</a><span>, in §4.2.10</span>
   <li><a href="#dom-xpathresult-resulttype">resultType</a><span>, in §8.1</span>
   <li><a href="#retarget">retarget</a><span>, in §4.8</span>
   <li><a href="#retarget">retargeting</a><span>, in §4.8</span>
   <li><a href="#dom-event-returnvalue">returnValue</a><span>, in §2.2</span>
   <li>
    root
    <ul>
     <li><a href="#dom-nodeiterator-root">attribute for NodeIterator</a><span>, in §6.1</span>
     <li><a href="#dom-treewalker-root">attribute for TreeWalker</a><span>, in §6.2</span>
     <li><a href="#concept-range-root">dfn for live range</a><span>, in §5.5</span>
     <li><a href="#concept-traversal-root">dfn for traversal</a><span>, in §6</span>
     <li><a href="#concept-tree-root">dfn for tree</a><span>, in §1.1</span>
    </ul>
   <li><a href="#event-path-root-of-closed-tree">root-of-closed-tree</a><span>, in §2.2</span>
   <li>
    schemaTypeInfo
    <ul>
     <li><a href="#dom-attr-schematypeinfo">attribute for Attr</a><span>, in §9.2</span>
     <li><a href="#dom-element-schematypeinfo">attribute for Element</a><span>, in §9.2</span>
    </ul>
   <li><a href="#scope-match-a-selectors-string">scope-match a selectors string</a><span>, in §1.3</span>
   <li><a href="#concept-range-select">select</a><span>, in §5.5</span>
   <li><a href="#dom-range-selectnodecontents">selectNodeContents(node)</a><span>, in §5.5</span>
   <li><a href="#dom-range-selectnode">selectNode(node)</a><span>, in §5.5</span>
   <li><a href="#concept-dtl-serialize">serialize steps</a><span>, in §7.1</span>
   <li><a href="#concept-element-attributes-set">set an attribute</a><span>, in §4.9</span>
   <li><a href="#concept-element-attributes-set-value">set an attribute value</a><span>, in §4.9</span>
   <li><a href="#set-an-existing-attribute-value">set an existing attribute value</a><span>, in §4.9.2</span>
   <li><a href="#dom-element-setattributenode">setAttributeNode(attr)</a><span>, in §4.9</span>
   <li><a href="#dom-element-setattributenodens">setAttributeNodeNS(attr)</a><span>, in §4.9</span>
   <li><a href="#dom-element-setattributens">setAttributeNS(namespace, qualifiedName, value)</a><span>, in §4.9</span>
   <li><a href="#dom-element-setattribute">setAttribute(qualifiedName, value)</a><span>, in §4.9</span>
   <li><a href="#dom-range-setendafter">setEndAfter(node)</a><span>, in §5.5</span>
   <li><a href="#dom-range-setendbefore">setEndBefore(node)</a><span>, in §5.5</span>
   <li><a href="#dom-range-setend">setEnd(node, offset)</a><span>, in §5.5</span>
   <li><a href="#dom-element-setidattribute">setIdAttribute()</a><span>, in §9.2</span>
   <li><a href="#dom-element-setidattributenode">setIdAttributeNode()</a><span>, in §9.2</span>
   <li><a href="#dom-element-setidattributens">setIdAttributeNS()</a><span>, in §9.2</span>
   <li><a href="#dom-namednodemap-setnameditem">setNamedItem(attr)</a><span>, in §4.9.1</span>
   <li><a href="#dom-namednodemap-setnameditemns">setNamedItemNS(attr)</a><span>, in §4.9.1</span>
   <li><a href="#dom-range-setstartafter">setStartAfter(node)</a><span>, in §5.5</span>
   <li><a href="#dom-range-setstartbefore">setStartBefore(node)</a><span>, in §5.5</span>
   <li><a href="#dom-range-setstart">setStart(node, offset)</a><span>, in §5.5</span>
   <li><a href="#set-the-canceled-flag">set the canceled flag</a><span>, in §2.2</span>
   <li><a href="#concept-range-bp-set">set the end</a><span>, in §5.5</span>
   <li><a href="#concept-range-bp-set">set the start</a><span>, in §5.5</span>
   <li><a href="#dom-node-setuserdata">setUserData()</a><span>, in §9.2</span>
   <li><a href="#event-path-shadow-adjusted-target">shadow-adjusted target</a><span>, in §2.2</span>
   <li><a href="#element-shadow-host">shadow host</a><span>, in §4.9</span>
   <li><a href="#concept-shadow-including-ancestor">shadow-including ancestor</a><span>, in §4.8</span>
   <li><a href="#concept-shadow-including-descendant">shadow-including descendant</a><span>, in §4.8</span>
   <li><a href="#concept-shadow-including-inclusive-ancestor">shadow-including inclusive ancestor</a><span>, in §4.8</span>
   <li><a href="#concept-shadow-including-inclusive-descendant">shadow-including inclusive descendant</a><span>, in §4.8</span>
   <li><a href="#shadow-including-preorder-depth-first-traversal">Shadow-including preorder, depth-first traversal</a><span>, in §4.8</span>
   <li><a href="#concept-shadow-including-root">shadow-including root</a><span>, in §4.8</span>
   <li><a href="#concept-shadow-including-tree-order">shadow-including tree order</a><span>, in §4.8</span>
   <li>
    shadow root
    <ul>
     <li><a href="#concept-shadow-root">definition of</a><span>, in §4.8</span>
     <li><a href="#concept-element-shadow-root">dfn for Element</a><span>, in §4.9</span>
    </ul>
   <li><a href="#shadowroot">ShadowRoot</a><span>, in §4.8</span>
   <li><a href="#dom-element-shadowroot">shadowRoot</a><span>, in §4.9</span>
   <li><a href="#dictdef-shadowrootinit">ShadowRootInit</a><span>, in §4.9</span>
   <li><a href="#enumdef-shadowrootmode">ShadowRootMode</a><span>, in §4.8</span>
   <li><a href="#concept-shadow-tree">shadow tree</a><span>, in §4.2.2</span>
   <li><a href="#dom-nodefilter-show_all">SHOW_ALL</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_attribute">SHOW_ATTRIBUTE</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_cdata_section">SHOW_CDATA_SECTION</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_comment">SHOW_COMMENT</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_document">SHOW_DOCUMENT</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_document_fragment">SHOW_DOCUMENT_FRAGMENT</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_document_type">SHOW_DOCUMENT_TYPE</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_element">SHOW_ELEMENT</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_entity">SHOW_ENTITY</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_entity_reference">SHOW_ENTITY_REFERENCE</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_notation">SHOW_NOTATION</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_processing_instruction">SHOW_PROCESSING_INSTRUCTION</a><span>, in §6.3</span>
   <li><a href="#dom-nodefilter-show_text">SHOW_TEXT</a><span>, in §6.3</span>
   <li><a href="#concept-tree-sibling">sibling</a><span>, in §1.1</span>
   <li>
    signal
    <ul>
     <li><a href="#dom-abortcontroller-signal">attribute for AbortController</a><span>, in §3.1</span>
     <li><a href="#abortcontroller-signal">dfn for AbortController</a><span>, in §3.1</span>
    </ul>
   <li><a href="#abortsignal-signal-abort">signal abort</a><span>, in §3.2</span>
   <li><a href="#signal-a-slot-change">signal a slot change</a><span>, in §4.2.2.5</span>
   <li><a href="#signal-slot-list">signal slots</a><span>, in §4.2.2.5</span>
   <li><a href="#dom-xpathresult-singlenodevalue">singleNodeValue</a><span>, in §8.1</span>
   <li>
    slot
    <ul>
     <li><a href="#dom-element-slot">attribute for Element</a><span>, in §4.9</span>
     <li><a href="#concept-slot">definition of</a><span>, in §4.2.2.1</span>
    </ul>
   <li><a href="#event-path-slot-in-closed-tree">slot-in-closed-tree</a><span>, in §2.2</span>
   <li><a href="#slotable">Slottable</a><span>, in §4.2.9</span>
   <li><a href="#concept-slotable">slottable</a><span>, in §4.2.2.2</span>
   <li><a href="#dom-xpathresult-snapshotitem">snapshotItem(index)</a><span>, in §8.1</span>
   <li><a href="#dom-xpathresult-snapshotlength">snapshotLength</a><span>, in §8.1</span>
   <li><a href="#transient-registered-observer-source">source</a><span>, in §4.3</span>
   <li><a href="#dom-attr-specified">specified</a><span>, in §4.9.2</span>
   <li><a href="#concept-text-split">split a Text node</a><span>, in §4.11</span>
   <li><a href="#dom-text-splittext">splitText(offset)</a><span>, in §4.11</span>
   <li><a href="#dom-event-srcelement">srcElement</a><span>, in §2.2</span>
   <li><a href="#concept-range-start">start</a><span>, in §5.3</span>
   <li>
    startContainer
    <ul>
     <li><a href="#dom-range-startcontainer">attribute for AbstractRange</a><span>, in §5.3</span>
     <li><a href="#dom-staticrangeinit-startcontainer">dict-member for StaticRangeInit</a><span>, in §5.4</span>
    </ul>
   <li><a href="#concept-range-start-node">start node</a><span>, in §5.3</span>
   <li><a href="#concept-range-start-offset">start offset</a><span>, in §5.3</span>
   <li>
    startOffset
    <ul>
     <li><a href="#dom-range-startoffset">attribute for AbstractRange</a><span>, in §5.3</span>
     <li><a href="#dom-staticrangeinit-startoffset">dict-member for StaticRangeInit</a><span>, in §5.4</span>
    </ul>
   <li><a href="#dom-range-start_to_end">START_TO_END</a><span>, in §5.5</span>
   <li><a href="#dom-range-start_to_start">START_TO_START</a><span>, in §5.5</span>
   <li><a href="#concept-collection-static">static collection</a><span>, in §4.2.10</span>
   <li><a href="#staticrange">StaticRange</a><span>, in §5.4</span>
   <li><a href="#dom-staticrange-staticrange">StaticRange(init)</a><span>, in §5.4</span>
   <li><a href="#dictdef-staticrangeinit">StaticRangeInit</a><span>, in §5.4</span>
   <li><a href="#dom-event-stopimmediatepropagation">stopImmediatePropagation()</a><span>, in §2.2</span>
   <li><a href="#stop-immediate-propagation-flag">stop immediate propagation flag</a><span>, in §2.2</span>
   <li><a href="#dom-event-stoppropagation">stopPropagation()</a><span>, in §2.2</span>
   <li><a href="#stop-propagation-flag">stop propagation flag</a><span>, in §2.2</span>
   <li><a href="#dom-document-stricterrorchecking">strictErrorChecking</a><span>, in §9.2</span>
   <li><a href="#DOMTokenList-stringification-behavior">stringification behavior</a><span>, in §7.1</span>
   <li><a href="#dom-range-stringifier">stringificationbehavior</a><span>, in §5.5</span>
   <li><a href="#string-replace-all">string replace all</a><span>, in §4.4</span>
   <li><a href="#dom-xpathresult-string_type">STRING_TYPE</a><span>, in §8.1</span>
   <li><a href="#dom-xpathresult-stringvalue">stringValue</a><span>, in §8.1</span>
   <li><a href="#concept-cd-substring">substring data</a><span>, in §4.10</span>
   <li><a href="#dom-characterdata-substringdata">substringData(offset, count)</a><span>, in §4.10</span>
   <li><a href="#dom-mutationobserverinit-subtree">subtree</a><span>, in §4.3.1</span>
   <li><a href="#concept-supported-tokens">supported tokens</a><span>, in §7.1</span>
   <li><a href="#dom-domtokenlist-supports">supports(token)</a><span>, in §7.1</span>
   <li><a href="#dom-range-surroundcontents">surroundContents(newParent)</a><span>, in §5.5</span>
   <li><a href="#concept-doctype-systemid">system ID</a><span>, in §4.6</span>
   <li><a href="#dom-documenttype-systemid">systemId</a><span>, in §4.6</span>
   <li><a href="#dom-element-tagname">tagName</a><span>, in §4.9</span>
   <li><a href="#dom-mutationobserver-takerecords">takeRecords()</a><span>, in §4.3.1</span>
   <li>
    target
    <ul>
     <li><a href="#dom-event-target">attribute for Event</a><span>, in §2.2</span>
     <li><a href="#dom-mutationrecord-target">attribute for MutationRecord</a><span>, in §4.3.3</span>
     <li><a href="#dom-processinginstruction-target">attribute for ProcessingInstruction</a><span>, in §4.13</span>
     <li><a href="#event-target">dfn for Event</a><span>, in §2.2</span>
     <li><a href="#concept-pi-target">dfn for ProcessingInstruction</a><span>, in §4.13</span>
    </ul>
   <li><a href="#text">Text</a><span>, in §4.11</span>
   <li><a href="#dom-text-text">Text()</a><span>, in §4.11</span>
   <li><a href="#dom-node-textcontent">textContent</a><span>, in §4.4</span>
   <li><a href="#dom-text-text">Text(data)</a><span>, in §4.11</span>
   <li><a href="#dom-node-text_node">TEXT_NODE</a><span>, in §4.4</span>
   <li><a href="#dom-event-timestamp">timeStamp</a><span>, in §2.2</span>
   <li><a href="#dom-element-toggleattribute">toggleAttribute(qualifiedName)</a><span>, in §4.9</span>
   <li><a href="#dom-element-toggleattribute">toggleAttribute(qualifiedName, force)</a><span>, in §4.9</span>
   <li><a href="#dom-domtokenlist-toggle">toggle(token)</a><span>, in §7.1</span>
   <li><a href="#dom-domtokenlist-toggle">toggle(token, force)</a><span>, in §7.1</span>
   <li><a href="#concept-dtl-tokens">token set</a><span>, in §7.1</span>
   <li>
    touch target list
    <ul>
     <li><a href="#event-touch-target-list">dfn for Event</a><span>, in §2.2</span>
     <li><a href="#event-path-touch-target-list">dfn for Event/path</a><span>, in §2.2</span>
    </ul>
   <li><a href="#transient-registered-observer">transient registered observer</a><span>, in §4.3</span>
   <li><a href="#concept-nodeiterator-traverse">traverse</a><span>, in §6.1</span>
   <li><a href="#concept-traverse-children">traverse children</a><span>, in §6.2</span>
   <li><a href="#concept-traverse-siblings">traverse siblings</a><span>, in §6.2</span>
   <li><a href="#concept-tree">tree</a><span>, in §1.1</span>
   <li><a href="#concept-tree-order">tree order</a><span>, in §1.1</span>
   <li><a href="#treewalker">TreeWalker</a><span>, in §6.2</span>
   <li>
    type
    <ul>
     <li><a href="#dom-event-type">attribute for Event</a><span>, in §2.2</span>
     <li><a href="#dom-mutationrecord-type">attribute for MutationRecord</a><span>, in §4.3.3</span>
     <li><a href="#concept-document-type">dfn for Document</a><span>, in §4.5</span>
     <li><a href="#event-listener-type">dfn for event listener</a><span>, in §2.7</span>
    </ul>
   <li><a href="#typeinfo">TypeInfo</a><span>, in §9.2</span>
   <li><a href="#dom-xpathresult-unordered_node_iterator_type">UNORDERED_NODE_ITERATOR_TYPE</a><span>, in §8.1</span>
   <li><a href="#dom-xpathresult-unordered_node_snapshot_type">UNORDERED_NODE_SNAPSHOT_TYPE</a><span>, in §8.1</span>
   <li><a href="#concept-dtl-update">update steps</a><span>, in §7.1</span>
   <li>
    URL
    <ul>
     <li><a href="#dom-document-url">attribute for Document</a><span>, in §4.5</span>
     <li><a href="#concept-document-url">dfn for Document</a><span>, in §4.5</span>
    </ul>
   <li><a href="#userdatahandler">UserDataHandler</a><span>, in §9.2</span>
   <li><a href="#validate">validate</a><span>, in §1.4</span>
   <li><a href="#validate-and-extract">validate and extract</a><span>, in §1.4</span>
   <li><a href="#concept-domtokenlist-validation">validation steps</a><span>, in §7.1</span>
   <li>
    value
    <ul>
     <li><a href="#dom-attr-value">attribute for Attr</a><span>, in §4.9.2</span>
     <li><a href="#dom-domtokenlist-value">attribute for DOMTokenList</a><span>, in §7.1</span>
     <li><a href="#concept-attribute-value">dfn for Attr</a><span>, in §4.9.2</span>
    </ul>
   <li><a href="#dom-element-webkitmatchesselector">webkitMatchesSelector(selectors)</a><span>, in §4.9</span>
   <li>
    whatToShow
    <ul>
     <li><a href="#dom-nodeiterator-whattoshow">attribute for NodeIterator</a><span>, in §6.1</span>
     <li><a href="#dom-treewalker-whattoshow">attribute for TreeWalker</a><span>, in §6.2</span>
     <li><a href="#concept-traversal-whattoshow">dfn for traversal</a><span>, in §6</span>
    </ul>
   <li><a href="#dom-text-wholetext">wholeText</a><span>, in §4.11</span>
   <li><a href="#xml-document">XML document</a><span>, in §4.5</span>
   <li><a href="#xmldocument">XMLDocument</a><span>, in §4.5</span>
   <li><a href="#dom-document-xmlencoding">xmlEncoding</a><span>, in §9.2</span>
   <li><a href="#dom-document-xmlstandalone">xmlStandalone</a><span>, in §9.2</span>
   <li><a href="#dom-document-xmlversion">xmlVersion</a><span>, in §9.2</span>
   <li><a href="#xpathevaluator">XPathEvaluator</a><span>, in §8.4</span>
   <li><a href="#dom-xpathevaluator-xpathevaluator">XPathEvaluator()</a><span>, in §8.4</span>
   <li><a href="#xpathevaluatorbase">XPathEvaluatorBase</a><span>, in §8.3</span>
   <li><a href="#xpathexpression">XPathExpression</a><span>, in §8.2</span>
   <li><a href="#callbackdef-xpathnsresolver">XPathNSResolver</a><span>, in §8.3</span>
   <li><a href="#xpathresult">XPathResult</a><span>, in §8.1</span>
  </ul>
  <aside class="dfn-panel">
   <a href="https://console.spec.whatwg.org/#report-a-warning-to-the-console">https://console.spec.whatwg.org/#report-a-warning-to-the-console</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/cssom-view-1/#dom-range-getboundingclientrect">https://drafts.csswg.org/cssom-view-1/#dom-range-getboundingclientrect</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">5.5. Interface Range</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/cssom-view-1/#dom-range-getclientrects">https://drafts.csswg.org/cssom-view-1/#dom-range-getclientrects</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">5.5. Interface Range</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://tc39.github.io/ecma262/#realm">https://tc39.github.io/ecma262/#realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.5. Constructing events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://tc39.github.io/ecma262/#surrounding-agent">https://tc39.github.io/ecma262/#surrounding-agent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3. Mutation observers</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://encoding.spec.whatwg.org/#encoding">https://encoding.spec.whatwg.org/#encoding</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://encoding.spec.whatwg.org/#name">https://encoding.spec.whatwg.org/#name</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://encoding.spec.whatwg.org/#utf-8">https://encoding.spec.whatwg.org/#utf-8</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp">https://w3c.github.io/hr-time/#dom-domhighrestimestamp</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
    <li><a href="#termref-for-">2.5. Constructing events</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">9.1. DOM Events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/hr-time/#clock-resolution">https://w3c.github.io/hr-time/#clock-resolution</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.5. Constructing events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/hr-time/#dfn-time-origin">https://w3c.github.io/hr-time/#dfn-time-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
    <li><a href="#termref-for-">2.5. Constructing events</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#beforeunloadevent">https://html.spec.whatwg.org/multipage/browsing-the-web.html#beforeunloadevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.2.8. Mixin ChildNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.9.2. Interface Attr</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#domstringlist">https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#domstringlist</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">9.2. DOM Core</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/dnd.html#dragevent">https://html.spec.whatwg.org/multipage/dnd.html#dragevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.8. Interface ShadowRoot</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement">https://html.spec.whatwg.org/multipage/dom.html#htmlelement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement">https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/scripting.html#htmlslotelement">https://html.spec.whatwg.org/multipage/scripting.html#htmlslotelement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.9. Mixin Slottable</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement">https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hashchangeevent">https://html.spec.whatwg.org/multipage/browsing-the-web.html#hashchangeevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/comms.html#messageevent">https://html.spec.whatwg.org/multipage/comms.html#messageevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webstorage.html#storageevent">https://html.spec.whatwg.org/multipage/webstorage.html#storageevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/window-object.html#window">https://html.spec.whatwg.org/multipage/window-object.html#window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.3. Legacy extensions to the Window interface</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">2.9. Dispatching events</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element">https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window">https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">4.7. Interface DocumentFragment</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">4.14. Interface Comment</a>
    <li><a href="#termref-for-">5.5. Interface Range</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element">https://html.spec.whatwg.org/multipage/sections.html#the-body-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-document-bc">https://html.spec.whatwg.org/multipage/browsers.html#concept-document-bc</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#dom-click">https://html.spec.whatwg.org/multipage/interaction.html#dom-click</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-constructor">https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-constructor</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object">https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">4.7. Interface DocumentFragment</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">4.14. Interface Comment</a>
    <li><a href="#termref-for-">5.5. Interface Range</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element-constructor">https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element-constructor</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#customized-built-in-element">https://html.spec.whatwg.org/multipage/custom-elements.html#customized-built-in-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-disable-shadow">https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-disable-shadow</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#document-base-url">https://html.spec.whatwg.org/multipage/urls-and-fetching.html#document-base-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-callback-reaction">https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-callback-reaction</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-upgrade-reaction">https://html.spec.whatwg.org/multipage/custom-elements.html#enqueue-a-custom-element-upgrade-reaction</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.8. Interface ShadowRoot</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.8. Interface ShadowRoot</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.8. Interface ShadowRoot</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global">https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-head-element">https://html.spec.whatwg.org/multipage/semantics.html#the-head-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">https://html.spec.whatwg.org/multipage/semantics.html#the-html-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/parsing.html#html-parser">https://html.spec.whatwg.org/multipage/parsing.html#html-parser</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.1. Introduction to "The DOM"</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.8. Observing event listeners</a>
    <li><a href="#termref-for-">3.3. Using AbortController and AbortSignal objects in
APIs</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">https://html.spec.whatwg.org/multipage/input.html#the-input-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-local-name">https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-local-name</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#look-up-a-custom-element-definition">https://html.spec.whatwg.org/multipage/custom-elements.html#look-up-a-custom-element-definition</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#microtask">https://html.spec.whatwg.org/multipage/webappapis.html#microtask</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-name">https://html.spec.whatwg.org/multipage/custom-elements.html#concept-custom-element-definition-name</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-opaque">https://html.spec.whatwg.org/multipage/origin.html#concept-origin-opaque</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin">https://html.spec.whatwg.org/multipage/origin.html#concept-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-agent">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-agent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.2.5. Signaling slot change</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.10. Firing events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception">https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/scripting.html#script">https://html.spec.whatwg.org/multipage/scripting.html#script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#similar-origin-window-agent">https://html.spec.whatwg.org/multipage/webappapis.html#similar-origin-window-agent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.2.5. Signaling slot change</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/scripting.html#the-slot-element">https://html.spec.whatwg.org/multipage/scripting.html#the-slot-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.2.1. Slots</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/indices.html#event-slotchange">https://html.spec.whatwg.org/multipage/indices.html#event-slotchange</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
    <li><a href="#termref-for-">4.8. Interface ShadowRoot</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element">https://html.spec.whatwg.org/multipage/scripting.html#the-template-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.7. Interface DocumentFragment</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element">https://html.spec.whatwg.org/multipage/semantics.html#the-title-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-try-upgrade">https://html.spec.whatwg.org/multipage/custom-elements.html#concept-try-upgrade</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#concept-upgrade-an-element">https://html.spec.whatwg.org/multipage/custom-elements.html#concept-upgrade-an-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name">https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#set-append">https://infra.spec.whatwg.org/#set-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.2. Ordered sets</a>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.2.2.5. Signaling slot change</a>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#ascii-case-insensitive">https://infra.spec.whatwg.org/#ascii-case-insensitive</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#ascii-lowercase">https://infra.spec.whatwg.org/#ascii-lowercase</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#ascii-uppercase">https://infra.spec.whatwg.org/#ascii-uppercase</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#ascii-whitespace">https://infra.spec.whatwg.org/#ascii-whitespace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.1. Introduction to "The DOM"</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#iteration-break">https://infra.spec.whatwg.org/#iteration-break</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
    <li><a href="#termref-for-">6.1. Interface NodeIterator</a>
    <li><a href="#termref-for-">6.2. Interface TreeWalker</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-clone">https://infra.spec.whatwg.org/#list-clone</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#code-unit">https://infra.spec.whatwg.org/#code-unit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#string-concatenate">https://infra.spec.whatwg.org/#string-concatenate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.2. Ordered sets</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.11. Interface Text</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">5.5. Interface Range</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-contain">https://infra.spec.whatwg.org/#list-contain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.9. Dispatching events</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">6.2. Interface TreeWalker</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-empty">https://infra.spec.whatwg.org/#list-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#queue-enqueue">https://infra.spec.whatwg.org/#queue-enqueue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3.2. Queuing a mutation record</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3.2. Queuing a mutation record</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#map-iterate">https://infra.spec.whatwg.org/#map-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.5. Constructing events</a>
    <li><a href="#termref-for-">4.3.2. Queuing a mutation record</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#html-namespace">https://infra.spec.whatwg.org/#html-namespace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.10.2. Interface HTMLCollection</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#string-is">https://infra.spec.whatwg.org/#string-is</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-insert">https://infra.spec.whatwg.org/#list-insert</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
    <li><a href="#termref-for-">4.3.2. Queuing a mutation record</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
    <li><a href="#termref-for-">4.3.2. Queuing a mutation record</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#string-length">https://infra.spec.whatwg.org/#string-length</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2. Node tree</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">2.9. Dispatching events</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3.2. Queuing a mutation record</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#ordered-set">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.1. Trees</a>
    <li><a href="#termref-for-">1.2. Ordered sets</a>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.2.2.5. Signaling slot change</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-prepend">https://infra.spec.whatwg.org/#list-prepend</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#queue">https://infra.spec.whatwg.org/#queue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-remove">https://infra.spec.whatwg.org/#list-remove</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#set-replace">https://infra.spec.whatwg.org/#set-replace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#map-set">https://infra.spec.whatwg.org/#map-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3.2. Queuing a mutation record</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#list-size">https://infra.spec.whatwg.org/#list-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#split-on-ascii-whitespace">https://infra.spec.whatwg.org/#split-on-ascii-whitespace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.2. Ordered sets</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#struct">https://infra.spec.whatwg.org/#struct</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#svg-namespace">https://infra.spec.whatwg.org/#svg-namespace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#tuple">https://infra.spec.whatwg.org/#tuple</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">5.1. Introduction to "DOM Ranges"</a>
    <li><a href="#termref-for-">5.2. Boundary points</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#xml-namespace">https://infra.spec.whatwg.org/#xml-namespace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.4. Namespaces</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://infra.spec.whatwg.org/#xmlns-namespace">https://infra.spec.whatwg.org/#xmlns-namespace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.4. Namespaces</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/selectors-4/#defined-pseudo">https://drafts.csswg.org/selectors-4/#defined-pseudo</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/selectors-4/#scope-element">https://drafts.csswg.org/selectors-4/#scope-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/selectors-4/#match-a-selector-against-a-tree">https://drafts.csswg.org/selectors-4/#match-a-selector-against-a-tree</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.3. Selectors</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/selectors-4/#match-a-selector-against-an-element">https://drafts.csswg.org/selectors-4/#match-a-selector-against-an-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/selectors-4/#parse-a-selector">https://drafts.csswg.org/selectors-4/#parse-a-selector</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.3. Selectors</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://drafts.csswg.org/selectors-4/#scoping-root">https://drafts.csswg.org/selectors-4/#scoping-root</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.3. Selectors</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope">https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/ServiceWorker/#dfn-has-ever-been-evaluated-flag">https://w3c.github.io/ServiceWorker/#dfn-has-ever-been-evaluated-flag</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/ServiceWorker/#dfn-script-resource">https://w3c.github.io/ServiceWorker/#dfn-script-resource</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope-service-worker">https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope-service-worker</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-events">https://w3c.github.io/ServiceWorker/#dfn-service-worker-events</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://w3c.github.io/ServiceWorker/#dfn-set-of-event-types-to-handle">https://w3c.github.io/ServiceWorker/#dfn-set-of-event-types-to-handle</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://www.w3.org/TR/uievents/#compositionevent">https://www.w3.org/TR/uievents/#compositionevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://www.w3.org/TR/uievents/#focusevent">https://www.w3.org/TR/uievents/#focusevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://www.w3.org/TR/uievents/#keyboardevent">https://www.w3.org/TR/uievents/#keyboardevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://www.w3.org/TR/uievents/#mouseevent">https://www.w3.org/TR/uievents/#mouseevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
    <li><a href="#termref-for-">2.10. Firing events</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://www.w3.org/TR/uievents/#uievent">https://www.w3.org/TR/uievents/#uievent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://www.w3.org/TR/uievents/#dom-uievent-detail">https://www.w3.org/TR/uievents/#dom-uievent-detail</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.10. Firing events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://url.spec.whatwg.org/#concept-url">https://url.spec.whatwg.org/#concept-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://url.spec.whatwg.org/#concept-url-serializer">https://url.spec.whatwg.org/#concept-url-serializer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#aborterror">https://heycam.github.io/webidl/#aborterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3. Aborting ongoing activities</a>
    <li><a href="#termref-for-">3.3. Using AbortController and AbortSignal objects in
APIs</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-DOMException">https://heycam.github.io/webidl/#idl-DOMException</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.3. Selectors</a>
    <li><a href="#termref-for-">1.4. Namespaces</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">3. Aborting ongoing activities</a>
    <li><a href="#termref-for-">3.3. Using AbortController and AbortSignal objects in
APIs</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.2.8. Mixin ChildNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">5.4. Interface StaticRange</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a>
    <li><a href="#termref-for-">6. Traversal</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a>
    <li><a href="#termref-for-">9.2. DOM Core</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-DOMString">https://heycam.github.io/webidl/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">2.4. Interface CustomEvent</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.2.4. Mixin NonElementParentNode</a>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">4.2.8. Mixin ChildNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.2.10.2. Interface HTMLCollection</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a>
    <li><a href="#termref-for-">4.3.3. Interface MutationRecord</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a> <a href="#termref-for-">(21)</a> <a href="#termref-for-">(22)</a> <a href="#termref-for-">(23)</a> <a href="#termref-for-">(24)</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a>
    <li><a href="#termref-for-">4.6. Interface DocumentType</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a> <a href="#termref-for-">(21)</a> <a href="#termref-for-">(22)</a> <a href="#termref-for-">(23)</a> <a href="#termref-for-">(24)</a> <a href="#termref-for-">(25)</a> <a href="#termref-for-">(26)</a> <a href="#termref-for-">(27)</a> <a href="#termref-for-">(28)</a> <a href="#termref-for-">(29)</a> <a href="#termref-for-">(30)</a> <a href="#termref-for-">(31)</a> <a href="#termref-for-">(32)</a> <a href="#termref-for-">(33)</a> <a href="#termref-for-">(34)</a> <a href="#termref-for-">(35)</a> <a href="#termref-for-">(36)</a> <a href="#termref-for-">(37)</a> <a href="#termref-for-">(38)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a>
    <li><a href="#termref-for-">4.9.2. Interface Attr</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">4.11. Interface Text</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.13. Interface ProcessingInstruction</a>
    <li><a href="#termref-for-">4.14. Interface Comment</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a>
    <li><a href="#termref-for-">8.1. Interface XPathResult</a>
    <li><a href="#termref-for-">8.3. Mixin XPathEvaluatorBase</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">9.2. DOM Core</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#DOMTimeStamp">https://heycam.github.io/webidl/#DOMTimeStamp</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">9.1. DOM Events</a>
    <li><a href="#termref-for-">9.2. DOM Core</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#Exposed">https://heycam.github.io/webidl/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
    <li><a href="#termref-for-">2.4. Interface CustomEvent</a>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">3.1. Interface AbortController</a>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.2.10.1. Interface NodeList</a>
    <li><a href="#termref-for-">4.2.10.2. Interface HTMLCollection</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a>
    <li><a href="#termref-for-">4.3.3. Interface MutationRecord</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a>
    <li><a href="#termref-for-">4.6. Interface DocumentType</a>
    <li><a href="#termref-for-">4.7. Interface DocumentFragment</a>
    <li><a href="#termref-for-">4.8. Interface ShadowRoot</a>
    <li><a href="#termref-for-">4.9. Interface Element</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a>
    <li><a href="#termref-for-">4.9.2. Interface Attr</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">4.12. Interface CDATASection</a>
    <li><a href="#termref-for-">4.13. Interface ProcessingInstruction</a>
    <li><a href="#termref-for-">4.14. Interface Comment</a>
    <li><a href="#termref-for-">5.3. Interface AbstractRange</a>
    <li><a href="#termref-for-">5.4. Interface StaticRange</a>
    <li><a href="#termref-for-">5.5. Interface Range</a>
    <li><a href="#termref-for-">6.1. Interface NodeIterator</a>
    <li><a href="#termref-for-">6.2. Interface TreeWalker</a>
    <li><a href="#termref-for-">6.3. Interface NodeFilter</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a>
    <li><a href="#termref-for-">8.1. Interface XPathResult</a>
    <li><a href="#termref-for-">8.2. Interface XPathExpression</a>
    <li><a href="#termref-for-">8.4. Interface XPathEvaluator</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#hierarchyrequesterror">https://heycam.github.io/webidl/#hierarchyrequesterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.2.8. Mixin ChildNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#inuseattributeerror">https://heycam.github.io/webidl/#inuseattributeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#indexsizeerror">https://heycam.github.io/webidl/#indexsizeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#invalidcharactererror">https://heycam.github.io/webidl/#invalidcharactererror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.4. Namespaces</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#invalidnodetypeerror">https://heycam.github.io/webidl/#invalidnodetypeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">5.4. Interface StaticRange</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#invalidstateerror">https://heycam.github.io/webidl/#invalidstateerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">5.5. Interface Range</a>
    <li><a href="#termref-for-">6. Traversal</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#LegacyNullToEmptyString">https://heycam.github.io/webidl/#LegacyNullToEmptyString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#LegacyUnenumerableNamedProperties">https://heycam.github.io/webidl/#LegacyUnenumerableNamedProperties</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.10.2. Interface HTMLCollection</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#LegacyUnforgeable">https://heycam.github.io/webidl/#LegacyUnforgeable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#namespaceerror">https://heycam.github.io/webidl/#namespaceerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.4. Namespaces</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#NewObject">https://heycam.github.io/webidl/#NewObject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">8.3. Mixin XPathEvaluatorBase</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#notfounderror">https://heycam.github.io/webidl/#notfounderror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#notsupportederror">https://heycam.github.io/webidl/#notsupportederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a>
    <li><a href="#termref-for-">5.5. Interface Range</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#PutForwards">https://heycam.github.io/webidl/#PutForwards</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#Replaceable">https://heycam.github.io/webidl/#Replaceable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.3. Legacy extensions to the Window interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#SameObject">https://heycam.github.io/webidl/#SameObject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.1. Interface AbortController</a>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a>
    <li><a href="#termref-for-">4.3.3. Interface MutationRecord</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">6.1. Interface NodeIterator</a>
    <li><a href="#termref-for-">6.2. Interface TreeWalker</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#syntaxerror">https://heycam.github.io/webidl/#syntaxerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.3. Selectors</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-USVString">https://heycam.github.io/webidl/#idl-USVString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#Unscopable">https://heycam.github.io/webidl/#Unscopable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.2.8. Mixin ChildNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#wrongdocumenterror">https://heycam.github.io/webidl/#wrongdocumenterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#a-new-promise">https://heycam.github.io/webidl/#a-new-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.3. Using AbortController and AbortSignal objects in
APIs</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#dfn-associated-realm">https://heycam.github.io/webidl/#dfn-associated-realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-boolean">https://heycam.github.io/webidl/#idl-boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a>
    <li><a href="#termref-for-">2.4. Interface CustomEvent</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
    <li><a href="#termref-for-">4.9.2. Interface Attr</a>
    <li><a href="#termref-for-">5.3. Interface AbstractRange</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">6.1. Interface NodeIterator</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">8.1. Interface XPathResult</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#call-a-user-objects-operation">https://heycam.github.io/webidl/#call-a-user-objects-operation</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.9. Dispatching events</a>
    <li><a href="#termref-for-">6. Traversal</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#construct-a-callback-function">https://heycam.github.io/webidl/#construct-a-callback-function</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.9. Interface Element</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#dfn-convert-ecmascript-to-idl-value">https://heycam.github.io/webidl/#dfn-convert-ecmascript-to-idl-value</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.5. Constructing events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#dfn-dictionary">https://heycam.github.io/webidl/#dfn-dictionary</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#dfn-identifier">https://heycam.github.io/webidl/#dfn-identifier</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.5. Constructing events</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#invoke-a-callback-function">https://heycam.github.io/webidl/#invoke-a-callback-function</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.3. Mutation observers</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#reject">https://heycam.github.io/webidl/#reject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.3. Using AbortController and AbortSignal objects in
APIs</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#resolve">https://heycam.github.io/webidl/#resolve</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">3.3. Using AbortController and AbortSignal objects in
APIs</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-short">https://heycam.github.io/webidl/#idl-short</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#dfn-supported-property-indices">https://heycam.github.io/webidl/#dfn-supported-property-indices</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.10.1. Interface NodeList</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.2.10.2. Interface HTMLCollection</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#dfn-supported-property-names">https://heycam.github.io/webidl/#dfn-supported-property-names</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.10.2. Interface HTMLCollection</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#this">https://heycam.github.io/webidl/#this</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1. Infrastructure</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">2.2. Interface Event</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a>
    <li><a href="#termref-for-">2.3. Legacy extensions to the Window interface</a>
    <li><a href="#termref-for-">2.4. Interface CustomEvent</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">3.1. Interface AbortController</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">3.2. Interface AbortSignal</a>
    <li><a href="#termref-for-">4.2.4. Mixin NonElementParentNode</a>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a>
    <li><a href="#termref-for-">4.2.8. Mixin ChildNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a>
    <li><a href="#termref-for-">4.2.9. Mixin Slottable</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a> <a href="#termref-for-">(21)</a> <a href="#termref-for-">(22)</a> <a href="#termref-for-">(23)</a> <a href="#termref-for-">(24)</a> <a href="#termref-for-">(25)</a> <a href="#termref-for-">(26)</a> <a href="#termref-for-">(27)</a> <a href="#termref-for-">(28)</a> <a href="#termref-for-">(29)</a> <a href="#termref-for-">(30)</a> <a href="#termref-for-">(31)</a> <a href="#termref-for-">(32)</a> <a href="#termref-for-">(33)</a> <a href="#termref-for-">(34)</a> <a href="#termref-for-">(35)</a> <a href="#termref-for-">(36)</a> <a href="#termref-for-">(37)</a> <a href="#termref-for-">(38)</a> <a href="#termref-for-">(39)</a> <a href="#termref-for-">(40)</a> <a href="#termref-for-">(41)</a> <a href="#termref-for-">(42)</a> <a href="#termref-for-">(43)</a> <a href="#termref-for-">(44)</a> <a href="#termref-for-">(45)</a> <a href="#termref-for-">(46)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a> <a href="#termref-for-">(21)</a> <a href="#termref-for-">(22)</a> <a href="#termref-for-">(23)</a>
    <li><a href="#termref-for-">4.5.1. Interface DOMImplementation</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.6. Interface DocumentType</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.8. Interface ShadowRoot</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a> <a href="#termref-for-">(21)</a> <a href="#termref-for-">(22)</a> <a href="#termref-for-">(23)</a> <a href="#termref-for-">(24)</a> <a href="#termref-for-">(25)</a> <a href="#termref-for-">(26)</a> <a href="#termref-for-">(27)</a> <a href="#termref-for-">(28)</a> <a href="#termref-for-">(29)</a> <a href="#termref-for-">(30)</a> <a href="#termref-for-">(31)</a> <a href="#termref-for-">(32)</a> <a href="#termref-for-">(33)</a> <a href="#termref-for-">(34)</a> <a href="#termref-for-">(35)</a> <a href="#termref-for-">(36)</a> <a href="#termref-for-">(37)</a> <a href="#termref-for-">(38)</a> <a href="#termref-for-">(39)</a> <a href="#termref-for-">(40)</a> <a href="#termref-for-">(41)</a> <a href="#termref-for-">(42)</a> <a href="#termref-for-">(43)</a> <a href="#termref-for-">(44)</a> <a href="#termref-for-">(45)</a> <a href="#termref-for-">(46)</a> <a href="#termref-for-">(47)</a> <a href="#termref-for-">(48)</a> <a href="#termref-for-">(49)</a> <a href="#termref-for-">(50)</a> <a href="#termref-for-">(51)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9.2. Interface Attr</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a>
    <li><a href="#termref-for-">4.11. Interface Text</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">5.3. Interface AbstractRange</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a> <a href="#termref-for-">(21)</a> <a href="#termref-for-">(22)</a> <a href="#termref-for-">(23)</a> <a href="#termref-for-">(24)</a> <a href="#termref-for-">(25)</a> <a href="#termref-for-">(26)</a> <a href="#termref-for-">(27)</a> <a href="#termref-for-">(28)</a> <a href="#termref-for-">(29)</a> <a href="#termref-for-">(30)</a> <a href="#termref-for-">(31)</a> <a href="#termref-for-">(32)</a> <a href="#termref-for-">(33)</a> <a href="#termref-for-">(34)</a> <a href="#termref-for-">(35)</a> <a href="#termref-for-">(36)</a> <a href="#termref-for-">(37)</a>
    <li><a href="#termref-for-">6.1. Interface NodeIterator</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a>
    <li><a href="#termref-for-">6.2. Interface TreeWalker</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a> <a href="#termref-for-">(21)</a> <a href="#termref-for-">(22)</a> <a href="#termref-for-">(23)</a> <a href="#termref-for-">(24)</a> <a href="#termref-for-">(25)</a> <a href="#termref-for-">(26)</a> <a href="#termref-for-">(27)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#dfn-throw">https://heycam.github.io/webidl/#dfn-throw</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">1.3. Selectors</a>
    <li><a href="#termref-for-">1.4. Namespaces</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">2.7. Interface EventTarget</a>
    <li><a href="#termref-for-">4.2.3. Mutation algorithms</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.2.8. Mixin ChildNode</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a>
    <li><a href="#termref-for-">4.3.1. Interface MutationObserver</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a>
    <li><a href="#termref-for-">4.9. Interface Element</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">5.4. Interface StaticRange</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-unrestricted-double">https://heycam.github.io/webidl/#idl-unrestricted-double</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">8.1. Interface XPathResult</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-unsigned-long">https://heycam.github.io/webidl/#idl-unsigned-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">4.2.6. Mixin ParentNode</a>
    <li><a href="#termref-for-">4.2.10.1. Interface NodeList</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.2.10.2. Interface HTMLCollection</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.5. Interface Document</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.9.1. Interface NamedNodeMap</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">4.10. Interface CharacterData</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a>
    <li><a href="#termref-for-">4.11. Interface Text</a>
    <li><a href="#termref-for-">5.3. Interface AbstractRange</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">5.4. Interface StaticRange</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">6.1. Interface NodeIterator</a>
    <li><a href="#termref-for-">6.2. Interface TreeWalker</a>
    <li><a href="#termref-for-">6.3. Interface NodeFilter</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a>
    <li><a href="#termref-for-">7.1. Interface DOMTokenList</a> <a href="#termref-for-">(2)</a>
    <li><a href="#termref-for-">8.1. Interface XPathResult</a> <a href="#termref-for-">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel">
   <a href="https://heycam.github.io/webidl/#idl-unsigned-short">https://heycam.github.io/webidl/#idl-unsigned-short</a><b>Referenced in:</b>
   <ul>
    <li><a href="#termref-for-">2.2. Interface Event</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">4.4. Interface Node</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a> <a href="#termref-for-">(12)</a> <a href="#termref-for-">(13)</a> <a href="#termref-for-">(14)</a> <a href="#termref-for-">(15)</a> <a href="#termref-for-">(16)</a> <a href="#termref-for-">(17)</a> <a href="#termref-for-">(18)</a> <a href="#termref-for-">(19)</a> <a href="#termref-for-">(20)</a>
    <li><a href="#termref-for-">5.5. Interface Range</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a>
    <li><a href="#termref-for-">6.3. Interface NodeFilter</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a>
    <li><a href="#termref-for-">8.1. Interface XPathResult</a> <a href="#termref-for-">(2)</a> <a href="#termref-for-">(3)</a> <a href="#termref-for-">(4)</a> <a href="#termref-for-">(5)</a> <a href="#termref-for-">(6)</a> <a href="#termref-for-">(7)</a> <a href="#termref-for-">(8)</a> <a href="#termref-for-">(9)</a> <a href="#termref-for-">(10)</a> <a href="#termref-for-">(11)</a>
    <li><a href="#termref-for-">8.2. Interface XPathExpression</a>
    <li><a href="#termref-for-">8.3. Mixin XPathEvaluatorBase</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span></h3>
  <ul class="index">
   <li>
    <a>[CONSOLE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-report-a-warning-to-the-console" style="color:initial">report a warning to the console</span>
    </ul>
   <li>
    <a>[CSSOM-VIEW]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dom-range-getboundingclientrect" style="color:initial">getBoundingClientRect()</span>
     <li><span class="dfn-paneled" id="term-for-dom-range-getclientrects" style="color:initial">getClientRects()</span>
    </ul>
   <li>
    <a>[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-realm" style="color:initial">realm</span>
     <li><span class="dfn-paneled" id="term-for-surrounding-agent" style="color:initial">surrounding agent</span>
    </ul>
   <li>
    <a>[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-encoding" style="color:initial">encoding</span>
     <li><span class="dfn-paneled" id="term-for-name" style="color:initial">name</span>
     <li><span class="dfn-paneled" id="term-for-utf-8" style="color:initial">utf-8</span>
    </ul>
   <li>
    <a>[HR-TIME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dom-domhighrestimestamp" style="color:initial">DOMHighResTimeStamp</span>
     <li><span class="dfn-paneled" id="term-for-clock-resolution" style="color:initial">clock resolution</span>
     <li><span class="dfn-paneled" id="term-for-dfn-time-origin" style="color:initial">time origin</span>
    </ul>
   <li>
    <a>[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-beforeunloadevent" style="color:initial">BeforeUnloadEvent</span>
     <li><span class="dfn-paneled" id="term-for-cereactions" style="color:initial">CEReactions</span>
     <li><span class="dfn-paneled" id="term-for-domstringlist" style="color:initial">DOMStringList</span>
     <li><span class="dfn-paneled" id="term-for-dragevent" style="color:initial">DragEvent</span>
     <li><span class="dfn-paneled" id="term-for-eventhandler" style="color:initial">EventHandler</span>
     <li><span class="dfn-paneled" id="term-for-htmlelement" style="color:initial">HTMLElement</span>
     <li><span class="dfn-paneled" id="term-for-htmlhtmlelement" style="color:initial">HTMLHtmlElement</span>
     <li><span class="dfn-paneled" id="term-for-htmlslotelement" style="color:initial">HTMLSlotElement</span>
     <li><span class="dfn-paneled" id="term-for-htmlunknownelement" style="color:initial">HTMLUnknownElement</span>
     <li><span class="dfn-paneled" id="term-for-hashchangeevent" style="color:initial">HashChangeEvent</span>
     <li><span class="dfn-paneled" id="term-for-messageevent" style="color:initial">MessageEvent</span>
     <li><span class="dfn-paneled" id="term-for-storageevent" style="color:initial">StorageEvent</span>
     <li><span class="dfn-paneled" id="term-for-window" style="color:initial">Window</span>
     <li><span class="dfn-paneled" id="term-for-the-area-element" style="color:initial">area</span>
     <li><span class="dfn-paneled" id="term-for-concept-document-window" style="color:initial">associated document</span>
     <li><span class="dfn-paneled" id="term-for-the-body-element" style="color:initial">body</span>
     <li><span class="dfn-paneled" id="term-for-concept-document-bc" style="color:initial">browsing context <small>(for Document)</small></span>
     <li><span class="dfn-paneled" id="term-for-dom-click" style="color:initial">click()</span>
     <li><span class="dfn-paneled" id="term-for-concept-custom-element-definition-constructor" style="color:initial">constructor</span>
     <li><span class="dfn-paneled" id="term-for-current-global-object" style="color:initial">current global object</span>
     <li><span class="dfn-paneled" id="term-for-custom-element-constructor" style="color:initial">custom element constructor</span>
     <li><span class="dfn-paneled" id="term-for-customized-built-in-element" style="color:initial">customized built-in element</span>
     <li><span class="dfn-paneled" id="term-for-concept-custom-element-definition-disable-shadow" style="color:initial">disable shadow</span>
     <li><span class="dfn-paneled" id="term-for-document-base-url" style="color:initial">document base url</span>
     <li><span class="dfn-paneled" id="term-for-enqueue-a-custom-element-callback-reaction" style="color:initial">enqueue a custom element callback reaction</span>
     <li><span class="dfn-paneled" id="term-for-enqueue-a-custom-element-upgrade-reaction" style="color:initial">enqueue a custom element upgrade reaction</span>
     <li><span class="dfn-paneled" id="term-for-event-handlers" style="color:initial">event handler</span>
     <li><span class="dfn-paneled" id="term-for-event-handler-event-type" style="color:initial">event handler event type</span>
     <li><span class="dfn-paneled" id="term-for-event-handler-idl-attributes" style="color:initial">event handler idl attribute</span>
     <li><span class="dfn-paneled" id="term-for-concept-realm-global" style="color:initial">global object</span>
     <li><span class="dfn-paneled" id="term-for-the-head-element" style="color:initial">head</span>
     <li><span class="dfn-paneled" id="term-for-the-html-element" style="color:initial">html</span>
     <li><span class="dfn-paneled" id="term-for-html-parser" style="color:initial">html parser</span>
     <li><span class="dfn-paneled" id="term-for-in-parallel" style="color:initial">in parallel</span>
     <li><span class="dfn-paneled" id="term-for-the-input-element" style="color:initial">input</span>
     <li><span class="dfn-paneled" id="term-for-concept-custom-element-definition-local-name" style="color:initial">local name</span>
     <li><span class="dfn-paneled" id="term-for-look-up-a-custom-element-definition" style="color:initial">look up a custom element definition</span>
     <li><span class="dfn-paneled" id="term-for-microtask" style="color:initial">microtask</span>
     <li><span class="dfn-paneled" id="term-for-concept-custom-element-definition-name" style="color:initial">name</span>
     <li><span class="dfn-paneled" id="term-for-concept-origin-opaque" style="color:initial">opaque origin</span>
     <li><span class="dfn-paneled" id="term-for-concept-origin" style="color:initial">origin</span>
     <li><span class="dfn-paneled" id="term-for-queue-a-microtask" style="color:initial">queue a microtask</span>
     <li><span class="dfn-paneled" id="term-for-relevant-agent" style="color:initial">relevant agent</span>
     <li><span class="dfn-paneled" id="term-for-concept-relevant-global" style="color:initial">relevant global object</span>
     <li><span class="dfn-paneled" id="term-for-concept-relevant-realm" style="color:initial">relevant realm</span>
     <li><span class="dfn-paneled" id="term-for-report-the-exception" style="color:initial">report the exception</span>
     <li><span class="dfn-paneled" id="term-for-script" style="color:initial">script</span>
     <li><span class="dfn-paneled" id="term-for-similar-origin-window-agent" style="color:initial">similar-origin window agent</span>
     <li><span class="dfn-paneled" id="term-for-the-slot-element" style="color:initial">slot</span>
     <li><span class="dfn-paneled" id="term-for-event-slotchange" style="color:initial">slotchange</span>
     <li><span class="dfn-paneled" id="term-for-the-template-element" style="color:initial">template</span>
     <li><span class="dfn-paneled" id="term-for-the-title-element" style="color:initial">title</span>
     <li><span class="dfn-paneled" id="term-for-concept-try-upgrade" style="color:initial">try to upgrade an element</span>
     <li><span class="dfn-paneled" id="term-for-concept-upgrade-an-element" style="color:initial">upgrade an element</span>
     <li><span class="dfn-paneled" id="term-for-valid-custom-element-name" style="color:initial">valid custom element name</span>
    </ul>
   <li>
    <a>[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-set-append" style="color:initial">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="term-for-ascii-case-insensitive" style="color:initial">ascii case-insensitive</span>
     <li><span class="dfn-paneled" id="term-for-ascii-lowercase" style="color:initial">ascii lowercase</span>
     <li><span class="dfn-paneled" id="term-for-ascii-uppercase" style="color:initial">ascii uppercase</span>
     <li><span class="dfn-paneled" id="term-for-ascii-whitespace" style="color:initial">ascii whitespace</span>
     <li><span class="dfn-paneled" id="term-for-iteration-break" style="color:initial">break</span>
     <li><span class="dfn-paneled" id="term-for-list-clone" style="color:initial">clone</span>
     <li><span class="dfn-paneled" id="term-for-code-unit" style="color:initial">code unit</span>
     <li><span class="dfn-paneled" id="term-for-string-concatenate" style="color:initial">concatenation</span>
     <li><span class="dfn-paneled" id="term-for-list-contain" style="color:initial">contain</span>
     <li><span class="dfn-paneled" id="term-for-iteration-continue" style="color:initial">continue</span>
     <li><span class="dfn-paneled" id="term-for-list-empty" style="color:initial">empty</span>
     <li><span class="dfn-paneled" id="term-for-queue-enqueue" style="color:initial">enqueue</span>
     <li><span class="dfn-paneled" id="term-for-map-exists" style="color:initial">exist <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="term-for-map-iterate" style="color:initial">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="term-for-html-namespace" style="color:initial">html namespace</span>
     <li><span class="dfn-paneled" id="term-for-string-is" style="color:initial">identical to</span>
     <li><span class="dfn-paneled" id="term-for-list-insert" style="color:initial">insert</span>
     <li><span class="dfn-paneled" id="term-for-list-is-empty" style="color:initial">is empty</span>
     <li><span class="dfn-paneled" id="term-for-list-is-empty①" style="color:initial">is not empty</span>
     <li><span class="dfn-paneled" id="term-for-string-length" style="color:initial">length</span>
     <li><span class="dfn-paneled" id="term-for-list" style="color:initial">list</span>
     <li><span class="dfn-paneled" id="term-for-ordered-map" style="color:initial">map</span>
     <li><span class="dfn-paneled" id="term-for-ordered-set" style="color:initial">ordered set</span>
     <li><span class="dfn-paneled" id="term-for-list-prepend" style="color:initial">prepend</span>
     <li><span class="dfn-paneled" id="term-for-queue" style="color:initial">queue</span>
     <li><span class="dfn-paneled" id="term-for-list-remove" style="color:initial">remove</span>
     <li><span class="dfn-paneled" id="term-for-set-replace" style="color:initial">replace <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="term-for-map-set" style="color:initial">set <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="term-for-list-size" style="color:initial">size</span>
     <li><span class="dfn-paneled" id="term-for-split-on-ascii-whitespace" style="color:initial">split on ascii whitespace</span>
     <li><span class="dfn-paneled" id="term-for-struct" style="color:initial">struct</span>
     <li><span class="dfn-paneled" id="term-for-svg-namespace" style="color:initial">svg namespace</span>
     <li><span class="dfn-paneled" id="term-for-tuple" style="color:initial">tuple</span>
     <li><span class="dfn-paneled" id="term-for-xml-namespace" style="color:initial">xml namespace</span>
     <li><span class="dfn-paneled" id="term-for-xmlns-namespace" style="color:initial">xmlns namespace</span>
    </ul>
   <li>
    <a>[SELECTORS4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-defined-pseudo" style="color:initial">:defined</span>
     <li><span class="dfn-paneled" id="term-for-scope-element" style="color:initial">:scope element</span>
     <li><span class="dfn-paneled" id="term-for-match-a-selector-against-a-tree" style="color:initial">match a selector against a tree</span>
     <li><span class="dfn-paneled" id="term-for-match-a-selector-against-an-element" style="color:initial">match a selector against an element</span>
     <li><span class="dfn-paneled" id="term-for-parse-a-selector" style="color:initial">parse a selector</span>
     <li><span class="dfn-paneled" id="term-for-scoping-root" style="color:initial">scoping root</span>
    </ul>
   <li>
    <a>[SERVICE-WORKERS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-serviceworkerglobalscope" style="color:initial">ServiceWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="term-for-dfn-has-ever-been-evaluated-flag" style="color:initial">has ever been evaluated flag</span>
     <li><span class="dfn-paneled" id="term-for-dfn-script-resource" style="color:initial">script resource</span>
     <li><span class="dfn-paneled" id="term-for-serviceworkerglobalscope-service-worker" style="color:initial">service worker</span>
     <li><span class="dfn-paneled" id="term-for-dfn-service-worker-events" style="color:initial">service worker events</span>
     <li><span class="dfn-paneled" id="term-for-dfn-set-of-event-types-to-handle" style="color:initial">set of event types to handle</span>
    </ul>
   <li>
    <a>[UIEVENTS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-compositionevent" style="color:initial">CompositionEvent</span>
     <li><span class="dfn-paneled" id="term-for-focusevent" style="color:initial">FocusEvent</span>
     <li><span class="dfn-paneled" id="term-for-keyboardevent" style="color:initial">KeyboardEvent</span>
     <li><span class="dfn-paneled" id="term-for-mouseevent" style="color:initial">MouseEvent</span>
     <li><span class="dfn-paneled" id="term-for-uievent" style="color:initial">UIEvent</span>
     <li><span class="dfn-paneled" id="term-for-dom-uievent-detail" style="color:initial">detail</span>
    </ul>
   <li>
    <a>[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-concept-url" style="color:initial">url</span>
     <li><span class="dfn-paneled" id="term-for-concept-url-serializer" style="color:initial">url serializer</span>
    </ul>
   <li>
    <a>[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-aborterror" style="color:initial">AbortError</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMException" style="color:initial">DOMException</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMString" style="color:initial">DOMString</span>
     <li><span class="dfn-paneled" id="term-for-DOMTimeStamp" style="color:initial">DOMTimeStamp</span>
     <li><span class="dfn-paneled" id="term-for-Exposed" style="color:initial">Exposed</span>
     <li><span class="dfn-paneled" id="term-for-hierarchyrequesterror" style="color:initial">HierarchyRequestError</span>
     <li><span class="dfn-paneled" id="term-for-inuseattributeerror" style="color:initial">InUseAttributeError</span>
     <li><span class="dfn-paneled" id="term-for-indexsizeerror" style="color:initial">IndexSizeError</span>
     <li><span class="dfn-paneled" id="term-for-invalidcharactererror" style="color:initial">InvalidCharacterError</span>
     <li><span class="dfn-paneled" id="term-for-invalidnodetypeerror" style="color:initial">InvalidNodeTypeError</span>
     <li><span class="dfn-paneled" id="term-for-invalidstateerror" style="color:initial">InvalidStateError</span>
     <li><span class="dfn-paneled" id="term-for-LegacyNullToEmptyString" style="color:initial">LegacyNullToEmptyString</span>
     <li><span class="dfn-paneled" id="term-for-LegacyUnenumerableNamedProperties" style="color:initial">LegacyUnenumerableNamedProperties</span>
     <li><span class="dfn-paneled" id="term-for-LegacyUnforgeable" style="color:initial">LegacyUnforgeable</span>
     <li><span class="dfn-paneled" id="term-for-namespaceerror" style="color:initial">NamespaceError</span>
     <li><span class="dfn-paneled" id="term-for-NewObject" style="color:initial">NewObject</span>
     <li><span class="dfn-paneled" id="term-for-notfounderror" style="color:initial">NotFoundError</span>
     <li><span class="dfn-paneled" id="term-for-notsupportederror" style="color:initial">NotSupportedError</span>
     <li><span class="dfn-paneled" id="term-for-PutForwards" style="color:initial">PutForwards</span>
     <li><span class="dfn-paneled" id="term-for-Replaceable" style="color:initial">Replaceable</span>
     <li><span class="dfn-paneled" id="term-for-SameObject" style="color:initial">SameObject</span>
     <li><span class="dfn-paneled" id="term-for-syntaxerror" style="color:initial">SyntaxError</span>
     <li><span class="dfn-paneled" id="term-for-idl-USVString" style="color:initial">USVString</span>
     <li><span class="dfn-paneled" id="term-for-Unscopable" style="color:initial">Unscopable</span>
     <li><span class="dfn-paneled" id="term-for-wrongdocumenterror" style="color:initial">WrongDocumentError</span>
     <li><span class="dfn-paneled" id="term-for-a-new-promise" style="color:initial">a new promise</span>
     <li><span class="dfn-paneled" id="term-for-dfn-associated-realm" style="color:initial">associated realm</span>
     <li><span class="dfn-paneled" id="term-for-idl-boolean" style="color:initial">boolean</span>
     <li><span class="dfn-paneled" id="term-for-call-a-user-objects-operation" style="color:initial">call a user object's operation</span>
     <li><span class="dfn-paneled" id="term-for-construct-a-callback-function" style="color:initial">construct</span>
     <li><span class="dfn-paneled" id="term-for-dfn-convert-ecmascript-to-idl-value" style="color:initial">converted to an idl value</span>
     <li><span class="dfn-paneled" id="term-for-dfn-dictionary" style="color:initial">dictionary</span>
     <li><span class="dfn-paneled" id="term-for-dfn-identifier" style="color:initial">identifier</span>
     <li><span class="dfn-paneled" id="term-for-invoke-a-callback-function" style="color:initial">invoke</span>
     <li><span class="dfn-paneled" id="term-for-reject" style="color:initial">reject</span>
     <li><span class="dfn-paneled" id="term-for-resolve" style="color:initial">resolve</span>
     <li><span class="dfn-paneled" id="term-for-idl-short" style="color:initial">short</span>
     <li><span class="dfn-paneled" id="term-for-dfn-supported-property-indices" style="color:initial">supported property indices</span>
     <li><span class="dfn-paneled" id="term-for-dfn-supported-property-names" style="color:initial">supported property names</span>
     <li><span class="dfn-paneled" id="term-for-this" style="color:initial">this</span>
     <li><span class="dfn-paneled" id="term-for-dfn-throw" style="color:initial">throw</span>
     <li><span class="dfn-paneled" id="term-for-idl-unrestricted-double" style="color:initial">unrestricted double</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-long" style="color:initial">unsigned long</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-short" style="color:initial">unsigned short</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span></h3>
  <dl>
   <dt id="biblio-console">[CONSOLE]
   <dd>Dominic Farolino; Robert Kowalski; Terin Stock. <a href="https://console.spec.whatwg.org/">Console Standard</a>. Living Standard. URL: <a href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
   <dt id="biblio-device-orientation">[DEVICE-ORIENTATION]
   <dd>Rich Tibbett; et al. <a href="https://w3c.github.io/deviceorientation/">DeviceOrientation Event Specification</a>. URL: <a href="https://w3c.github.io/deviceorientation/">https://w3c.github.io/deviceorientation/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/">ECMAScript Language Specification</a>. URL: <a href="https://tc39.es/ecma262/">https://tc39.es/ecma262/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/">Encoding Standard</a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-hr-time">[HR-TIME]
   <dd>Ilya Grigorik. <a href="https://w3c.github.io/hr-time/">High Resolution Time Level 2</a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/">Infra Standard</a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-selectors4">[SELECTORS4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/selectors/">Selectors Level 4</a>. URL: <a href="https://drafts.csswg.org/selectors/">https://drafts.csswg.org/selectors/</a>
   <dt id="biblio-service-workers">[SERVICE-WORKERS]
   <dd>Alex Russell; et al. <a href="https://w3c.github.io/ServiceWorker/">Service Workers 1</a>. URL: <a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
   <dt id="biblio-touch-events">[TOUCH-EVENTS]
   <dd>Doug Schepers; et al. <a href="https://w3c.github.io/touch-events/">Touch Events</a>. URL: <a href="https://w3c.github.io/touch-events/">https://w3c.github.io/touch-events/</a>
   <dt id="biblio-uievents">[UIEVENTS]
   <dd>Gary Kacmarcik; Travis Leithead; Doug Schepers. <a href="https://w3c.github.io/uievents/">UI Events</a>. URL: <a href="https://w3c.github.io/uievents/">https://w3c.github.io/uievents/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/">URL Standard</a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Boris Zbarsky. <a href="https://heycam.github.io/webidl/">Web IDL</a>. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-xml">[XML]
   <dd>Tim Bray; et al. <a href="https://www.w3.org/TR/xml/">Extensible Markup Language (XML) 1.0 (Fifth Edition)</a>. 26 November 2008. REC. URL: <a href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a>
   <dt id="biblio-xml-names">[XML-NAMES]
   <dd>Tim Bray; et al. <a href="https://www.w3.org/TR/xml-names/">Namespaces in XML 1.0 (Third Edition)</a>. 8 December 2009. REC. URL: <a href="https://www.w3.org/TR/xml-names/">https://www.w3.org/TR/xml-names/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span></h3>
  <dl>
   <dt id="biblio-cssom-view">[CSSOM-VIEW]
   <dd>Simon Pieters. <a href="https://drafts.csswg.org/cssom-view/">CSSOM View Module</a>. URL: <a href="https://drafts.csswg.org/cssom-view/">https://drafts.csswg.org/cssom-view/</a>
   <dt id="biblio-dom-level-2-traversal-range">[DOM-Level-2-Traversal-Range]
   <dd>Joseph Kesselman; et al. <a href="https://www.w3.org/TR/DOM-Level-2-Traversal-Range/">Document Object Model (DOM) Level 2 Traversal and Range Specification</a>. 13 November 2000. REC. URL: <a href="https://www.w3.org/TR/DOM-Level-2-Traversal-Range/">https://www.w3.org/TR/DOM-Level-2-Traversal-Range/</a>
   <dt id="biblio-dom-level-3-core">[DOM-Level-3-Core]
   <dd>Arnaud Le Hors; et al. <a href="https://www.w3.org/TR/DOM-Level-3-Core/">Document Object Model (DOM) Level 3 Core Specification</a>. 7 April 2004. REC. URL: <a href="https://www.w3.org/TR/DOM-Level-3-Core/">https://www.w3.org/TR/DOM-Level-3-Core/</a>
   <dt id="biblio-dom-level-3-xpath">[DOM-Level-3-XPath]
   <dd>Ray Whitmer. <a href="https://www.w3.org/TR/DOM-Level-3-XPath/">Document Object Model (DOM) Level 3 XPath Specification</a>. 26 February 2004. NOTE. URL: <a href="https://www.w3.org/TR/DOM-Level-3-XPath/">https://www.w3.org/TR/DOM-Level-3-XPath/</a>
   <dt id="biblio-dom-parsing">[DOM-Parsing]
   <dd>Travis Leithead. <a href="https://w3c.github.io/DOM-Parsing/">DOM Parsing and Serialization</a>. URL: <a href="https://w3c.github.io/DOM-Parsing/">https://w3c.github.io/DOM-Parsing/</a>
   <dt id="biblio-elementtraversal">[ELEMENTTRAVERSAL]
   <dd>Doug Schepers; Robin Berjon. <a href="https://www.w3.org/TR/ElementTraversal/">Element Traversal Specification</a>. 22 December 2008. REC. URL: <a href="https://www.w3.org/TR/ElementTraversal/">https://www.w3.org/TR/ElementTraversal/</a>
   <dt id="biblio-fullscreen">[FULLSCREEN]
   <dd>Philip Jägenstedt. <a href="https://fullscreen.spec.whatwg.org/">Fullscreen API Standard</a>. Living Standard. URL: <a href="https://fullscreen.spec.whatwg.org/">https://fullscreen.spec.whatwg.org/</a>
   <dt id="biblio-indexeddb">[INDEXEDDB]
   <dd>Nikunj Mehta; et al. <a href="https://w3c.github.io/IndexedDB/">Indexed Database API</a>. URL: <a href="https://w3c.github.io/IndexedDB/">https://w3c.github.io/IndexedDB/</a>
   <dt id="biblio-selectors-api2">[SELECTORS-API2]
   <dd>Lachlan Hunt. <a href="https://dev.w3.org/2006/webapi/selectors-api2/">Selectors API Level 2</a>. URL: <a href="https://dev.w3.org/2006/webapi/selectors-api2/">https://dev.w3.org/2006/webapi/selectors-api2/</a>
   <dt id="biblio-uievents-20031107">[UIEVENTS-20031107]
   <dd>Philippe Le Hégaret; Tim Pixley. <a href="https://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107">Document Object Model (DOM) Level 3 Events Specification</a>. URL: <a href="https://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107">https://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107</a>
   <dt id="biblio-xpath">[XPath]
   <dd>James Clark; Steven DeRose. <a href="https://www.w3.org/TR/xpath-10/">XML Path Language (XPath) Version 1.0</a>. 16 November 1999. REC. URL: <a href="https://www.w3.org/TR/xpath-10/">https://www.w3.org/TR/xpath-10/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span></h2>
<pre class="idl highlight def">[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(Window,Worker,AudioWorklet)]
interface <a href="#event"><code>Event</code></a> {
  <a href="#dom-event-event"><code>constructor</code></a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-event-event-type-eventinitdict-type"><code>type</code></a>, optional <a class="n" href="#dictdef-eventinit">EventInit</a> <a href="#dom-event-event-type-eventinitdict-eventinitdict"><code>eventInitDict</code></a> = {});

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-event-type">type</a>;
  readonly attribute <a class="n" href="#eventtarget">EventTarget</a>? <a class="idl-code" href="#dom-event-target">target</a>;
  readonly attribute <a class="n" href="#eventtarget">EventTarget</a>? <a class="idl-code" href="#dom-event-srcelement">srcElement</a>; // historical
  readonly attribute <a class="n" href="#eventtarget">EventTarget</a>? <a class="idl-code" href="#dom-event-currenttarget">currentTarget</a>;
  sequence&lt;<a class="n" href="#eventtarget">EventTarget</a>> <a class="idl-code" href="#dom-event-composedpath">composedPath</a>();

  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-event-none">NONE</a> = 0;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-event-capturing_phase">CAPTURING_PHASE</a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-event-at_target">AT_TARGET</a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a> = 3;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-event-eventphase">eventPhase</a>;

  void <a class="idl-code" href="#dom-event-stoppropagation">stopPropagation</a>();
           attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-event-cancelbubble">cancelBubble</a>; // historical alias of .stopPropagation
  void <a class="idl-code" href="#dom-event-stopimmediatepropagation">stopImmediatePropagation</a>();

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-event-bubbles">bubbles</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-event-cancelable">cancelable</a>;
           attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-event-returnvalue">returnValue</a>;  // historical
  void <a class="idl-code" href="#dom-event-preventdefault">preventDefault</a>();
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-event-defaultprevented">defaultPrevented</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-event-composed">composed</a>;

  [<a class="idl-code" href="https://heycam.github.io/webidl/#LegacyUnforgeable">LegacyUnforgeable</a>] readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-event-istrusted">isTrusted</a>;
  readonly attribute <a class="n" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp">DOMHighResTimeStamp</a> <a class="idl-code" href="#dom-event-timestamp">timeStamp</a>;

  void <a class="idl-code" href="#dom-event-initevent">initEvent</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-event-initevent-type-bubbles-cancelable-type"><code>type</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-event-initevent-type-bubbles-cancelable-bubbles"><code>bubbles</code></a> = false, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-event-initevent-type-bubbles-cancelable-cancelable"><code>cancelable</code></a> = false); // historical
};

dictionary <a href="#dictdef-eventinit"><code>EventInit</code></a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-eventinit-bubbles"><code>bubbles</code></a> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-eventinit-cancelable"><code>cancelable</code></a> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-eventinit-composed"><code>composed</code></a> = false;
};

partial interface <a class="idl-code" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#Replaceable">Replaceable</a>] readonly attribute any <a class="idl-code" href="#dom-window-event">event</a>; // historical
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(Window,Worker)]
interface <a href="#customevent"><code>CustomEvent</code></a> : <a class="n" href="#event">Event</a> {
  <a href="#dom-customevent-customevent"><code>constructor</code></a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-customevent-customevent-type-eventinitdict-type"><code>type</code></a>, optional <a class="n" href="#dictdef-customeventinit">CustomEventInit</a> <a href="#dom-customevent-customevent-type-eventinitdict-eventinitdict"><code>eventInitDict</code></a> = {});

  readonly attribute any <a class="idl-code" href="#dom-customevent-detail">detail</a>;

  void <a class="idl-code" href="#dom-customevent-initcustomevent">initCustomEvent</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-customevent-initcustomevent-type-bubbles-cancelable-detail-type"><code>type</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-customevent-initcustomevent-type-bubbles-cancelable-detail-bubbles"><code>bubbles</code></a> = false, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-customevent-initcustomevent-type-bubbles-cancelable-detail-cancelable"><code>cancelable</code></a> = false, optional any <a href="#dom-customevent-initcustomevent-type-bubbles-cancelable-detail-detail"><code>detail</code></a> = null); // historical
};

dictionary <a href="#dictdef-customeventinit"><code>CustomEventInit</code></a> : <a class="n" href="#dictdef-eventinit">EventInit</a> {
  any <a href="#dom-customeventinit-detail"><code>detail</code></a> = null;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(Window,Worker,AudioWorklet)]
interface <a href="#eventtarget"><code>EventTarget</code></a> {
  <a class="idl-code" href="#dom-eventtarget-eventtarget">constructor</a>();

  void <a class="idl-code" href="#dom-eventtarget-addeventlistener">addEventListener</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-eventtarget-addeventlistener-type-callback-options-type"><code>type</code></a>, <a class="n" href="#callbackdef-eventlistener">EventListener</a>? <a href="#dom-eventtarget-addeventlistener-type-callback-options-callback"><code>callback</code></a>, optional (<a class="n" href="#dictdef-addeventlisteneroptions">AddEventListenerOptions</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>) <a href="#dom-eventtarget-addeventlistener-type-callback-options-options"><code>options</code></a> = {});
  void <a class="idl-code" href="#dom-eventtarget-removeeventlistener">removeEventListener</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-eventtarget-removeeventlistener-type-callback-options-type"><code>type</code></a>, <a class="n" href="#callbackdef-eventlistener">EventListener</a>? <a href="#dom-eventtarget-removeeventlistener-type-callback-options-callback"><code>callback</code></a>, optional (<a class="n" href="#dictdef-eventlisteneroptions">EventListenerOptions</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>) <a href="#dom-eventtarget-removeeventlistener-type-callback-options-options"><code>options</code></a> = {});
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-eventtarget-dispatchevent">dispatchEvent</a>(<a class="n" href="#event">Event</a> <a href="#dom-eventtarget-dispatchevent-event-event"><code>event</code></a>);
};

callback interface <a href="#callbackdef-eventlistener"><code>EventListener</code></a> {
  void <a href="#dom-eventlistener-handleevent"><code>handleEvent</code></a>(<a class="n" href="#event">Event</a> <a href="#dom-eventlistener-handleevent-event-event"><code>event</code></a>);
};

dictionary <a href="#dictdef-eventlisteneroptions"><code>EventListenerOptions</code></a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-eventlisteneroptions-capture"><code>capture</code></a> = false;
};

dictionary <a href="#dictdef-addeventlisteneroptions"><code>AddEventListenerOptions</code></a> : <a class="n" href="#dictdef-eventlisteneroptions">EventListenerOptions</a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-addeventlisteneroptions-passive"><code>passive</code></a> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-addeventlisteneroptions-once"><code>once</code></a> = false;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(Window,Worker)]
interface <a href="#abortcontroller"><code>AbortController</code></a> {
  <a class="idl-code" href="#dom-abortcontroller-abortcontroller">constructor</a>();

  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#abortsignal">AbortSignal</a> <a class="idl-code" href="#dom-abortcontroller-signal">signal</a>;

  void <a class="idl-code" href="#dom-abortcontroller-abort">abort</a>();
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(Window,Worker)]
interface <a href="#abortsignal"><code>AbortSignal</code></a> : <a class="n" href="#eventtarget">EventTarget</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-abortsignal-aborted">aborted</a>;

  attribute <a class="n" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" href="#dom-abortsignal-onabort">onabort</a>;
};
interface mixin <a href="#nonelementparentnode"><code>NonElementParentNode</code></a> {
  <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-nonelementparentnode-getelementbyid">getElementById</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-nonelementparentnode-getelementbyid-elementid-elementid"><code>elementId</code></a>);
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#nonelementparentnode">NonElementParentNode</a>;
<a class="n" href="#documentfragment">DocumentFragment</a> includes <a class="n" href="#nonelementparentnode">NonElementParentNode</a>;

interface mixin <a href="#documentorshadowroot"><code>DocumentOrShadowRoot</code></a> {
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#documentorshadowroot">DocumentOrShadowRoot</a>;
<a class="n" href="#shadowroot">ShadowRoot</a> includes <a class="n" href="#documentorshadowroot">DocumentOrShadowRoot</a>;

interface mixin <a href="#parentnode"><code>ParentNode</code></a> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-parentnode-children">children</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-parentnode-firstelementchild">firstElementChild</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-parentnode-lastelementchild">lastElementChild</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-parentnode-childelementcount">childElementCount</a>;

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] void <a class="idl-code" href="#dom-parentnode-prepend">prepend</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>)... <a href="#dom-parentnode-prepend-nodes-nodes"><code>nodes</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] void <a class="idl-code" href="#dom-parentnode-append">append</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>)... <a href="#dom-parentnode-append-nodes-nodes"><code>nodes</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] void <a class="idl-code" href="#dom-parentnode-replacechildren">replaceChildren</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>)... <a href="#dom-parentnode-replacechildren-nodes-nodes"><code>nodes</code></a>);

  <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-parentnode-queryselector">querySelector</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-parentnode-queryselector-selectors-selectors"><code>selectors</code></a>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-parentnode-queryselectorall">querySelectorAll</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-parentnode-queryselectorall-selectors-selectors"><code>selectors</code></a>);
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#parentnode">ParentNode</a>;
<a class="n" href="#documentfragment">DocumentFragment</a> includes <a class="n" href="#parentnode">ParentNode</a>;
<a class="n" href="#element">Element</a> includes <a class="n" href="#parentnode">ParentNode</a>;

interface mixin <a href="#nondocumenttypechildnode"><code>NonDocumentTypeChildNode</code></a> {
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a>;
};
<a class="n" href="#element">Element</a> includes <a class="n" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;
<a class="n" href="#characterdata">CharacterData</a> includes <a class="n" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;

interface mixin <a href="#childnode"><code>ChildNode</code></a> {
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-before">before</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>)... <a href="#dom-childnode-before-nodes-nodes"><code>nodes</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-after">after</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>)... <a href="#dom-childnode-after-nodes-nodes"><code>nodes</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-replacewith">replaceWith</a>((<a class="n" href="#node">Node</a> or <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>)... <a href="#dom-childnode-replacewith-nodes-nodes"><code>nodes</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] void <a class="idl-code" href="#dom-childnode-remove">remove</a>();
};
<a class="n" href="#documenttype">DocumentType</a> includes <a class="n" href="#childnode">ChildNode</a>;
<a class="n" href="#element">Element</a> includes <a class="n" href="#childnode">ChildNode</a>;
<a class="n" href="#characterdata">CharacterData</a> includes <a class="n" href="#childnode">ChildNode</a>;

interface mixin <a href="#slotable"><code>Slottable</code></a> {
  readonly attribute <a class="n" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlslotelement">HTMLSlotElement</a>? <a class="idl-code" href="#dom-slotable-assignedslot">assignedSlot</a>;
};
<a class="n" href="#element">Element</a> includes <a class="n" href="#slotable">Slottable</a>;
<a class="n" href="#text">Text</a> includes <a class="n" href="#slotable">Slottable</a>;

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#nodelist"><code>NodeList</code></a> {
  getter <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-nodelist-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-nodelist-item-index-index"><code>index</code></a>);
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodelist-length">length</a>;
  iterable&lt;<a class="n" href="#node">Node</a>>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window, <a class="idl-code" href="https://heycam.github.io/webidl/#LegacyUnenumerableNamedProperties">LegacyUnenumerableNamedProperties</a>]
interface <a href="#htmlcollection"><code>HTMLCollection</code></a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-htmlcollection-length">length</a>;
  getter <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-htmlcollection-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-htmlcollection-item-index-index"><code>index</code></a>);
  getter <a class="n" href="#element">Element</a>? <a href="#dom-htmlcollection-nameditem"><code>namedItem</code></a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-htmlcollection-nameditem-name-name"><code>name</code></a>);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#mutationobserver"><code>MutationObserver</code></a> {
  <a class="idl-code" href="#dom-mutationobserver-mutationobserver">constructor</a>(<a class="n" href="#callbackdef-mutationcallback">MutationCallback</a> <a href="#dom-mutationobserver-mutationobserver-callback-callback"><code>callback</code></a>);

  void <a class="idl-code" href="#dom-mutationobserver-observe">observe</a>(<a class="n" href="#node">Node</a> <a href="#dom-mutationobserver-observe-target-options-target"><code>target</code></a>, optional <a class="n" href="#dictdef-mutationobserverinit">MutationObserverInit</a> <a href="#dom-mutationobserver-observe-target-options-options"><code>options</code></a> = {});
  void <a class="idl-code" href="#dom-mutationobserver-disconnect">disconnect</a>();
  sequence&lt;<a class="n" href="#mutationrecord">MutationRecord</a>> <a class="idl-code" href="#dom-mutationobserver-takerecords">takeRecords</a>();
};

callback <a href="#callbackdef-mutationcallback"><code>MutationCallback</code></a> = void (sequence&lt;<a class="n" href="#mutationrecord">MutationRecord</a>> <a href="#dom-mutationcallback-mutations"><code>mutations</code></a>, <a class="n" href="#mutationobserver">MutationObserver</a> <a href="#dom-mutationcallback-observer"><code>observer</code></a>);

dictionary <a href="#dictdef-mutationobserverinit"><code>MutationObserverInit</code></a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-mutationobserverinit-childlist"><code>childList</code></a> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-mutationobserverinit-attributes"><code>attributes</code></a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-mutationobserverinit-characterdata"><code>characterData</code></a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-mutationobserverinit-subtree"><code>subtree</code></a> = false;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-mutationobserverinit-attributeoldvalue"><code>attributeOldValue</code></a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-mutationobserverinit-characterdataoldvalue"><code>characterDataOldValue</code></a>;
  sequence&lt;<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>> <a href="#dom-mutationobserverinit-attributefilter"><code>attributeFilter</code></a>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#mutationrecord"><code>MutationRecord</code></a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-mutationrecord-type">type</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-mutationrecord-target">target</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-mutationrecord-addednodes">addedNodes</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-mutationrecord-removednodes">removedNodes</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-mutationrecord-previoussibling">previousSibling</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-mutationrecord-nextsibling">nextSibling</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-mutationrecord-attributename">attributeName</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-mutationrecord-attributenamespace">attributeNamespace</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-mutationrecord-oldvalue">oldValue</a>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#node"><code>Node</code></a> : <a class="n" href="#eventtarget">EventTarget</a> {
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-element_node">ELEMENT_NODE</a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-attribute_node">ATTRIBUTE_NODE</a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-text_node">TEXT_NODE</a> = 3;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-cdata_section_node">CDATA_SECTION_NODE</a> = 4;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-node-entity_reference_node"><code>ENTITY_REFERENCE_NODE</code></a> = 5; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-node-entity_node"><code>ENTITY_NODE</code></a> = 6; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE</a> = 7;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-comment_node">COMMENT_NODE</a> = 8;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_node">DOCUMENT_NODE</a> = 9;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_type_node">DOCUMENT_TYPE_NODE</a> = 10;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE</a> = 11;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-node-notation_node"><code>NOTATION_NODE</code></a> = 12; // historical
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-nodetype">nodeType</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-node-nodename">nodeName</a>;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-USVString">USVString</a> <a class="idl-code" href="#dom-node-baseuri">baseURI</a>;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-node-isconnected">isConnected</a>;
  readonly attribute <a class="n" href="#document">Document</a>? <a class="idl-code" href="#dom-node-ownerdocument">ownerDocument</a>;
  <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-getrootnode">getRootNode</a>(optional <a class="n" href="#dictdef-getrootnodeoptions">GetRootNodeOptions</a> <a href="#dom-node-getrootnode-options-options"><code>options</code></a> = {});
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-parentnode">parentNode</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-node-parentelement">parentElement</a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-node-haschildnodes">hasChildNodes</a>();
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#nodelist">NodeList</a> <a class="idl-code" href="#dom-node-childnodes">childNodes</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-firstchild">firstChild</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-lastchild">lastChild</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-previoussibling">previousSibling</a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-node-nextsibling">nextSibling</a>;

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-node-nodevalue">nodeValue</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-node-textcontent">textContent</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-node-normalize">normalize</a>();

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-clonenode">cloneNode</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-node-clonenode-deep-deep"><code>deep</code></a> = false);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-node-isequalnode">isEqualNode</a>(<a class="n" href="#node">Node</a>? <a href="#dom-node-isequalnode-othernode-othernode"><code>otherNode</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-node-issamenode">isSameNode</a>(<a class="n" href="#node">Node</a>? <a href="#dom-node-issamenode-othernode-othernode"><code>otherNode</code></a>); // historical alias of ===

  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a> = 0x01;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a> = 0x02;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a> = 0x04;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a> = 0x08;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a> = 0x10;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a> = 0x20;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-node-comparedocumentposition">compareDocumentPosition</a>(<a class="n" href="#node">Node</a> <a href="#dom-node-comparedocumentposition-other-other"><code>other</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-node-contains">contains</a>(<a class="n" href="#node">Node</a>? <a href="#dom-node-contains-other-other"><code>other</code></a>);

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-node-lookupprefix">lookupPrefix</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-node-lookupprefix-namespace-namespace"><code>namespace</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-node-lookupnamespaceuri">lookupNamespaceURI</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-node-lookupnamespaceuri-prefix-prefix"><code>prefix</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-node-isdefaultnamespace">isDefaultNamespace</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-node-isdefaultnamespace-namespace-namespace"><code>namespace</code></a>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-insertbefore">insertBefore</a>(<a class="n" href="#node">Node</a> <a href="#dom-node-insertbefore-node-child-node"><code>node</code></a>, <a class="n" href="#node">Node</a>? <a href="#dom-node-insertbefore-node-child-child"><code>child</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-appendchild">appendChild</a>(<a class="n" href="#node">Node</a> <a href="#dom-node-appendchild-node-node"><code>node</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-replacechild">replaceChild</a>(<a class="n" href="#node">Node</a> <a href="#dom-node-replacechild-node-child-node"><code>node</code></a>, <a class="n" href="#node">Node</a> <a href="#dom-node-replacechild-node-child-child"><code>child</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-node-removechild">removeChild</a>(<a class="n" href="#node">Node</a> <a href="#dom-node-removechild-child-child"><code>child</code></a>);
};

dictionary <a href="#dictdef-getrootnodeoptions"><code>GetRootNodeOptions</code></a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-getrootnodeoptions-composed"><code>composed</code></a> = false;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#document"><code>Document</code></a> : <a class="n" href="#node">Node</a> {
  <a class="idl-code" href="#dom-document-document">constructor</a>();

  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#domimplementation">DOMImplementation</a> <a class="idl-code" href="#dom-document-implementation">implementation</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-USVString">USVString</a> <a class="idl-code" href="#dom-document-url">URL</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-USVString">USVString</a> <a class="idl-code" href="#dom-document-documenturi">documentURI</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-document-compatmode">compatMode</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-document-characterset">characterSet</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-document-charset">charset</a>; // historical alias of .characterSet
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-document-inputencoding">inputEncoding</a>; // historical alias of .characterSet
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-document-contenttype">contentType</a>;

  readonly attribute <a class="n" href="#documenttype">DocumentType</a>? <a class="idl-code" href="#dom-document-doctype">doctype</a>;
  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-document-documentelement">documentElement</a>;
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-document-getelementsbytagname">getElementsByTagName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-getelementsbytagname-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-document-getelementsbytagnamens">getElementsByTagNameNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-document-getelementsbytagnamens-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-getelementsbytagnamens-namespace-localname-localname"><code>localName</code></a>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-document-getelementsbyclassname">getElementsByClassName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-getelementsbyclassname-classnames-classnames"><code>classNames</code></a>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#element">Element</a> <a class="idl-code" href="#dom-document-createelement">createElement</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createelement-localname-options-localname"><code>localName</code></a>, optional (<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> or <a class="n" href="#dictdef-elementcreationoptions">ElementCreationOptions</a>) <a href="#dom-document-createelement-localname-options-options"><code>options</code></a> = {});
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#element">Element</a> <a class="idl-code" href="#dom-document-createelementns">createElementNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-document-createelementns-namespace-qualifiedname-options-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createelementns-namespace-qualifiedname-options-qualifiedname"><code>qualifiedName</code></a>, optional (<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> or <a class="n" href="#dictdef-elementcreationoptions">ElementCreationOptions</a>) <a href="#dom-document-createelementns-namespace-qualifiedname-options-options"><code>options</code></a> = {});
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#documentfragment">DocumentFragment</a> <a class="idl-code" href="#dom-document-createdocumentfragment">createDocumentFragment</a>();
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#text">Text</a> <a class="idl-code" href="#dom-document-createtextnode">createTextNode</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createtextnode-data-data"><code>data</code></a>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#cdatasection">CDATASection</a> <a class="idl-code" href="#dom-document-createcdatasection">createCDATASection</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createcdatasection-data-data"><code>data</code></a>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#comment">Comment</a> <a class="idl-code" href="#dom-document-createcomment">createComment</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createcomment-data-data"><code>data</code></a>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#processinginstruction">ProcessingInstruction</a> <a class="idl-code" href="#dom-document-createprocessinginstruction">createProcessingInstruction</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createprocessinginstruction-target-data-target"><code>target</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createprocessinginstruction-target-data-data"><code>data</code></a>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-document-importnode">importNode</a>(<a class="n" href="#node">Node</a> <a href="#dom-document-importnode-node-deep-node"><code>node</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-document-importnode-node-deep-deep"><code>deep</code></a> = false);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-document-adoptnode">adoptNode</a>(<a class="n" href="#node">Node</a> <a href="#dom-document-adoptnode-node-node"><code>node</code></a>);

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-document-createattribute">createAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createattribute-localname-localname"><code>localName</code></a>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-document-createattributens">createAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-document-createattributens-namespace-qualifiedname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createattributens-namespace-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#event">Event</a> <a class="idl-code" href="#dom-document-createevent">createEvent</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-document-createevent-interface-interface"><code>interface</code></a>); // historical

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#range">Range</a> <a class="idl-code" href="#dom-document-createrange">createRange</a>();

  // NodeFilter.SHOW_ALL = 0xFFFFFFFF
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#nodeiterator">NodeIterator</a> <a class="idl-code" href="#dom-document-createnodeiterator">createNodeIterator</a>(<a class="n" href="#node">Node</a> <a href="#dom-document-createnodeiterator-root-whattoshow-filter-root"><code>root</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-document-createnodeiterator-root-whattoshow-filter-whattoshow"><code>whatToShow</code></a> = 0xFFFFFFFF, optional <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <a href="#dom-document-createnodeiterator-root-whattoshow-filter-filter"><code>filter</code></a> = null);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#treewalker">TreeWalker</a> <a class="idl-code" href="#dom-document-createtreewalker">createTreeWalker</a>(<a class="n" href="#node">Node</a> <a href="#dom-document-createtreewalker-root-whattoshow-filter-root"><code>root</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-document-createtreewalker-root-whattoshow-filter-whattoshow"><code>whatToShow</code></a> = 0xFFFFFFFF, optional <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <a href="#dom-document-createtreewalker-root-whattoshow-filter-filter"><code>filter</code></a> = null);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#xmldocument"><code>XMLDocument</code></a> : <a class="n" href="#document">Document</a> {};

dictionary <a href="#dictdef-elementcreationoptions"><code>ElementCreationOptions</code></a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-elementcreationoptions-is"><code>is</code></a>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#domimplementation"><code>DOMImplementation</code></a> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#documenttype">DocumentType</a> <a class="idl-code" href="#dom-domimplementation-createdocumenttype">createDocumentType</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domimplementation-createdocumenttype-qualifiedname-publicid-systemid-qualifiedname"><code>qualifiedName</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domimplementation-createdocumenttype-qualifiedname-publicid-systemid-publicid"><code>publicId</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domimplementation-createdocumenttype-qualifiedname-publicid-systemid-systemid"><code>systemId</code></a>);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#xmldocument">XMLDocument</a> <a class="idl-code" href="#dom-domimplementation-createdocument">createDocument</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-domimplementation-createdocument-namespace-qualifiedname-doctype-namespace"><code>namespace</code></a>, [<a class="idl-code" href="https://heycam.github.io/webidl/#LegacyNullToEmptyString">LegacyNullToEmptyString</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domimplementation-createdocument-namespace-qualifiedname-doctype-qualifiedname"><code>qualifiedName</code></a>, optional <a class="n" href="#documenttype">DocumentType</a>? <a href="#dom-domimplementation-createdocument-namespace-qualifiedname-doctype-doctype"><code>doctype</code></a> = null);
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#document">Document</a> <a class="idl-code" href="#dom-domimplementation-createhtmldocument">createHTMLDocument</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domimplementation-createhtmldocument-title-title"><code>title</code></a>);

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-domimplementation-hasfeature">hasFeature</a>(); // useless; always returns true
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#documenttype"><code>DocumentType</code></a> : <a class="n" href="#node">Node</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-documenttype-name">name</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-documenttype-publicid">publicId</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-documenttype-systemid">systemId</a>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#documentfragment"><code>DocumentFragment</code></a> : <a class="n" href="#node">Node</a> {
  <a class="idl-code" href="#dom-documentfragment-documentfragment">constructor</a>();
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#shadowroot"><code>ShadowRoot</code></a> : <a class="n" href="#documentfragment">DocumentFragment</a> {
  readonly attribute <a class="n" href="#enumdef-shadowrootmode">ShadowRootMode</a> <a class="idl-code" href="#dom-shadowroot-mode">mode</a>;
  readonly attribute <a class="n" href="#element">Element</a> <a class="idl-code" href="#dom-shadowroot-host">host</a>;
  attribute <a class="n" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" href="#dom-shadowroot-onslotchange">onslotchange</a>;
};

enum <a href="#enumdef-shadowrootmode"><code>ShadowRootMode</code></a> { <a href="#dom-shadowrootmode-open"><code>"open"</code></a>, <a href="#dom-shadowrootmode-closed"><code>"closed"</code></a> };

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#element"><code>Element</code></a> : <a class="n" href="#node">Node</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-element-namespaceuri">namespaceURI</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-element-prefix">prefix</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-element-localname">localName</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-element-tagname">tagName</a>;

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-element-id">id</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-element-classname">className</a>;
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#PutForwards">PutForwards</a>=<a class="idl-code" href="#dom-domtokenlist-value">value</a>] readonly attribute <a class="n" href="#domtokenlist">DOMTokenList</a> <a class="idl-code" href="#dom-element-classlist">classList</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#Unscopable">Unscopable</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-element-slot">slot</a>;

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-element-hasattributes">hasAttributes</a>();
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#namednodemap">NamedNodeMap</a> <a class="idl-code" href="#dom-element-attributes">attributes</a>;
  sequence&lt;<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>> <a class="idl-code" href="#dom-element-getattributenames">getAttributeNames</a>();
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-element-getattribute">getAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-getattribute-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-element-getattributens">getAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-element-getattributens-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-getattributens-namespace-localname-localname"><code>localName</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-element-setattribute">setAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-setattribute-qualifiedname-value-qualifiedname"><code>qualifiedName</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-setattribute-qualifiedname-value-value"><code>value</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-element-setattributens">setAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-element-setattributens-namespace-qualifiedname-value-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-setattributens-namespace-qualifiedname-value-qualifiedname"><code>qualifiedName</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-setattributens-namespace-qualifiedname-value-value"><code>value</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-element-removeattribute">removeAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-removeattribute-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-element-removeattributens">removeAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-element-removeattributens-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-removeattributens-namespace-localname-localname"><code>localName</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-element-toggleattribute">toggleAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-toggleattribute-qualifiedname-force-qualifiedname"><code>qualifiedName</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-element-toggleattribute-qualifiedname-force-force"><code>force</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-element-hasattribute">hasAttribute</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-hasattribute-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-element-hasattributens">hasAttributeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-element-hasattributens-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-hasattributens-namespace-localname-localname"><code>localName</code></a>);

  <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-getattributenode">getAttributeNode</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-getattributenode-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-getattributenodens">getAttributeNodeNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-element-getattributenodens-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-getattributenodens-namespace-localname-localname"><code>localName</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-setattributenode">setAttributeNode</a>(<a class="n" href="#attr">Attr</a> <a href="#dom-element-setattributenode-attr-attr"><code>attr</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-element-setattributenodens">setAttributeNodeNS</a>(<a class="n" href="#attr">Attr</a> <a href="#dom-element-setattributenodens-attr-attr"><code>attr</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-element-removeattributenode">removeAttributeNode</a>(<a class="n" href="#attr">Attr</a> <a href="#dom-element-removeattributenode-attr-attr"><code>attr</code></a>);

  <a class="n" href="#shadowroot">ShadowRoot</a> <a class="idl-code" href="#dom-element-attachshadow">attachShadow</a>(<a class="n" href="#dictdef-shadowrootinit">ShadowRootInit</a> <a href="#dom-element-attachshadow-init-init"><code>init</code></a>);
  readonly attribute <a class="n" href="#shadowroot">ShadowRoot</a>? <a class="idl-code" href="#dom-element-shadowroot">shadowRoot</a>;

  <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-element-closest">closest</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-closest-selectors-selectors"><code>selectors</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-element-matches">matches</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-matches-selectors-selectors"><code>selectors</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-element-webkitmatchesselector">webkitMatchesSelector</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-webkitmatchesselector-selectors-selectors"><code>selectors</code></a>); // historical alias of .matches

  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-element-getelementsbytagname">getElementsByTagName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-getelementsbytagname-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-element-getelementsbytagnamens">getElementsByTagNameNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-element-getelementsbytagnamens-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-getelementsbytagnamens-namespace-localname-localname"><code>localName</code></a>);
  <a class="n" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" href="#dom-element-getelementsbyclassname">getElementsByClassName</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-getelementsbyclassname-classnames-classnames"><code>classNames</code></a>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-element-insertadjacentelement">insertAdjacentElement</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-insertadjacentelement-where-element-where"><code>where</code></a>, <a class="n" href="#element">Element</a> <a href="#dom-element-insertadjacentelement-where-element-element"><code>element</code></a>); // historical
  void <a class="idl-code" href="#dom-element-insertadjacenttext">insertAdjacentText</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-insertadjacenttext-where-data-where"><code>where</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-element-insertadjacenttext-where-data-data"><code>data</code></a>); // historical
};

dictionary <a href="#dictdef-shadowrootinit"><code>ShadowRootInit</code></a> {
  required <a class="n" href="#enumdef-shadowrootmode">ShadowRootMode</a> <a href="#dom-shadowrootinit-mode"><code>mode</code></a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-shadowrootinit-delegatesfocus"><code>delegatesFocus</code></a> = false;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window,
 <a class="idl-code" href="https://heycam.github.io/webidl/#LegacyUnenumerableNamedProperties">LegacyUnenumerableNamedProperties</a>]
interface <a href="#namednodemap"><code>NamedNodeMap</code></a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-namednodemap-length">length</a>;
  getter <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-namednodemap-item-index-index"><code>index</code></a>);
  getter <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-getnameditem">getNamedItem</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-namednodemap-getnameditem-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-getnameditemns">getNamedItemNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-namednodemap-getnameditemns-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-namednodemap-getnameditemns-namespace-localname-localname"><code>localName</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-setnameditem">setNamedItem</a>(<a class="n" href="#attr">Attr</a> <a href="#dom-namednodemap-setnameditem-attr-attr"><code>attr</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#attr">Attr</a>? <a class="idl-code" href="#dom-namednodemap-setnameditemns">setNamedItemNS</a>(<a class="n" href="#attr">Attr</a> <a href="#dom-namednodemap-setnameditemns-attr-attr"><code>attr</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-namednodemap-removenameditem">removeNamedItem</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-namednodemap-removenameditem-qualifiedname-qualifiedname"><code>qualifiedName</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="n" href="#attr">Attr</a> <a class="idl-code" href="#dom-namednodemap-removenameditemns">removeNamedItemNS</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-namednodemap-removenameditemns-namespace-localname-namespace"><code>namespace</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-namednodemap-removenameditemns-namespace-localname-localname"><code>localName</code></a>);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#attr"><code>Attr</code></a> : <a class="n" href="#node">Node</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-attr-namespaceuri">namespaceURI</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-attr-prefix">prefix</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-attr-localname">localName</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-attr-name">name</a>;
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-attr-value">value</a>;

  readonly attribute <a class="n" href="#element">Element</a>? <a class="idl-code" href="#dom-attr-ownerelement">ownerElement</a>;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-attr-specified">specified</a>; // useless; always returns true
};
[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#characterdata"><code>CharacterData</code></a> : <a class="n" href="#node">Node</a> {
  attribute [<a class="idl-code" href="https://heycam.github.io/webidl/#LegacyNullToEmptyString">LegacyNullToEmptyString</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-characterdata-data">data</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-characterdata-length">length</a>;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-characterdata-substringdata">substringData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-characterdata-substringdata-offset-count-offset"><code>offset</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-characterdata-substringdata-offset-count-count"><code>count</code></a>);
  void <a class="idl-code" href="#dom-characterdata-appenddata">appendData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-characterdata-appenddata-data-data"><code>data</code></a>);
  void <a class="idl-code" href="#dom-characterdata-insertdata">insertData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-characterdata-insertdata-offset-data-offset"><code>offset</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-characterdata-insertdata-offset-data-data"><code>data</code></a>);
  void <a class="idl-code" href="#dom-characterdata-deletedata">deleteData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-characterdata-deletedata-offset-count-offset"><code>offset</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-characterdata-deletedata-offset-count-count"><code>count</code></a>);
  void <a class="idl-code" href="#dom-characterdata-replacedata">replaceData</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-characterdata-replacedata-offset-count-data-offset"><code>offset</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-characterdata-replacedata-offset-count-data-count"><code>count</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-characterdata-replacedata-offset-count-data-data"><code>data</code></a>);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#text"><code>Text</code></a> : <a class="n" href="#characterdata">CharacterData</a> {
  <a class="idl-code" href="#dom-text-text">constructor</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-text-text-data-data"><code>data</code></a> = "");

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#text">Text</a> <a class="idl-code" href="#dom-text-splittext">splitText</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-text-splittext-offset-offset"><code>offset</code></a>);
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-text-wholetext">wholeText</a>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#cdatasection"><code>CDATASection</code></a> : <a class="n" href="#text">Text</a> {
};
[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#processinginstruction"><code>ProcessingInstruction</code></a> : <a class="n" href="#characterdata">CharacterData</a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-processinginstruction-target">target</a>;
};
[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#comment"><code>Comment</code></a> : <a class="n" href="#characterdata">CharacterData</a> {
  <a class="idl-code" href="#dom-comment-comment">constructor</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-comment-comment-data-data"><code>data</code></a> = "");
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#abstractrange"><code>AbstractRange</code></a> {
  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-range-startcontainer">startContainer</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-range-startoffset">startOffset</a>;
  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-range-endcontainer">endContainer</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-range-endoffset">endOffset</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-range-collapsed">collapsed</a>;
};

dictionary <a href="#dictdef-staticrangeinit"><code>StaticRangeInit</code></a> {
  required <a class="n" href="#node">Node</a> <a href="#dom-staticrangeinit-startcontainer"><code>startContainer</code></a>;
  required <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-staticrangeinit-startoffset"><code>startOffset</code></a>;
  required <a class="n" href="#node">Node</a> <a href="#dom-staticrangeinit-endcontainer"><code>endContainer</code></a>;
  required <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-staticrangeinit-endoffset"><code>endOffset</code></a>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#staticrange"><code>StaticRange</code></a> : <a class="n" href="#abstractrange">AbstractRange</a> {
  <a class="idl-code" href="#dom-staticrange-staticrange">constructor</a>(<a class="n" href="#dictdef-staticrangeinit">StaticRangeInit</a> <a href="#dom-staticrange-staticrange-init-init"><code>init</code></a>);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#range"><code>Range</code></a> : <a class="n" href="#abstractrange">AbstractRange</a> {
  <a class="idl-code" href="#dom-range-range">constructor</a>();

  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-range-commonancestorcontainer">commonAncestorContainer</a>;

  void <a class="idl-code" href="#dom-range-setstart">setStart</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-setstart-node-offset-node"><code>node</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-range-setstart-node-offset-offset"><code>offset</code></a>);
  void <a class="idl-code" href="#dom-range-setend">setEnd</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-setend-node-offset-node"><code>node</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-range-setend-node-offset-offset"><code>offset</code></a>);
  void <a class="idl-code" href="#dom-range-setstartbefore">setStartBefore</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-setstartbefore-node-node"><code>node</code></a>);
  void <a class="idl-code" href="#dom-range-setstartafter">setStartAfter</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-setstartafter-node-node"><code>node</code></a>);
  void <a class="idl-code" href="#dom-range-setendbefore">setEndBefore</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-setendbefore-node-node"><code>node</code></a>);
  void <a class="idl-code" href="#dom-range-setendafter">setEndAfter</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-setendafter-node-node"><code>node</code></a>);
  void <a class="idl-code" href="#dom-range-collapse">collapse</a>(optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-range-collapse-tostart-tostart"><code>toStart</code></a> = false);
  void <a class="idl-code" href="#dom-range-selectnode">selectNode</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-selectnode-node-node"><code>node</code></a>);
  void <a class="idl-code" href="#dom-range-selectnodecontents">selectNodeContents</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-selectnodecontents-node-node"><code>node</code></a>);

  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-range-start_to_start"><code>START_TO_START</code></a> = 0;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-range-start_to_end"><code>START_TO_END</code></a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-range-end_to_end"><code>END_TO_END</code></a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-range-end_to_start"><code>END_TO_START</code></a> = 3;
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-short">short</a> <a class="idl-code" href="#dom-range-compareboundarypoints">compareBoundaryPoints</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-range-compareboundarypoints-how-sourcerange-how"><code>how</code></a>, <a class="n" href="#range">Range</a> <a href="#dom-range-compareboundarypoints-how-sourcerange-sourcerange"><code>sourceRange</code></a>);

  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-range-deletecontents">deleteContents</a>();
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#documentfragment">DocumentFragment</a> <a class="idl-code" href="#dom-range-extractcontents">extractContents</a>();
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>, <a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#documentfragment">DocumentFragment</a> <a class="idl-code" href="#dom-range-clonecontents">cloneContents</a>();
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-range-insertnode">insertNode</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-insertnode-node-node"><code>node</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-range-surroundcontents">surroundContents</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-surroundcontents-newparent-newparent"><code>newParent</code></a>);

  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#range">Range</a> <a class="idl-code" href="#dom-range-clonerange">cloneRange</a>();
  void <a class="idl-code" href="#dom-range-detach">detach</a>();

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-range-ispointinrange">isPointInRange</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-ispointinrange-node-offset-node"><code>node</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-range-ispointinrange-node-offset-offset"><code>offset</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-short">short</a> <a class="idl-code" href="#dom-range-comparepoint">comparePoint</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-comparepoint-node-offset-node"><code>node</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-range-comparepoint-node-offset-offset"><code>offset</code></a>);

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-range-intersectsnode">intersectsNode</a>(<a class="n" href="#node">Node</a> <a href="#dom-range-intersectsnode-node-node"><code>node</code></a>);

  <a href="#dom-range-stringifier">stringifier</a>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#nodeiterator"><code>NodeIterator</code></a> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-nodeiterator-root">root</a>;
  readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-nodeiterator-referencenode">referenceNode</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodeiterator-whattoshow">whatToShow</a>;
  readonly attribute <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" href="#dom-nodeiterator-filter">filter</a>;

  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-nodeiterator-nextnode">nextNode</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-nodeiterator-previousnode">previousNode</a>();

  void <a class="idl-code" href="#dom-nodeiterator-detach">detach</a>();
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#treewalker"><code>TreeWalker</code></a> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] readonly attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-treewalker-root">root</a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-treewalker-whattoshow">whatToShow</a>;
  readonly attribute <a class="n" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" href="#dom-treewalker-filter">filter</a>;
           attribute <a class="n" href="#node">Node</a> <a class="idl-code" href="#dom-treewalker-currentnode">currentNode</a>;

  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-parentnode">parentNode</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-firstchild">firstChild</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-lastchild">lastChild</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-previoussibling">previousSibling</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-nextsibling">nextSibling</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-previousnode">previousNode</a>();
  <a class="n" href="#node">Node</a>? <a class="idl-code" href="#dom-treewalker-nextnode">nextNode</a>();
};
[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
callback interface <a href="#callbackdef-nodefilter"><code>NodeFilter</code></a> {
  // Constants for acceptNode()
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-nodefilter-filter_reject">FILTER_REJECT</a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a class="idl-code" href="#dom-nodefilter-filter_skip">FILTER_SKIP</a> = 3;

  // Constants for whatToShow
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_all">SHOW_ALL</a> = 0xFFFFFFFF;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_element">SHOW_ELEMENT</a> = 0x1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_attribute">SHOW_ATTRIBUTE</a> = 0x2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_text">SHOW_TEXT</a> = 0x4;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_cdata_section">SHOW_CDATA_SECTION</a> = 0x8;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-nodefilter-show_entity_reference"><code>SHOW_ENTITY_REFERENCE</code></a> = 0x10; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-nodefilter-show_entity"><code>SHOW_ENTITY</code></a> = 0x20; // historical
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_processing_instruction">SHOW_PROCESSING_INSTRUCTION</a> = 0x40;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_comment">SHOW_COMMENT</a> = 0x80;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_document">SHOW_DOCUMENT</a> = 0x100;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_document_type">SHOW_DOCUMENT_TYPE</a> = 0x200;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-nodefilter-show_document_fragment">SHOW_DOCUMENT_FRAGMENT</a> = 0x400;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-nodefilter-show_notation"><code>SHOW_NOTATION</code></a> = 0x800; // historical

  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-nodefilter-acceptnode"><code>acceptNode</code></a>(<a class="n" href="#node">Node</a> <a href="#dom-nodefilter-acceptnode-node-node"><code>node</code></a>);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#domtokenlist"><code>DOMTokenList</code></a> {
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a class="idl-code" href="#dom-domtokenlist-length">length</a>;
  getter <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a class="idl-code" href="#dom-domtokenlist-item">item</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-domtokenlist-item-index-index"><code>index</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-domtokenlist-contains">contains</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domtokenlist-contains-token-token"><code>token</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-domtokenlist-add">add</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>... <a href="#dom-domtokenlist-add-tokens-tokens"><code>tokens</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] void <a class="idl-code" href="#dom-domtokenlist-remove">remove</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>... <a href="#dom-domtokenlist-remove-tokens-tokens"><code>tokens</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-domtokenlist-toggle">toggle</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domtokenlist-toggle-token-force-token"><code>token</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-domtokenlist-toggle-token-force-force"><code>force</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-domtokenlist-replace">replace</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domtokenlist-replace-token-newtoken-token"><code>token</code></a>, <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domtokenlist-replace-token-newtoken-newtoken"><code>newToken</code></a>);
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a class="idl-code" href="#dom-domtokenlist-supports">supports</a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-domtokenlist-supports-token-token"><code>token</code></a>);
  [<a class="idl-code" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions">CEReactions</a>] <a href="#DOMTokenList-stringification-behavior">stringifier</a> attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a class="idl-code" href="#dom-domtokenlist-value">value</a>;
  iterable&lt;<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>>;
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#xpathresult"><code>XPathResult</code></a> {
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-any_type"><code>ANY_TYPE</code></a> = 0;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-number_type"><code>NUMBER_TYPE</code></a> = 1;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-string_type"><code>STRING_TYPE</code></a> = 2;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-boolean_type"><code>BOOLEAN_TYPE</code></a> = 3;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-unordered_node_iterator_type"><code>UNORDERED_NODE_ITERATOR_TYPE</code></a> = 4;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-ordered_node_iterator_type"><code>ORDERED_NODE_ITERATOR_TYPE</code></a> = 5;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-unordered_node_snapshot_type"><code>UNORDERED_NODE_SNAPSHOT_TYPE</code></a> = 6;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-ordered_node_snapshot_type"><code>ORDERED_NODE_SNAPSHOT_TYPE</code></a> = 7;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-any_unordered_node_type"><code>ANY_UNORDERED_NODE_TYPE</code></a> = 8;
  const <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-first_ordered_node_type"><code>FIRST_ORDERED_NODE_TYPE</code></a> = 9;

  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathresult-resulttype"><code>resultType</code></a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unrestricted-double">unrestricted double</a> <a href="#dom-xpathresult-numbervalue"><code>numberValue</code></a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-xpathresult-stringvalue"><code>stringValue</code></a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-xpathresult-booleanvalue"><code>booleanValue</code></a>;
  readonly attribute <a class="n" href="#node">Node</a>? <a href="#dom-xpathresult-singlenodevalue"><code>singleNodeValue</code></a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> <a href="#dom-xpathresult-invaliditeratorstate"><code>invalidIteratorState</code></a>;
  readonly attribute <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-xpathresult-snapshotlength"><code>snapshotLength</code></a>;

  <a class="n" href="#node">Node</a>? <a href="#dom-xpathresult-iteratenext"><code>iterateNext</code></a>();
  <a class="n" href="#node">Node</a>? <a href="#dom-xpathresult-snapshotitem"><code>snapshotItem</code></a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> <a href="#dom-xpathresult-snapshotitem-index-index"><code>index</code></a>);
};

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#xpathexpression"><code>XPathExpression</code></a> {
  // XPathResult.ANY_TYPE = 0
  <a class="n" href="#xpathresult">XPathResult</a> <a href="#dom-xpathexpression-evaluate"><code>evaluate</code></a>(<a class="n" href="#node">Node</a> <a href="#dom-xpathexpression-evaluate-contextnode-type-result-contextnode"><code>contextNode</code></a>, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathexpression-evaluate-contextnode-type-result-type"><code>type</code></a> = 0, optional <a class="n" href="#xpathresult">XPathResult</a>? <a href="#dom-xpathexpression-evaluate-contextnode-type-result-result"><code>result</code></a> = null);
};

callback interface <a href="#callbackdef-xpathnsresolver"><code>XPathNSResolver</code></a> {
  <a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-xpathnsresolver-lookupnamespaceuri"><code>lookupNamespaceURI</code></a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>? <a href="#dom-xpathnsresolver-lookupnamespaceuri-prefix-prefix"><code>prefix</code></a>);
};

interface mixin <a href="#xpathevaluatorbase"><code>XPathEvaluatorBase</code></a> {
  [<a class="idl-code" href="https://heycam.github.io/webidl/#NewObject">NewObject</a>] <a class="n" href="#xpathexpression">XPathExpression</a> <a href="#dom-xpathevaluatorbase-createexpression"><code>createExpression</code></a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-xpathevaluatorbase-createexpression-expression-resolver-expression"><code>expression</code></a>, optional <a class="n" href="#callbackdef-xpathnsresolver">XPathNSResolver</a>? <a href="#dom-xpathevaluatorbase-createexpression-expression-resolver-resolver"><code>resolver</code></a> = null);
  <a class="n" href="#callbackdef-xpathnsresolver">XPathNSResolver</a> <a href="#dom-xpathevaluatorbase-creatensresolver"><code>createNSResolver</code></a>(<a class="n" href="#node">Node</a> <a href="#dom-xpathevaluatorbase-creatensresolver-noderesolver-noderesolver"><code>nodeResolver</code></a>);
  // XPathResult.ANY_TYPE = 0
  <a class="n" href="#xpathresult">XPathResult</a> <a href="#dom-xpathevaluatorbase-evaluate"><code>evaluate</code></a>(<a class="idl-code" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> <a href="#dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-expression"><code>expression</code></a>, <a class="n" href="#node">Node</a> <a href="#dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-contextnode"><code>contextNode</code></a>, optional <a class="n" href="#callbackdef-xpathnsresolver">XPathNSResolver</a>? <a href="#dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-resolver"><code>resolver</code></a> = null, optional <a class="idl-code" href="https://heycam.github.io/webidl/#idl-unsigned-short">unsigned short</a> <a href="#dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-type"><code>type</code></a> = 0, optional <a class="n" href="#xpathresult">XPathResult</a>? <a href="#dom-xpathevaluatorbase-evaluate-expression-contextnode-resolver-type-result-result"><code>result</code></a> = null);
};
<a class="n" href="#document">Document</a> includes <a class="n" href="#xpathevaluatorbase">XPathEvaluatorBase</a>;

[<a class="idl-code" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=Window]
interface <a href="#xpathevaluator"><code>XPathEvaluator</code></a> {
  <a href="#dom-xpathevaluator-xpathevaluator"><code>constructor</code></a>();
};

<a class="n" href="#xpathevaluator">XPathEvaluator</a> includes <a class="n" href="#xpathevaluatorbase">XPathEvaluatorBase</a>;

</pre>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>